import{C as c}from"./cesium-navigation-es6-FpvnhzaV.js";import{d as h,r as y,l as _,c as x,a as m,aw as w,ax as E,o as S}from"./@vue-1pEateLc.js";import{_ as D}from"./plugin-vueexport-helper-x3n3nnut.js";const T="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20class='icon'%20viewBox='0%200%201034%201024'%20version='1.1'%20p-id='10262'%20height='128'%20width='128'%3e%3cpath%20d='M1011.982%20842.518L606.673%20140.565c-49.575-85.822-130.595-85.822-180.157%200L21.205%20842.518c-49.562%2085.91-9.015%20155.99%2090.04%20155.99h810.693c99.059-0.001%20139.564-70.085%2090.044-155.99zM460.924%20339.737c14.565-15.747%2033.082-23.622%2055.665-23.622%2022.595%200%2041.095%207.792%2055.675%2023.307%2014.485%2015.55%2021.725%2034.997%2021.725%2058.382%200%2020.12-30.235%20168.07-40.32%20275.704h-72.825c-8.845-107.635-41.652-255.584-41.652-275.704%200.002-23.03%207.254-42.397%2021.732-58.067z%20m110.32%20511.801c-15.32%2014.92-33.55%2022.355-54.65%2022.355-21.095%200-39.33-7.435-54.647-22.355-15.275-14.885-22.867-32.915-22.867-54.09%200-21.065%207.592-39.29%2022.867-54.565%2015.317-15.28%2033.552-22.92%2054.647-22.92%2021.1%200%2039.33%207.64%2054.65%2022.92%2015.265%2015.275%2022.875%2033.5%2022.875%2054.565%200%2021.175-7.61%2039.205-22.875%2054.09z'%20fill='%23F76160'%20p-id='10263'/%3e%3c/svg%3e",I=o=>(w("data-v-f766160b"),o=o(),E(),o),B={class:"cesium"},L=I(()=>m("div",{id:"cesium-container"},null,-1)),M={name:"Cesium"},N=h({...M,setup(o){let e;const s=y(),u=async()=>{e=new Cesium.Viewer("cesium-container",{geocoder:!1,sceneModePicker:!1,baseLayerPicker:!1,navigationHelpButton:!1,homeButton:!1,animation:!1,fullscreenButton:!1,timeline:!1,scene3DOnly:!0,infoBox:!0,requestRenderMode:!0,sceneMode:Cesium.SceneMode.SCENE3D,baseLayer:new Cesium.ImageryLayer(new Cesium.UrlTemplateImageryProvider({url:"https://webst02.is.autonavi.com/appmaptile?style=6&x={x}&y={y}&z={z}"}))}),e.scene.screenSpaceCameraController.minimumZoomDistance=200,e.scene.screenSpaceCameraController.maximumZoomDistance=1e6,e.cesiumWidget.creditContainer.style.display="none",e.camera.setView({destination:Cesium.Cartesian3.fromDegrees(104.045034,30.540885,1e3)});const i={duration:1,enableCompass:!0,enableZoomControls:!0,enableDistanceLegend:!0,enableCompassOuterRing:!0,resetTooltip:"重置视图",zoomInTooltip:"放大",zoomOutTooltip:"缩小"};console.log(c),new c(e,i),d(),p(),C()},d=()=>{const i=[{id:"1",latitude:30.54037,longitude:104.060738,psName:"有限公司1"},{id:"2",latitude:30.540812,longitude:104.075105,psName:"有限公司2"},{id:"3",latitude:30.574852,longitude:104.065799,psName:"有限公司3"}];e.entities.removeAll(),i.forEach(t=>{e.entities.add({name:t.psName,id:t.id,position:Cesium.Cartesian3.fromDegrees(t.longitude,t.latitude,40),point:{pixelSize:5,color:Cesium.Color.RED,outlineColor:Cesium.Color.WHITE,outlineWidth:2},label:{text:t.psName,font:"16px monospace",fillColor:Cesium.Color.WHITE,verticalOrigin:Cesium.VerticalOrigin.BOTTOM,pixelOffset:new Cesium.Cartesian2(0,-20)},billboard:{image:T,width:40,height:40}}),e.entities.add({name:t.psName,position:Cesium.Cartesian3.fromDegrees(t.longitude,t.latitude,0),polyline:{positions:Cesium.Cartesian3.fromDegreesArrayHeights([t.longitude,t.latitude,0,t.longitude,t.latitude,40]),width:1,material:Cesium.Color.fromCssColorString("#108de7")}})})},p=()=>{const i=Cesium.Cartesian3.fromDegrees(104.045034,30.540885,250);e.entities.add({name:"box",position:i,box:{dimensions:new Cesium.Cartesian3(80,80,500),material:Cesium.Color.RED.withAlpha(.5),outline:!0,outlineColor:Cesium.Color.BLACK,heightReference:Cesium.HeightReference.RELATIVE_TO_GROUND}})},C=()=>{e.screenSpaceEventHandler.setInputAction(i=>{const t=e.camera.pickEllipsoid(i.position,e.scene.globe.ellipsoid),r=Cesium.Cartographic.fromCartesian(t),f=Cesium.Math.toDegrees(r.longitude),g=Cesium.Math.toDegrees(r.latitude),n=e.scene.pick(i.position);if(n&&n.id){s.value.style.display="block",s.value.style.left=`${i.position.x}px`,s.value.style.top=`${i.position.y}px`,s.value.innerHTML=`${n.id.name}`;const l=new Cesium.BoundingSphere(Cesium.Cartesian3.fromDegrees(f,g,100),1e3);e.camera.flyToBoundingSphere(l)}else s.value.style.display="none";e.scene.preRender.addEventListener(l=>{var v=new Cesium.Cartesian2,a=e.scene.cartesianToCanvasCoordinates(t,v);a&&(s.value.style.left=`${a.x}px`,s.value.style.top=`${a.y}px`)})},Cesium.ScreenSpaceEventType.LEFT_CLICK),e.screenSpaceEventHandler.setInputAction(i=>{const t=e.scene.pick(i.endPosition);t&&t.id?e._container.style.cursor="pointer":e._container.style.cursor="default"},Cesium.ScreenSpaceEventType.MOUSE_MOVE)};return _(()=>{u()}),(i,t)=>(S(),x("div",B,[L,m("div",{class:"tooltips",ref_key:"tooltips",ref:s},"1",512)]))}}),H=D(N,[["__scopeId","data-v-f766160b"]]);export{H as default};
