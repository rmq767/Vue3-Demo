import{S,P as C,W as M,d as b,e as v,a as p,f as y,h as A,D as k,g as D,A as G,O as H}from"./three-BSxcMKmm.js";import{d as P,r as B,k as L,X as W,c as E,a as z,o as I}from"./@vue-DtXbQ2UY.js";import{_ as O}from"./plugin-vueexport-helper-DlAUqK2U.js";const j={class:"three"},q={name:"Demo"},F=P({...q,setup(N){const e={scene:null,camera:null,renderder:null,controller:null},d=B();let o;const w=()=>{const a=d.value;e.scene=new S,e.camera=new C(75,window.innerWidth/window.innerHeight,.1,2e3),e.camera.position.set(2,2,5),e.camera.lookAt(0,0,0),e.renderder=new M({antialias:!0}),e.renderder.shadowMap.enabled=!0,e.renderder.setSize(a.offsetWidth,a.offsetHeight),u(),f(),_(),a.appendChild(e.renderder.domElement),e.renderder.render(e.scene,e.camera),c()},u=()=>{var i,l,m,h;const a=new b(1,32,32),n=new v({}),s=new p(a,n);s.position.set(0,0,0),s.castShadow=!0,(i=e.scene)==null||i.add(s);const g=new y(10,10),t=new p(g,n);t.position.set(0,-1,0),t.rotation.x=-Math.PI/2,t.receiveShadow=!0,(l=e.scene)==null||l.add(t);const x=new A(16777215,1);(m=e.scene)==null||m.add(x);const r=new k(16777215,1);r.position.set(10,10,10),r.shadow.radius=20,r.shadow.mapSize.set(2048,2048),r.castShadow=!0,r.shadow.camera.near=.5,r.shadow.camera.far=500,r.shadow.camera.left=-5,r.shadow.camera.right=5,r.shadow.camera.top=5,r.shadow.camera.bottom=-5,(h=e.scene)==null||h.add(r),o=new D,o.add(r.shadow.camera,"near").min(0).max(32).step(.01).name("阴影相机 near").onChange(()=>{r.shadow.camera.updateProjectionMatrix()})},f=()=>{var n;const a=new G(10);(n=e.scene)==null||n.add(a)},_=()=>{var a;e.controller=new H(e.camera,(a=e.renderder)==null?void 0:a.domElement)},c=()=>{var a,n;(a=e.controller)==null||a.update(),(n=e.renderder)==null||n.render(e.scene,e.camera),requestAnimationFrame(c)};return L(()=>{w()}),W(()=>{o.destroy()}),(a,n)=>(I(),E("div",j,[z("div",{class:"three-demo",ref_key:"threeDemo",ref:d},null,512)]))}}),V=O(F,[["__scopeId","data-v-1d4bf5c9"]]);export{V as default};
