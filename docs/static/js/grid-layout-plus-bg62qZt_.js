import{d as Ye,p as De,r as de,e as ce,H as nt,a2 as Xe,k as Ge,h as st,X as Pe,b as ae,w as b,c as fe,o as re,C as we,L as lt,E as He,D as Ve,n as G,A as Le,af as Ne,K as ut,Q as gt,a6 as dt,I as ct,J as ft,F as mt,S as ht,R as pt}from"./@vue-AhIeOBdH.js";import{i as H,o as B,e as Ee,w as yt,Z as vt,n as wt}from"./@vexip-ui-DVxdWYzt.js";import{S as Te}from"./interactjs-DawcUxR_.js";const je=Symbol("LAYOUT_KEY"),Ke=Symbol("EMITTER_KEY");function bt(r){let i=0,n;for(let t=0,s=r.length;t<s;t++)n=r[t].y+r[t].h,n>i&&(i=n);return i}function be(r){const i=Array(r.length);for(let n=0,t=r.length;n<t;n++)i[n]=xt(r[n]);return i}function xt(r){return{...r}}function Ue(r,i){return!(r===i||r.x+r.w<=i.x||r.x>=i.x+i.w||r.y+r.h<=i.y||r.y>=i.y+i.h)}function U(r,i,n){const t=Je(r),s=Ze(r),a=Array(r.length);for(let g=0,u=s.length;g<u;g++){let e=s[g];e.static||(e=zt(t,e,i,n),t.push(e)),a[r.findIndex(C=>C.i===e.i)]=e,e.moved=!1}return a}function zt(r,i,n,t){if(n)for(;i.y>0&&!ie(r,i);)i.y--;else if(t){const a=t[i.i].y;for(;i.y>a&&!ie(r,i);)i.y--}let s;for(;s=ie(r,i);)i.y=s.y+s.h;return i}function St(r,i){const n=Je(r);for(let t=0,s=r.length;t<s;t++){const a=r[t];if(a.x+a.w>i.cols&&(a.x=i.cols-a.w),a.x<0&&(a.x=0,a.w=i.cols),!a.static)n.push(a);else for(;ie(n,a);)a.y++}return r}function We(r,i){for(let n=0,t=r.length;n<t;n++)if(r[n].i===i)return r[n]}function ie(r,i){for(let n=0,t=r.length;n<t;n++)if(Ue(r[n],i))return r[n]}function qe(r,i){return r.filter(n=>Ue(n,i))}function Je(r){return r.filter(i=>i.static)}function xe(r,i,n,t,s=!1,a=!1){if(i.static)return r;const g=i.x,u=i.y,e=t&&i.y>t;typeof n=="number"&&(i.x=n),typeof t=="number"&&(i.y=t),i.moved=!0;let C=Ze(r);e&&(C=C.reverse());const L=qe(C,i);if(a&&L.length)return i.x=g,i.y=u,i.moved=!1,r;for(let h=0,F=L.length;h<F;h++){const k=L[h];k.moved||i.y>k.y&&i.y-k.y>k.h/4||(k.static?r=_e(r,k,i,s):r=_e(r,i,k,s))}return r}function _e(r,i,n,t){if(t){const s={x:n.x,y:n.y,w:n.w,h:n.h};if(s.y=Math.max(i.y-n.h,0),!ie(r,s))return xe(r,n,void 0,s.y,!1)}return xe(r,n,void 0,n.y+1,!1)}function Rt(r,i,n,t){const s="translate3d("+i+"px,"+r+"px, 0)";return{transform:s,WebkitTransform:s,MozTransform:s,msTransform:s,OTransform:s,width:n+"px",height:t+"px",position:"absolute"}}function Bt(r,i,n,t){const s="translate3d("+i*-1+"px,"+r+"px, 0)";return{transform:s,WebkitTransform:s,MozTransform:s,msTransform:s,OTransform:s,width:n+"px",height:t+"px",position:"absolute"}}function Ct(r,i,n,t){return{top:r+"px",left:i+"px",width:n+"px",height:t+"px",position:"absolute"}}function kt(r,i,n,t){return{top:r+"px",right:i+"px",width:n+"px",height:t+"px",position:"absolute"}}function Ze(r){return Array.from(r).sort(function(i,n){return i.y===n.y&&i.x===n.x?0:i.y>n.y||i.y===n.y&&i.x>n.x?1:-1})}function Mt(r,i){i=i||"Layout";const n=["x","y","w","h"],t=[];if(!Array.isArray(r))throw new Error(i+" must be an array!");for(let s=0,a=r.length;s<a;s++){const g=r[s];for(let u=0;u<n.length;u++)if(typeof g[n[u]]!="number")throw new Error("VueGridLayout: "+i+"["+s+"]."+n[u]+" must be a number!");if(g.i===void 0||g.i===null)throw new Error("VueGridLayout: "+i+"["+s+"].i cannot be null!");if(typeof g.i!="number"&&typeof g.i!="string")throw new Error("VueGridLayout: "+i+"["+s+"].i must be a string or number!");if(t.indexOf(g.i)>=0)throw new Error("VueGridLayout: "+i+"["+s+"].i must be unique!");if(t.push(g.i),g.static!==void 0&&typeof g.static!="boolean")throw new Error("VueGridLayout: "+i+"["+s+"].static must be a boolean!")}}function $t(r,i="vgl"){const n=()=>`${i}-${r}`;return{b:n,be:t=>`${n()}__${t}`,bm:t=>`${n()}--${t}`,bem:(t,s)=>`${n()}__${t}--${s}`}}function Ae(r){return Dt(r)}function Dt(r){var i;const n=((i=r.target)==null?void 0:i.offsetParent)||document.body,t=r.offsetParent===document.body?{left:0,top:0}:n.getBoundingClientRect(),s=r.clientX+n.scrollLeft-t.left,a=r.clientY+n.scrollTop-t.top;return{x:s,y:a}}function Fe(r,i,n,t){return Ht(r)?{deltaX:n-r,deltaY:t-i,lastX:r,lastY:i,x:n,y:t}:{deltaX:0,deltaY:0,lastX:n,lastY:t,x:n,y:t}}function Ht(r){return typeof r=="number"&&!Number.isNaN(r)}function Lt(r,i){const n=et(r);let t=n[0];for(let s=1,a=n.length;s<a;s++){const g=n[s];i>r[g]&&(t=g)}return t}function Qe(r,i){if(!i[r])throw new Error("ResponsiveGridLayout: `cols` entry for breakpoint "+r+" is missing!");return i[r]}function Nt(r,i,n,t,s,a,g){if(i[t])return be(i[t]);let u=r;const e=et(n),C=e.slice(e.indexOf(t));for(let L=0,h=C.length;L<h;L++){const F=C[L];if(i[F]){u=i[F];break}}return u=be(u||[]),U(St(u,{cols:a}),g)}function et(r){return Object.keys(r).sort((i,n)=>r[i]-r[n])}let Et="auto";function Tt(){return typeof document<"u"}function Oe(){return Tt()?typeof document.dir<"u"?document.dir:document.getElementsByTagName("html")[0].getAttribute("dir"):Et}const Ie=Ye({__name:"grid-item",props:{isDraggable:{type:Boolean,default:void 0},isResizable:{type:Boolean,default:void 0},isBounded:{type:Boolean,default:void 0},static:{type:Boolean,default:!1},minH:{default:1},minW:{default:1},maxH:{default:1/0},maxW:{default:1/0},x:{},y:{},w:{},h:{},i:{},dragIgnoreFrom:{default:"a, button"},dragAllowFrom:{default:void 0},resizeIgnoreFrom:{default:"a, button"},preserveAspectRatio:{type:Boolean,default:!1},dragOption:{default:()=>({})},resizeOption:{default:()=>({})}},emits:["container-resized","resize","resized","move","moved"],setup(r,{expose:i,emit:n}){const t=r,s=n,a=De(je),g=De(Ke);if(!a)throw new Error("[grid-layout-plus]: missing layout store, GridItem must under a GridLayout.");const u=de(null),e=ce({cols:1,containerWidth:100,rowHeight:30,margin:[10,10],maxRows:1/0,draggable:void 0,resizable:void 0,bounded:void 0,transformScale:1,useCssTransforms:!0,useStyleCursor:!0,isDragging:!1,dragging:{top:-1,left:-1},isResizing:!1,resizing:{width:-1,height:-1},style:{},rtl:!1});let C=!1,L=!1,h=NaN,F=NaN,k=NaN,q=NaN,oe=-1,ne=-1,J=-1,O=-1,S=t.x,T=t.y,R=t.w,N=t.h;const Y=de(),se=ce({i:nt(t,"i"),state:e,wrapper:Y,calcXY:Re});function Z(o){rt(o)}function le(){ke()}function l(o){H(t.isDraggable)&&(e.draggable=o)}function w(o){H(t.isResizable)&&(e.resizable=o)}function y(o){H(t.isBounded)&&(e.bounded=o)}function E(o){e.transformScale=o}function M(o){e.rowHeight=o}function $(o){e.maxRows=o}function f(){e.rtl=Oe()==="rtl",ke()}function X(o){e.cols=Math.floor(o)}a.increaseItem(se),Xe(()=>{e.rtl=Oe()==="rtl"}),Ge(()=>{a.responsive&&a.lastBreakpoint?e.cols=Qe(a.lastBreakpoint,a.cols):e.cols=a.colNum,e.rowHeight=a.rowHeight,e.containerWidth=a.width!==null?a.width:100,e.margin=a.margin!==void 0?a.margin.map(Number):[10,10],e.maxRows=a.maxRows,H(t.isDraggable)?e.draggable=a.isDraggable:e.draggable=t.isDraggable,H(t.isResizable)?e.resizable=a.isResizable:e.resizable=t.isResizable,H(t.isBounded)?e.bounded=a.isBounded:e.bounded=t.isBounded,e.transformScale=a.transformScale,e.useCssTransforms=a.useCssTransforms,e.useStyleCursor=a.useStyleCursor,st(()=>{S=t.x,T=t.y,N=t.h,R=t.w,B(j)}),g.on("updateWidth",Z),g.on("compact",le),g.on("setDraggable",l),g.on("setResizable",w),g.on("setBounded",y),g.on("setTransformScale",E),g.on("setRowHeight",M),g.on("setMaxRows",$),g.on("directionchange",f),g.on("setColNum",X)}),Pe(()=>{g.off("updateWidth",Z),g.off("compact",le),g.off("setDraggable",l),g.off("setResizable",w),g.off("setBounded",y),g.off("setTransformScale",E),g.off("setRowHeight",M),g.off("setMaxRows",$),g.off("directionchange",f),g.off("setColNum",X),u.value&&(u.value.unset(),u.value=null),a.decreaseItem(se)}),i({state:e,wrapper:Y});const P=typeof navigator<"u"?navigator.userAgent.toLowerCase().includes("android"):!1,W=ae(()=>e.resizable&&!t.static),x=ae(()=>a.isMirrored?!e.rtl:e.rtl),V=ae(()=>(e.draggable||e.resizable)&&!t.static),A=$t("item"),tt=ae(()=>({[A.b()]:!0,[A.bm("resizable")]:W.value,[A.bm("static")]:t.static,[A.bm("resizing")]:e.isResizing,[A.bm("dragging")]:e.isDragging,[A.bm("transform")]:e.useCssTransforms,[A.bm("rtl")]:x.value,[A.bm("no-touch")]:P&&V.value})),ue=ae(()=>[A.be("resizer"),x.value&&A.bem("resizer","rtl")].filter(Boolean));b(()=>t.isDraggable,o=>{e.draggable=o}),b(()=>t.static,()=>{B($e),B(K)}),b(()=>e.draggable,()=>{B($e)}),b(()=>t.isResizable,o=>{e.resizable=o}),b(()=>t.isBounded,o=>{e.bounded=o}),b(()=>e.resizable,()=>{B(K)}),b(()=>e.rowHeight,()=>{B(j),B(me)}),b([()=>e.cols,()=>e.containerWidth],()=>{B(K),B(j),B(me)}),b([()=>t.minH,()=>t.maxH,()=>t.minW,()=>t.maxW],()=>{B(K)}),b(x,()=>{B(K),B(j)}),b([()=>a.margin,()=>a.margin[0],()=>a.margin[1]],()=>{const o=a.margin;!o||o[0]===e.margin[0]&&o[1]===e.margin[1]||(e.margin=o.map(Number),B(j),B(me))});function j(){t.x+t.w>e.cols?(S=0,R=t.w>e.cols?e.cols:t.w):(S=t.x,R=t.w);const o=Q(S,T,R,N);e.isDragging&&(o.top=e.dragging.top,x.value?o.right=e.dragging.left:o.left=e.dragging.left),e.isResizing&&(o.width=e.resizing.width,o.height=e.resizing.height);let c;e.useCssTransforms?x.value?c=Bt(o.top,o.right,o.width,o.height):c=Rt(o.top,o.left,o.width,o.height):x.value?c=kt(o.top,o.right,o.width,o.height):c=Ct(o.top,o.left,o.width,o.height),e.style=c}function me(){const o={};for(const c of["width","height"]){const p=e.style[c].match(/^(\d+)px$/);if(!p)return;o[c]=p[1]}s("container-resized",t.i,t.h,t.w,o.height,o.width)}function ze(o){if(t.static)return;const c=o.type;if(c==="resizestart"&&e.isResizing||c!=="resizestart"&&!e.isResizing)return;const p=Ae(o);if(H(p))return;const{x:v,y:z}=p,m={width:0,height:0};let d;switch(c){case"resizestart":{K(),oe=R,ne=N,d=Q(S,T,R,N),m.width=d.width,m.height=d.height,e.resizing=m,e.isResizing=!0;break}case"resizemove":{!o.edges.right&&!o.edges.left&&(k=v),!o.edges.top&&!o.edges.bottom&&(q=z);const D=Fe(k,q,v,z);x.value?m.width=e.resizing.width-D.deltaX/e.transformScale:m.width=e.resizing.width+D.deltaX/e.transformScale,m.height=e.resizing.height+D.deltaY/e.transformScale,e.resizing=m;break}case"resizeend":{d=Q(S,T,R,N),m.width=d.width,m.height=d.height,e.resizing={width:-1,height:-1},e.isResizing=!1;break}}d=at(m.height,m.width),d.w<t.minW&&(d.w=t.minW),d.w>t.maxW&&(d.w=t.maxW),d.h<t.minH&&(d.h=t.minH),d.h>t.maxH&&(d.h=t.maxH),d.h<1&&(d.h=1),d.w<1&&(d.w=1),k=v,q=z,(R!==d.w||N!==d.h)&&s("resize",t.i,d.h,d.w,m.height,m.width),o.type==="resizeend"&&(oe!==R||ne!==N)&&s("resized",t.i,d.h,d.w,m.height,m.width),g.emit("resizeEvent",o.type,t.i,S,T,d.h,d.w)}function Se(o){if(t.static||e.isResizing)return;const c=o.type;if(c==="dragstart"&&e.isDragging||c!=="dragstart"&&!e.isDragging)return;const p=Ae(o);if(H(p))return;const{x:v,y:z}=p,m=o.target;if(!m.offsetParent)return;const d={top:0,left:0};switch(c){case"dragstart":{J=S,O=T;const _=m.offsetParent.getBoundingClientRect(),I=m.getBoundingClientRect(),ee=I.left/e.transformScale,te=_.left/e.transformScale,he=I.right/e.transformScale,pe=_.right/e.transformScale,ye=I.top/e.transformScale,ve=_.top/e.transformScale;x.value?d.left=(he-pe)*-1:d.left=ee-te,d.top=ye-ve,e.dragging=d,e.isDragging=!0;break}case"dragmove":{const _=Fe(h,F,v,z);if(x.value?d.left=e.dragging.left-_.deltaX/e.transformScale:d.left=e.dragging.left+_.deltaX/e.transformScale,d.top=e.dragging.top+_.deltaY/e.transformScale,e.bounded){const I=m.offsetParent.clientHeight-Be(t.h,e.rowHeight,e.margin[1]);d.top=Ce(d.top,0,I);const ee=ge(),te=e.containerWidth-Be(t.w,ee,e.margin[0]);d.left=Ce(d.left,0,te)}e.dragging=d;break}case"dragend":{const _=m.offsetParent.getBoundingClientRect(),I=m.getBoundingClientRect(),ee=I.left/e.transformScale,te=_.left/e.transformScale,he=I.right/e.transformScale,pe=_.right/e.transformScale,ye=I.top/e.transformScale,ve=_.top/e.transformScale;x.value?d.left=(he-pe)*-1:d.left=ee-te,d.top=ye-ve,e.dragging={top:-1,left:-1},e.isDragging=!1;break}}let D;x.value,D=Re(d.top,d.left),h=v,F=z,(S!==D.x||T!==D.y)&&s("move",t.i,D.x,D.y),o.type==="dragend"&&(J!==S||O!==T)&&s("moved",t.i,D.x,D.y),g.emit("dragEvent",o.type,t.i,D.x,D.y,N,R)}function Q(o,c,p,v){const z=ge();let m;return x.value?m={right:Math.round(z*o+(o+1)*e.margin[0]),top:Math.round(e.rowHeight*c+(c+1)*e.margin[1]),width:p===1/0?p:Math.round(z*p+Math.max(0,p-1)*e.margin[0]),height:v===1/0?v:Math.round(e.rowHeight*v+Math.max(0,v-1)*e.margin[1])}:m={left:Math.round(z*o+(o+1)*e.margin[0]),top:Math.round(e.rowHeight*c+(c+1)*e.margin[1]),width:p===1/0?p:Math.round(z*p+Math.max(0,p-1)*e.margin[0]),height:v===1/0?v:Math.round(e.rowHeight*v+Math.max(0,v-1)*e.margin[1])},m}function Re(o,c){const p=ge();let v=Math.round((c-e.margin[0])/(p+e.margin[0])),z=Math.round((o-e.margin[1])/(e.rowHeight+e.margin[1]));return v=Math.max(Math.min(v,e.cols-R),0),z=Math.max(Math.min(z,e.maxRows-N),0),{x:v,y:z}}function ge(){return(e.containerWidth-e.margin[0]*(e.cols+1))/e.cols}function Be(o,c,p){return Number.isFinite(o)?Math.round(c*o+Math.max(0,o-1)*p):o}function Ce(o,c,p){return Math.max(Math.min(o,p),c)}function at(o,c,p=!1){const v=ge();let z=Math.round((c+e.margin[0])/(v+e.margin[0])),m=0;return p?m=Math.ceil((o+e.margin[1])/(e.rowHeight+e.margin[1])):m=Math.round((o+e.margin[1])/(e.rowHeight+e.margin[1])),z=Math.max(Math.min(z,e.cols-S),0),m=Math.max(Math.min(m,e.maxRows-T),0),{w:z,h:m}}function rt(o,c){e.containerWidth=o}function ke(){j()}function Me(){!u.value&&Y.value&&(u.value=Te(Y.value),e.useStyleCursor||u.value.styleCursor(!1))}const it=Ee(Se);function $e(){if(Me(),!!u.value)if(e.draggable&&!t.static){const o={ignoreFrom:t.dragIgnoreFrom,allowFrom:t.dragAllowFrom,...t.dragOption};u.value.draggable(o),C||(C=!0,u.value.on("dragstart dragmove dragend",c=>{c.type==="dragmove"?it(c):Se(c)}))}else u.value.draggable({enabled:!1})}const ot=Ee(ze);function K(){if(Me(),!!u.value)if(e.resizable&&!t.static){const o=Q(0,0,t.maxW,t.maxH),c=Q(0,0,t.minW,t.minH),p={edges:{left:x.value?`.${ue.value[0]}`:!1,right:x.value?!1:`.${ue.value[0]}`,bottom:`.${ue.value[0]}`,top:!1},ignoreFrom:t.resizeIgnoreFrom,restrictSize:{min:{height:c.height*e.transformScale,width:c.width*e.transformScale},max:{height:o.height*e.transformScale,width:o.width*e.transformScale}},...t.resizeOption};t.preserveAspectRatio&&(p.modifiers=[Te.modifiers.aspectRatio({ratio:"preserve"})]),u.value.resizable(p),L||(L=!0,u.value.on("resizestart resizemove resizeend",v=>{v.type==="resizemove"?ot(v):ze(v)}))}else u.value.resizable({enabled:!1})}return(o,c)=>(re(),fe("section",{ref_key:"wrapper",ref:Y,class:He(tt.value),style:Ve(e.style)},[we(o.$slots,"default"),W.value?(re(),fe("span",{key:0,class:He(ue.value)},null,2)):lt("",!0)],6))}}),Ft=Ye({__name:"grid-layout",props:{autoSize:{type:Boolean,default:!0},colNum:{default:12},rowHeight:{default:150},maxRows:{default:1/0},margin:{default:()=>[10,10]},isDraggable:{type:Boolean,default:!0},isResizable:{type:Boolean,default:!0},isMirrored:{type:Boolean,default:!1},isBounded:{type:Boolean,default:!1},useCssTransforms:{type:Boolean,default:!0},verticalCompact:{type:Boolean,default:!0},restoreOnDrag:{type:Boolean,default:!1},layout:{},responsive:{type:Boolean,default:!1},responsiveLayouts:{default:()=>({})},transformScale:{default:1},breakpoints:{default:()=>({lg:1200,md:996,sm:768,xs:480,xxs:0})},cols:{default:()=>({lg:12,md:10,sm:6,xs:4,xxs:2})},preventCollision:{type:Boolean,default:!1},useStyleCursor:{type:Boolean,default:!0}},emits:["layout-before-mount","layout-mounted","layout-updated","breakpoint-changed","update:layout","layout-ready"],setup(r,{expose:i,emit:n}){const t=r,s=n,a=ce({width:-1,mergedStyle:{},lastLayoutLength:0,isDragging:!1,placeholder:{x:0,y:0,w:0,h:0,i:""},layouts:{},lastBreakpoint:null,originalLayout:null}),g=new Map,u=de(t.layout),e=de(),{observeResize:C,unobserveResize:L}=yt(),h=vt();h.on("resizeEvent",F),h.on("dragEvent",k),Xe(()=>{s("layout-before-mount",u.value)}),Ge(()=>{s("layout-mounted",u.value),G(()=>{Mt(u.value),a.originalLayout=u.value,G(()=>{Z(),e.value&&C(e.value,wt(S,16)),U(u.value,t.verticalCompact),s("layout-updated",u.value),O(),S()})})}),Pe(()=>{h.clearAll(),e.value&&L(e.value)});function F(l,w,y,E,M,$){Y(l,w,y,E,M,$)}function k(l,w,y,E,M,$){N(l,w,y,E,M,$)}b(()=>a.width,(l,w)=>{G(()=>{h.emit("updateWidth",l),w===-1&&G(()=>{s("layout-ready",u.value)}),O()})}),b(()=>[t.layout,t.layout.length],()=>{u.value=t.layout,J()}),b(()=>t.colNum,l=>{h.emit("setColNum",l)}),b(()=>t.rowHeight,l=>{h.emit("setRowHeight",l)}),b(()=>t.isDraggable,l=>{h.emit("setDraggable",l)}),b(()=>t.isResizable,l=>{h.emit("setResizable",l)}),b(()=>t.isBounded,l=>{h.emit("setBounded",l)}),b(()=>t.transformScale,l=>{h.emit("setTransformScale",l)}),b(()=>t.responsive,l=>{l||(s("update:layout",a.originalLayout),h.emit("setColNum",t.colNum)),S()}),b(()=>t.maxRows,l=>{h.emit("setMaxRows",l)}),b([()=>t.margin,()=>t.margin[1]],O),Le(je,ce({...Ne(t),...Ne(a),increaseItem:q,decreaseItem:oe})),Le(Ke,h),i({state:a,getItem:ne,resizeEvent:Y,dragEvent:N,layoutUpdate:J});function q(l){g.set(l.i,l)}function oe(l){g.delete(l.i)}function ne(l){return g.get(l)}function J(){if(!H(u.value)&&!H(a.originalLayout)){if(u.value.length!==a.originalLayout.length){const l=le(u.value,a.originalLayout);if(l.length>0)if(u.value.length>a.originalLayout.length)a.originalLayout=a.originalLayout.concat(l);else{const w=new Set(l.map(y=>y.i));a.originalLayout=a.originalLayout.filter(y=>!w.has(y.i))}a.lastLayoutLength=u.value.length,Z()}U(u.value,t.verticalCompact),h.emit("updateWidth",a.width),O(),s("layout-updated",u.value)}}function O(){a.mergedStyle={height:T()}}function S(){e.value&&(a.width=e.value.offsetWidth),h.emit("resizeEvent")}function T(){if(!t.autoSize)return;const l=parseFloat(t.margin[1]);return bt(u.value)*(t.rowHeight+l)+l+"px"}let R;function N(l,w,y,E,M,$){let f=We(u.value,w);H(f)&&(f={h:0,w:0,x:0,y:0,i:""}),l==="dragstart"&&!t.verticalCompact&&(R=u.value.reduce((X,{i:P,x:W,y:x})=>({...X,[P]:{x:W,y:x}}),{})),l==="dragmove"||l==="dragstart"?(a.placeholder.i=w,a.placeholder.x=f.x,a.placeholder.y=f.y,a.placeholder.w=$,a.placeholder.h=M,G(()=>{a.isDragging=!0}),h.emit("updateWidth",a.width)):G(()=>{a.isDragging=!1}),u.value=xe(u.value,f,y,E,!0,t.preventCollision),t.restoreOnDrag?(f.static=!0,U(u.value,t.verticalCompact,R),f.static=!1):U(u.value,t.verticalCompact),h.emit("compact"),O(),l==="dragend"&&(R=void 0,s("layout-updated",u.value))}function Y(l,w,y,E,M,$){let f=We(u.value,w);H(f)&&(f={h:0,w:0,x:0,y:0,i:""});let X;if(t.preventCollision){const P=qe(u.value,{...f,w:$,h:M}).filter(W=>W.i!==f.i);if(X=P.length>0,X){let W=1/0,x=1/0;P.forEach(V=>{V.x>f.x&&(W=Math.min(W,V.x)),V.y>f.y&&(x=Math.min(x,V.y))}),Number.isFinite(W)&&(f.w=W-f.x),Number.isFinite(x)&&(f.h=x-f.y)}}X||(f.w=$,f.h=M),l==="resizestart"||l==="resizemove"?(a.placeholder.i=w,a.placeholder.x=y,a.placeholder.y=E,a.placeholder.w=f.w,a.placeholder.h=f.h,G(()=>{a.isDragging=!0}),h.emit("updateWidth",a.width)):l&&G(()=>{a.isDragging=!1}),t.responsive&&se(),U(u.value,t.verticalCompact),h.emit("compact"),O(),l==="resizeend"&&s("layout-updated",u.value)}function se(){const l=Lt(t.breakpoints,a.width);if(l===a.lastBreakpoint)return;const w=Qe(l,t.cols);!H(a.lastBreakpoint)&&!a.layouts[a.lastBreakpoint]&&(a.layouts[a.lastBreakpoint]=be(u.value));const y=Nt(a.originalLayout,a.layouts,t.breakpoints,l,a.lastBreakpoint,w,t.verticalCompact);a.layouts[l]=y,a.lastBreakpoint!==l&&s("breakpoint-changed",l,y),u.value=y,s("update:layout",y),a.lastBreakpoint=l,h.emit("setColNum",w)}function Z(){a.layouts=Object.assign({},t.responsiveLayouts)}function le(l,w){const y=new Set(w.map(f=>f.i)),E=new Set(l.map(f=>f.i)),M=l.filter(f=>!y.has(f.i)),$=w.filter(f=>!E.has(f.i));return M.concat($)}return(l,w)=>(re(),fe("div",{ref_key:"wrapper",ref:e,class:"vgl-layout",style:Ve(a.mergedStyle)},[l.$slots.default?we(l.$slots,"default",{key:0}):(re(!0),fe(gt,{key:1},dt(u.value,y=>(re(),ct(Ie,mt({key:y.i,ref_for:!0},y),{default:ft(()=>[we(l.$slots,"item",{item:y})]),_:2},1040))),128)),ut(pt(Ie,{class:"vgl-item--placeholder",x:a.placeholder.x,y:a.placeholder.y,w:a.placeholder.w,h:a.placeholder.h,i:a.placeholder.i},null,8,["x","y","w","h","i"]),[[ht,a.isDragging]])],4))}});(function(){try{if(typeof document<"u"){var r=document.createElement("style");r.appendChild(document.createTextNode('.vgl-layout{--vgl-placeholder-bg: red;--vgl-placeholder-opacity: 20%;--vgl-placeholder-z-index: 2;--vgl-item-resizing-z-index: 3;--vgl-item-resizing-opacity: 60%;--vgl-item-dragging-z-index: 3;--vgl-item-dragging-opacity: 100%;--vgl-resizer-size: 10px;--vgl-resizer-border-color: #444;--vgl-resizer-border-width: 2px;position:relative;box-sizing:border-box;transition:height .2s ease}.vgl-item{position:absolute;box-sizing:border-box;transition:.2s ease;transition-property:left,top,right}.vgl-item--placeholder{z-index:var(--vgl-placeholder-z-index, 2);-webkit-user-select:none;-moz-user-select:none;user-select:none;background-color:var(--vgl-placeholder-bg, red);opacity:var(--vgl-placeholder-opacity, 20%);transition-duration:.1s}.vgl-item--no-touch{touch-action:none}.vgl-item--transform{right:auto;left:0;transition-property:transform}.vgl-item--transform.vgl-item--rtl{right:0;left:auto}.vgl-item--resizing{z-index:var(--vgl-item-resizing-z-index, 3);-webkit-user-select:none;-moz-user-select:none;user-select:none;opacity:var(--vgl-item-resizing-opacity, 60%)}.vgl-item--dragging{z-index:var(--vgl-item-dragging-z-index, 3);-webkit-user-select:none;-moz-user-select:none;user-select:none;opacity:var(--vgl-item-dragging-opacity, 100%);transition:none}.vgl-item__resizer{position:absolute;right:0;bottom:0;box-sizing:border-box;width:var(--vgl-resizer-size);height:var(--vgl-resizer-size);cursor:se-resize}.vgl-item__resizer:before{position:absolute;top:0;right:3px;bottom:3px;left:0;content:"";border:0 solid var(--vgl-resizer-border-color);border-right-width:var(--vgl-resizer-border-width);border-bottom-width:var(--vgl-resizer-border-width)}.vgl-item__resizer--rtl{right:auto;left:0;cursor:sw-resize}.vgl-item__resizer--rtl:before{top:0;right:0;bottom:3px;left:3px;border-right-width:0;border-bottom-width:var(--vgl-resizer-border-width);border-left-width:var(--vgl-resizer-border-width)}')),document.head.appendChild(r)}}catch(i){console.error("vite-plugin-css-injected-by-js",i)}})();export{Ft as D,Ie as o};
