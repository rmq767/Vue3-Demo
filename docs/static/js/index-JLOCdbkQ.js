import T from"./leaflet3-BHQHQeg-.js";import"./leafer-ui-opb8pArW.js";import{G as z,h as A,i as W,R as k,g as y,L as b}from"./@leafer-ui-pBRh-c6v.js";import{d as G,s as S,c as E,V as L,aw as H,ax as N,a as B,o as C}from"./@vue-1pEateLc.js";import{_ as D}from"./plugin-vueexport-helper-x3n3nnut.js";import"./element-plus-9-QK-U0O.js";import"./lodash-es-88S84ShG.js";import"./@vueuse-sS3gTgD0.js";import"./@element-plus-GFHZwatb.js";import"./@sxzz--N-3kK7X.js";import"./@ctrl-ZggoHSuR.js";import"./dayjs-0oS7_Iqn.js";import"./@turf-VZU31W4K.js";import"./async-validator-BHjhHa7C.js";import"./memoize-one-JaOscZgY.js";import"./normalize-wheel-es-1urBKM79.js";import"./@floating-ui-_1sru3kO.js";import"./leaflet-dgfGk-q1.js";import"./leaflet.chinatmsproviders-MeioCgZa.js";import"./@leafer-dMhI7V6q.js";const P=""+new URL("../png/well-iToe1aUK.png",import.meta.url).href,R=30,M=3,h=200,l=200,O=200,V=100,p=100,F=50,v=15;let u=0,f=0,w=0,m=0;const U=t=>{let i=0;return t.forEach(e=>{i=Math.max(i,e.distance)}),{y:i}},$=(t,i)=>{var r,s;u=(r=t.value)==null?void 0:r.width,f=(s=t.value)==null?void 0:s.height;const{y:e}=U(i);m=(u-O-h)/M,w=Number(((f-l-V)/e).toFixed(2))},J=(t,i,e)=>{const r=Y(t,i),s=X(r,t.maxSize,t.minSize),o=new z({x:h+i*m-p/2,y:l-p}),n=new A({url:P,width:p,height:p,x:0,y:8}),d=new W({text:t.name,textAlign:"center",x:0,y:-8,width:p,fill:"green"});return o.add([n,d]),{well:s,imageGroup:o}},j=()=>{const t=new z({x:0,y:l,width:u,height:f-l}),i=[];for(let e=0;e<10;e++){const r=new k({x:0,y:(f-l)/10*e,width:u,height:(f-l)/10,fill:`#${e}b${e}04${e}`});i.push(r)}return t.add(i),t},K=()=>new k({x:0,y:0,width:u,height:l,fill:{type:"linear",stops:["#6BA37B","#ffffff","#789FF1"]}}),X=(t,i,e)=>{const r=new z({x:0,y:0}),s=R/e,o=Object.keys(t).sort((d,a)=>Number(d)-Number(a));let n=s*Number(o[0]);return o.forEach((d,a)=>{const c=new y({points:t[d],strokeWidth:n,stroke:"#666",cornerRadius:n,strokeCap:"none",strokeJoin:"round"});r.add(c),n=n+v}),n=s*Number(o[0]),o.forEach((d,a)=>{const c=new y({points:t[d],strokeWidth:n-v,stroke:"#fff",cornerRadius:n-v,strokeCap:"none",strokeJoin:"round"});r.add(c),n=n+v}),r},Y=(t,i)=>{const{info:e}=t,r=(m-F)/t.length,s={};let o=e[0].size;for(let d=0;d<e.length;d++){const a=e[d];if(o>a.size)s[a.size]=[],s[a.size].push(a.width*r+h+i*m,a.height*w+l);else{const c=s[o];c?s[o]=[...c,a.width*r+h+i*m,a.height*w+l]:s[o]=[a.width*r+h+i*m,a.height*w+l]}}let n=[];for(const d in s)s[d]=[...n,...s[d]],n=s[d];return s},q=t=>(H("data-v-82ef9a35"),t=t(),N(),t),Q={class:"leafer-container"},Z=q(()=>B("div",{id:"leafer",style:{width:"100%",height:"100vh"}},null,-1)),ee={name:"Leafer3"},te=G({...ee,setup(t){const i=[{name:"井0706002",businessId:"1676779130877161474",type:3,wellType:"定向井",pointData:[{lon:103.987124,lat:30.598889,remark:""}],info:[{tvd:30.03,md:30.03,size:304.8},{tvd:35.030191279,md:35.030292058,size:304.8},{tvd:40.029777904,md:40.030584115,size:304.8},{tvd:45.028895243,md:45.03112517,size:203.2},{tvd:50.027478202,md:50.031666225,size:152.4},{tvd:55.025946247,md:55.03268675,size:152.4}]},{name:"井1",businessId:"1679789842331381761",type:3,wellType:"直井",pointData:[{lon:105.06149,lat:31.570505,remark:"33"}],info:[{tvd:704.71971399,md:705.19158862,size:304.8},{tvd:712.21260794,md:712.69550549,size:304.8},{tvd:719.70598198,md:720.19942237,size:203.2},{tvd:724.70174657,md:725.20154586,size:203.2},{tvd:729.69847917,md:730.20366935,size:152.4},{tvd:734.69540074,md:735.2049105,size:152.4}]},{name:"宁209H13-9",businessId:"1680792663432409090",type:3,wellType:"水平井",pointData:[{lon:102.24508,lat:32.923487,remark:"测试（HX）"}],info:[{tvd:904.10752857,md:905.50454002,size:304.8},{tvd:909.04896969,md:910.53350887,size:304.8},{tvd:913.98926376,md:915.56453719,size:304.8},{tvd:918.92614252,md:920.59556552,size:203.2},{tvd:923.86256816,md:925.62913325,size:203.2},{tvd:928.79652958,md:930.66270097,size:203.2},{tvd:933.73007107,md:935.69702082,size:152.4},{tvd:938.66371987,md:940.73134067,size:152.4},{tvd:943.59696517,md:945.76477013,size:152.4},{tvd:948.53098539,md:950.79819959,size:152.4}]},{name:"20242",businessId:"1840656103032012802",type:3,wellType:"直井",pointData:[{lon:108.646241,lat:27.995644,remark:""}],info:[{tvd:2003.9218768,md:2087.6373096,size:304.8},{tvd:2008.5435327,md:2092.8224187,size:304.8},{tvd:2013.1577016,md:2098.0075277,size:304.8},{tvd:2017.7694714,md:2103.1966579,size:203.2},{tvd:2022.3767985,md:2108.3857881,size:203.2},{tvd:2026.9819368,md:2113.5766273,size:203.2},{tvd:2031.5840867,md:2118.7674665,size:152.4},{tvd:2036.1845679,md:2123.9603493,size:152.4}]}],e=S(),r=o=>{o.length&&s(o)},s=o=>{e.value?e.value.clear():e.value=new b({view:"leafer",wheel:{disabled:!0,zoomMode:!1},move:{drag:!1,scroll:!1}}),$(e,o);const n=K();e.value.add(n);const d=j();e.value.add(d),o.forEach((a,c)=>{var g,_;const{well:x,imageGroup:I}=J(a,c,a.length);(g=e.value)==null||g.add(x),(_=e.value)==null||_.add(I)})};return(o,n)=>(C(),E("div",Q,[Z,L(T,{data:i,class:"leaflet",onChecked:r})]))}}),ke=D(te,[["__scopeId","data-v-82ef9a35"]]);export{ke as default};
