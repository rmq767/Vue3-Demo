import{s as V,l as E,o as I,t as w,u as x,d as U}from"./element-plus-vO1D8aWL.js";import{d as B,r as C,w as S,c as b,a as p,V as l,Q as i,aw as P,ax as k,o as y,U as _}from"./@vue-1pEateLc.js";import{_ as F}from"./plugin-vueexport-helper-x3n3nnut.js";import"./lodash-es-88S84ShG.js";import"./@vueuse-sS3gTgD0.js";import"./@element-plus-sRoPj2gC.js";import"./@sxzz--N-3kK7X.js";import"./@ctrl-ZggoHSuR.js";import"./dayjs-1TH0Fy64.js";import"./acorn-bQvPYi_r.js";import"./async-validator-BHjhHa7C.js";import"./memoize-one-JaOscZgY.js";import"./normalize-wheel-es-1urBKM79.js";import"./@floating-ui-_1sru3kO.js";const f=u=>(P("data-v-1f92e82d"),u=u(),k(),u),M={class:"flow-setting"},R=f(()=>p("div",{class:"setting-title"},"条件属性",-1)),T={class:"setting-item"},G=f(()=>p("div",{class:"setting-item-title"},"基础属性",-1)),L={name:"EdgeSetting"},Q=B({...L,props:{lf:{},data:{}},setup(u){const t=u,s=C({conditionName:"条件1",useOther:!1,condition:""});S(()=>t.data,n=>{var r;const{useOther:e,condition:o,conditionName:a}=n.properties;s.value={conditionName:a||"",useOther:e||!1,condition:o||""},(r=t.lf)==null||r.setProperties(n.id,{...s.value})},{immediate:!0});const g=n=>{var o;const e=n.target.value;(o=t.lf)==null||o.setProperties(t.data.id,{conditionName:e})},h=n=>{var c,m,d;const e=(c=t.lf)==null?void 0:c.getEdgeModelById(t.data.id),o=e==null?void 0:e.sourceNodeId,a=(m=t.lf)==null?void 0:m.getNodeOutgoingEdge(o);if((a==null?void 0:a.some(N=>{const{useOther:O}=N.properties;return O}))&&n){E.warning("该节点已存在其他条件，请先修改其他条件"),s.value.useOther=!1;return}else(d=t.lf)==null||d.setProperties(t.data.id,{useOther:n})},v=n=>{var o,a;const e=n.target.value;e&&((o=t.lf)==null||o.changeEdgeType(t.data.id,"dashedLine")),(a=t.lf)==null||a.setProperties(t.data.id,{condition:e})};return(n,e)=>{const o=I,a=w,r=x,c=U,m=V;return y(),b("div",M,[R,p("div",T,[G,l(m,{model:s.value,"label-width":"110px"},{default:i(()=>[l(a,{label:"条件名称"},{default:i(()=>[l(o,{modelValue:s.value.conditionName,"onUpdate:modelValue":e[0]||(e[0]=d=>s.value.conditionName=d),onBlur:g},null,8,["modelValue"])]),_:1}),l(a,{label:"是否使用其他"},{default:i(()=>[l(c,{modelValue:s.value.useOther,"onUpdate:modelValue":e[1]||(e[1]=d=>s.value.useOther=d),onChange:h},{default:i(()=>[l(r,{value:!0},{default:i(()=>[_("是")]),_:1}),l(r,{value:!1},{default:i(()=>[_("否")]),_:1})]),_:1},8,["modelValue"])]),_:1}),l(a,{label:"条件设置"},{default:i(()=>[l(o,{modelValue:s.value.condition,"onUpdate:modelValue":e[2]||(e[2]=d=>s.value.condition=d),onBlur:v},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])])])}}}),te=F(Q,[["__scopeId","data-v-1f92e82d"]]);export{te as default};
