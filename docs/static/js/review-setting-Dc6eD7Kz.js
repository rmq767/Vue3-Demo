import{s as R,t as w,n as E,d as b,u as C,q as v}from"./element-plus-CU5GJTiG.js";import k from"./choose-person-C5GUolBL.js";import{d as B,r as f,w as q,c as I,a as m,R as d,J as s,o as c,I as y,L as U,O as g}from"./@vue-AhIeOBdH.js";import{_ as F}from"./plugin-vueexport-helper-DlAUqK2U.js";import"./lodash-es-CVJ_Bk8S.js";import"./@vueuse-CAc1CHwG.js";import"./@element-plus-BPC4xHUH.js";import"./@sxzz-D_chPuIy.js";import"./@ctrl-r5W6hzzQ.js";import"./dayjs-BkBTkyCe.js";import"./@turf-Bfw5sV2K.js";import"./async-validator-9PlIezaS.js";import"./memoize-one-BdPwpGay.js";import"./normalize-wheel-es-BQoi3Ox2.js";import"./@floating-ui-D0iZPv2f.js";const T={class:"node-setting"},j={class:"setting-item"},G={name:"ReviewSetting"},J=B({...G,props:{lf:{},data:{}},setup(_){const o=_,r=f({nodeName:"",reader:[],readerString:"",readerSource:"2"}),p=f();q(()=>o.data,t=>{var n,u;const{reader:e,readerString:a,readerSource:l}=t.properties;r.value={nodeName:(n=t.text)==null?void 0:n.value,reader:e||[],readerString:a||"",readerSource:l||"2"},(u=o.lf)==null||u.setProperties(t.id,{...r.value})},{immediate:!0});const S=()=>{var t;(t=p.value)==null||t.open(r.value.reader)},N=(t,e)=>{var a,l;r.value.reader=t,r.value.readerString=e.map(n=>n.label).join("，"),t.length?(l=o.lf)==null||l.setProperties(o.data.id,{reader:r.value.reader,readerString:r.value.readerString}):(v.warning("传阅者不能为空"),(a=o.lf)==null||a.setProperties(o.data.id,{reader:[],readerString:""}))},V=t=>{var a,l;const e=t.target.value;e?(l=o.lf)==null||l.updateText(o.data.id,e):(v.warning("节点名称不能为空"),r.value.nodeName=(a=o.data.text)==null?void 0:a.value)},x=t=>{var e,a;(e=o.lf)==null||e.setProperties(o.data.id,{reviewerSource:t}),t==="1"&&(r.value.reader=[],r.value.readerString="",(a=p.value)==null||a.clear())};return(t,e)=>{const a=E,l=w,n=C,u=b,P=R;return c(),I("div",T,[e[7]||(e[7]=m("div",{class:"setting-title"},"节点属性",-1)),m("div",j,[d(P,{model:r.value,"label-width":"110px"},{default:s(()=>[e[5]||(e[5]=m("div",{class:"setting-item-title"},"基础属性",-1)),d(l,{label:"节点名称",required:""},{default:s(()=>[d(a,{modelValue:r.value.nodeName,"onUpdate:modelValue":e[0]||(e[0]=i=>r.value.nodeName=i),onBlur:V},null,8,["modelValue"])]),_:1}),e[6]||(e[6]=m("div",{class:"setting-item-title"},"传阅者",-1)),d(l,{label:"传阅者来源",required:""},{default:s(()=>[d(u,{modelValue:r.value.readerSource,"onUpdate:modelValue":e[1]||(e[1]=i=>r.value.readerSource=i),onChange:x},{default:s(()=>[d(n,{value:"1"},{default:s(()=>[...e[3]||(e[3]=[g("发起者选择",-1)])]),_:1}),d(n,{value:"2"},{default:s(()=>[...e[4]||(e[4]=[g("指定",-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1}),r.value.readerSource==="2"?(c(),y(l,{key:0,label:"传阅者",required:""},{default:s(()=>[d(a,{modelValue:r.value.readerString,"onUpdate:modelValue":e[2]||(e[2]=i=>r.value.readerString=i),readonly:"",onClick:S},null,8,["modelValue"])]),_:1})):U("",!0)]),_:1},8,["model"])]),d(k,{ref_key:"choosePersonRef",ref:p,onSubmit:N},null,512)])}}}),ee=F(J,[["__scopeId","data-v-7fc58218"]]);export{ee as default};
