import{S as g,P as h,W as _,j as M,M as L,k as x,l as k,m as v,g as B,G as b,n as y,L as C,o as E,A as G,O as A}from"./three-BSxcMKmm.js";import{d as D,r as H,k as S,X as T,c as W,a as j,o as q}from"./@vue-DtXbQ2UY.js";import{_ as F}from"./plugin-vueexport-helper-DlAUqK2U.js";const O={class:"three"},R={name:"Demo"},I=D({...R,setup(P){const e={scene:null,camera:null,renderder:null,controller:null,material:null},d=H();let t;const i=()=>{const n=d.value;e.scene=new g,e.camera=new h(75,window.innerWidth/window.innerHeight,.1,2e3),e.camera.position.set(2,2,20),e.camera.lookAt(0,0,0),e.renderder=new _({antialias:!0}),e.renderder.setSize(n.offsetWidth,n.offsetHeight),m(),u(),w(),p(),n.appendChild(e.renderder.domElement),e.renderder.render(e.scene,e.camera),l()},m=()=>{const n=new M;let r=n.load("./three/wood/wood5.jpg"),o=n.load("./three/wood/wood4.png"),s=n.load("./three/wood/wood.png");e.material=new L({side:x,transparent:!0,map:r,aoMap:o,specularMap:s}),new k().load("./three/quarry_03_4k.exr",a=>{a.mapping=v,e.scene.background=a,e.scene.environment=a,e.material.envMap=a}),t=new B,t.add(e.material,"aoMapIntensity").min(0).max(1).step(.1).name("ao强度")},p=()=>{new b().load("./three/dpf/大牌坊.gltf",r=>{console.log(r),r.scene.traverse(o=>{if(o.isObject3D){const s=o.geometry,c=new y(s),a=new C({color:65280}),f=new E(c,a);e.scene.add(f)}})})},u=()=>{var r;const n=new G(10);(r=e.scene)==null||r.add(n)},w=()=>{var n;e.controller=new A(e.camera,(n=e.renderder)==null?void 0:n.domElement)},l=()=>{var n,r;(n=e.controller)==null||n.update(),(r=e.renderder)==null||r.render(e.scene,e.camera),requestAnimationFrame(l)};return S(()=>{i()}),T(()=>{t.destroy()}),(n,r)=>(q(),W("div",O,[j("div",{class:"three-demo",ref_key:"threeDemo",ref:d},null,512)]))}}),U=F(I,[["__scopeId","data-v-b93417df"]]);export{U as default};
