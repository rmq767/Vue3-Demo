import{x as w,u as E,d as N,o as I,y as S}from"./element-plus-GEy8-a9f.js";import{d as B,e as R,r as U,w as D,P as m,Q as n,n as K,ai as P,o as p,a as l,V as i,U as u,u as F,c as M,a8 as G,T as Q,F as $,aw as j,ax as q}from"./@vue-1pEateLc.js";import{_ as z}from"./plugin-vueexport-helper-x3n3nnut.js";import"./lodash-es-88S84ShG.js";import"./@vueuse-sS3gTgD0.js";import"./@element-plus-GFHZwatb.js";import"./@sxzz--N-3kK7X.js";import"./@ctrl-ZggoHSuR.js";import"./dayjs-0oS7_Iqn.js";import"./@turf-VZU31W4K.js";import"./async-validator-BHjhHa7C.js";import"./memoize-one-JaOscZgY.js";import"./normalize-wheel-es-1urBKM79.js";import"./@floating-ui-_1sru3kO.js";const _=d=>(j("data-v-51a683c0"),d=d(),q(),d),A={class:"type"},H=_(()=>l("span",null,"发起人：",-1)),J={class:"panel"},O={class:"left-panel"},W=_(()=>l("div",{class:"panel-title"},"人员选择",-1)),X={class:"search"},Y={class:"content"},Z={class:"right-panel"},ee=_(()=>l("div",{class:"panel-title"},"已选择",-1)),te={class:"content checked-content"},oe={name:"ChoosePerson"},se=B({...oe,emits:["submit"],setup(d,{expose:h,emit:k}){const e=R({visible:!1,type:"1",filterText:"",value:[],data:[{label:"张三",key:"1"},{label:"李四",key:"2"},{label:"王五",key:"3",children:[{label:"王五1",key:"31"},{label:"王五2",key:"32"}]}],checked:[],checkedList:[]}),c=U(),f=k;D(()=>e.filterText,o=>{c.value.filter(o)});const y=o=>{e.visible=!0,K(()=>{var t;e.checked=o,(t=c.value)==null||t.setCheckedKeys([...o],!1)})},r=()=>{e.visible=!1,e.filterText=""},v=()=>{f("submit",e.checked,e.checkedList),r()},b=(o,t)=>o?t.label.includes(o):!0,C=()=>{var o,t;e.checked=(o=c.value)==null?void 0:o.getCheckedNodes(!0,!1).map(s=>s.key),e.checkedList=(t=c.value)==null?void 0:t.getCheckedNodes(!0,!1).map(s=>({label:s.label,key:s.key}))},x=o=>{var t;e.checkedList=e.checkedList.filter(s=>s.key!==o),(t=c.value)==null||t.setCheckedKeys(e.checkedList.map(s=>s.key),!1)};return h({open:y,clear:()=>{var o;e.checkedList=[],e.checked=[],(o=c.value)==null||o.setCheckedKeys([],!1)}}),(o,t)=>{const s=E,V=N,g=I,T=S,L=P("MyDialog");return p(),m(L,{modelValue:e.visible,"onUpdate:modelValue":t[2]||(t[2]=a=>e.visible=a),title:"选择人员",width:"800px",onClose:r,onCancel:r,onSubmit:v},{default:n(()=>[l("div",A,[l("label",null,[H,i(V,{modelValue:e.type,"onUpdate:modelValue":t[0]||(t[0]=a=>e.type=a)},{default:n(()=>[i(s,{value:"1"},{default:n(()=>[u("指定人员")]),_:1}),i(s,{value:"2"},{default:n(()=>[u("角色")]),_:1})]),_:1},8,["modelValue"])])]),l("div",J,[l("div",O,[W,l("div",X,[i(g,{modelValue:e.filterText,"onUpdate:modelValue":t[1]||(t[1]=a=>e.filterText=a),style:{width:"100%"},placeholder:"请输入筛选内容"},null,8,["modelValue"])]),l("div",Y,[i(F(w),{ref_key:"treeRef",ref:c,data:e.data,"show-checkbox":"","node-key":"key","check-on-click-node":!0,"filter-node-method":b,onCheckChange:C},null,8,["data"])])]),l("div",Z,[ee,l("div",te,[(p(!0),M($,null,G(e.checkedList,a=>(p(),m(T,{key:a.key,closable:"",type:"primary",onClose:ae=>x(a.key)},{default:n(()=>[u(Q(a.label),1)]),_:2},1032,["onClose"]))),128))])])])]),_:1},8,["modelValue"])}}}),be=z(se,[["__scopeId","data-v-51a683c0"]]);export{be as default};
