var Tt={exports:{}};/*
@license

dhtmlxGantt v.8.0.6 Standard

This version of dhtmlxGantt is distributed under GPL 2.0 license and can be legally used in GPL projects.

To use dhtmlxGantt in non-GPL projects (and get Pro version of the product), please obtain Individual, Commercial, Enterprise or Ultimate license on our site https://dhtmlx.com/docs/products/dhtmlxGantt/#licensing or contact us at info@dhtmlx.com

(c) XB Software

*/(function($t,Ct){(function(A,E){$t.exports=E()})(window,function(){return function(A){var E={};function h(_){if(E[_])return E[_].exports;var u=E[_]={i:_,l:!1,exports:{}};return A[_].call(u.exports,u,u.exports,h),u.l=!0,u.exports}return h.m=A,h.c=E,h.d=function(_,u,s){h.o(_,u)||Object.defineProperty(_,u,{enumerable:!0,get:s})},h.r=function(_){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(_,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(_,"__esModule",{value:!0})},h.t=function(_,u){if(1&u&&(_=h(_)),8&u||4&u&&typeof _=="object"&&_&&_.__esModule)return _;var s=Object.create(null);if(h.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:_}),2&u&&typeof _!="string")for(var c in _)h.d(s,c,(function(i){return _[i]}).bind(null,c));return s},h.n=function(_){var u=_&&_.__esModule?function(){return _.default}:function(){return _};return h.d(u,"a",u),u},h.o=function(_,u){return Object.prototype.hasOwnProperty.call(_,u)},h.p="/codebase/",h(h.s=299)}([function(A,E,h){function _(i){"@babel/helpers - typeof";return(_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(i)}var u,s=h(2),c={}.constructor.toString();A.exports={copy:function i(r){var e,t;if(r&&_(r)=="object")switch(!0){case s.isDate(r):t=new Date(r);break;case s.isArray(r):for(t=new Array(r.length),e=0;e<r.length;e++)t[e]=i(r[e]);break;default:for(e in t=function(n){return n.constructor.toString()!==c}(r)?Object.create(r):{},r)Object.prototype.hasOwnProperty.apply(r,[e])&&(t[e]=i(r[e]))}return t||r},defined:function(i){return i!==void 0},mixin:function(i,r,e){for(var t in r)(i[t]===void 0||e)&&(i[t]=r[t]);return i},uid:function(){return u||(u=new Date().valueOf()),++u},bind:function(i,r){return i.bind?i.bind(r):function(){return i.apply(r,arguments)}},event:function(i,r,e,t){i.addEventListener?i.addEventListener(r,e,t!==void 0&&t):i.attachEvent&&i.attachEvent("on"+r,e)},eventRemove:function(i,r,e,t){i.removeEventListener?i.removeEventListener(r,e,t!==void 0&&t):i.detachEvent&&i.detachEvent("on"+r,e)}}},function(A,E){function h(a){var l=0,d=0,f=0,g=0;if(a.getBoundingClientRect){var p=a.getBoundingClientRect(),m=document.body,y=document.documentElement||document.body.parentNode||document.body,v=window.pageYOffset||y.scrollTop||m.scrollTop,b=window.pageXOffset||y.scrollLeft||m.scrollLeft,k=y.clientTop||m.clientTop||0,$=y.clientLeft||m.clientLeft||0;l=p.top+v-k,d=p.left+b-$,f=document.body.offsetWidth-p.right,g=document.body.offsetHeight-p.bottom}else{for(;a;)l+=parseInt(a.offsetTop,10),d+=parseInt(a.offsetLeft,10),a=a.offsetParent;f=document.body.offsetWidth-a.offsetWidth-d,g=document.body.offsetHeight-a.offsetHeight-l}return{y:Math.round(l),x:Math.round(d),width:a.offsetWidth,height:a.offsetHeight,right:Math.round(f),bottom:Math.round(g)}}function _(a){var l=!1,d=!1;if(window.getComputedStyle){var f=window.getComputedStyle(a,null);l=f.display,d=f.visibility}else a.currentStyle&&(l=a.currentStyle.display,d=a.currentStyle.visibility);return l!="none"&&d!="hidden"}function u(a){return!isNaN(a.getAttribute("tabindex"))&&1*a.getAttribute("tabindex")>=0}function s(a){return!{a:!0,area:!0}[a.nodeName.loLowerCase()]||!!a.getAttribute("href")}function c(a){return!{input:!0,select:!0,textarea:!0,button:!0,object:!0}[a.nodeName.toLowerCase()]||!a.hasAttribute("disabled")}function i(a){if(!a)return"";var l=a.className||"";return l.baseVal&&(l=l.baseVal),l.indexOf||(l=""),t(l)}var r;function e(a){var l;return a.tagName?l=a:(l=(a=a||window.event).target||a.srcElement).shadowRoot&&a.composedPath&&(l=a.composedPath()[0]),l}function t(a){return(String.prototype.trim||function(){return this.replace(/^\s+|\s+$/g,"")}).apply(a)}function n(){return document.head.createShadowRoot||document.head.attachShadow}function o(a){if(!a||!n())return document.body;for(;a.parentNode&&(a=a.parentNode);)if(a instanceof ShadowRoot)return a.host;return document.body}A.exports={getNodePosition:h,getFocusableNodes:function(a){for(var l=a.querySelectorAll(["a[href]","area[href]","input","select","textarea","button","iframe","object","embed","[tabindex]","[contenteditable]"].join(", ")),d=Array.prototype.slice.call(l,0),f=0;f<d.length;f++)d[f].$position=f;for(d.sort(function(p,m){return p.tabIndex===0&&m.tabIndex!==0?1:p.tabIndex!==0&&m.tabIndex===0?-1:p.tabIndex===m.tabIndex?p.$position-m.$position:p.tabIndex<m.tabIndex?-1:1}),f=0;f<d.length;f++){var g=d[f];(u(g)||c(g)||s(g))&&_(g)||(d.splice(f,1),f--)}return d},getScrollSize:function(){var a=document.createElement("div");a.style.cssText="visibility:hidden;position:absolute;left:-1000px;width:100px;padding:0px;margin:0px;height:110px;min-height:100px;overflow-y:scroll;",document.body.appendChild(a);var l=a.offsetWidth-a.clientWidth;return document.body.removeChild(a),l},getClassName:i,addClassName:function(a,l){l&&a.className.indexOf(l)===-1&&(a.className+=" "+l)},removeClassName:function(a,l){l=l.split(" ");for(var d=0;d<l.length;d++){var f=new RegExp("\\s?\\b"+l[d]+"\\b(?![-_.])","");a.className=a.className.replace(f,"")}},insertNode:function(a,l){r||(r=document.createElement("div")),r.innerHTML=l;var d=r.firstChild;return a.appendChild(d),d},removeNode:function(a){a&&a.parentNode&&a.parentNode.removeChild(a)},getChildNodes:function(a,l){for(var d=a.childNodes,f=d.length,g=[],p=0;p<f;p++){var m=d[p];m.className&&m.className.indexOf(l)!==-1&&g.push(m)}return g},toNode:function(a){return typeof a=="string"?document.getElementById(a)||document.querySelector(a)||document.body:a||document.body},locateClassName:function(a,l,d){var f=e(a),g="";for(d===void 0&&(d=!0);f;){if(g=i(f)){var p=g.indexOf(l);if(p>=0){if(!d)return f;var m=p===0||!t(g.charAt(p-1)),y=p+l.length>=g.length||!t(g.charAt(p+l.length));if(m&&y)return f}}f=f.parentNode}return null},locateAttribute:function(a,l){if(l){for(var d=e(a);d;){if(d.getAttribute&&d.getAttribute(l))return d;d=d.parentNode}return null}},getTargetNode:e,getRelativeEventPosition:function(a,l){var d=document.documentElement,f=h(l);return{x:a.clientX+d.scrollLeft-d.clientLeft-f.x+l.scrollLeft,y:a.clientY+d.scrollTop-d.clientTop-f.y+l.scrollTop}},isChildOf:function(a,l){if(!a||!l)return!1;for(;a&&a!=l;)a=a.parentNode;return a===l},hasClass:function(a,l){return"classList"in a?a.classList.contains(l):new RegExp("\\b"+l+"\\b").test(a.className)},closest:function(a,l){if(a.closest)return a.closest(l);if(a.matches||a.msMatchesSelector||a.webkitMatchesSelector){var d=a;if(!document.documentElement.contains(d))return null;do{if((d.matches||d.msMatchesSelector||d.webkitMatchesSelector).call(d,l))return d;d=d.parentElement||d.parentNode}while(d!==null&&d.nodeType===1);return null}return console.error("Your browser is not supported"),null},getRootNode:o,hasShadowParent:function(a){return!!o(a)},isShadowDomSupported:n,getActiveElement:function(){var a=document.activeElement;return a.shadowRoot&&(a=a.shadowRoot.activeElement),a===document.body&&document.getSelection&&(a=document.getSelection().focusNode||document.body),a}}},function(A,E){function h(i){"@babel/helpers - typeof";return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(i)}var _={second:1,minute:60,hour:3600,day:86400,week:604800,month:2592e3,quarter:7776e3,year:31536e3};function u(i){return!(!i||h(i)!=="object")&&!!(i.getFullYear&&i.getMonth&&i.getDate)}function s(i,r){var e=[];if(i.filter)return i.filter(r);for(var t=0;t<i.length;t++)r(i[t],t)&&(e[e.length]=i[t]);return e}function c(i){return i===0}A.exports={getSecondsInUnit:function(i){return _[i]||_.hour},forEach:function(i,r){if(i.forEach)i.forEach(r);else for(var e=i.slice(),t=0;t<e.length;t++)r(e[t],t)},arrayMap:function(i,r){if(i.map)return i.map(r);for(var e=i.slice(),t=[],n=0;n<e.length;n++)t.push(r(e[n],n));return t},arrayIncludes:function(i,r){if(i.includes)return i.includes(r);for(var e=0;e<i.length;e++)if(i[e]===r)return!0;return!1},arrayFind:function(i,r){if(i.find)return i.find(r);for(var e=0;e<i.length;e++)if(r(i[e],e))return i[e]},arrayFilter:s,arrayDifference:function(i,r){return s(i,function(e,t){return!r(e,t)})},arraySome:function(i,r){if(i.length===0)return!1;for(var e=0;e<i.length;e++)if(r(i[e],e,i))return!0;return!1},hashToArray:function(i){var r=[];for(var e in i)i.hasOwnProperty(e)&&r.push(i[e]);return r},sortArrayOfHash:function(i,r,e){var t=function(n,o){return n<o};i.sort(function(n,o){return n[r]===o[r]?0:e?t(n[r],o[r]):t(o[r],n[r])})},throttle:function(i,r){var e=!1;return function(){e||(i.apply(null,arguments),e=!0,setTimeout(function(){e=!1},r))}},isArray:function(i){return Array.isArray?Array.isArray(i):i&&i.length!==void 0&&i.pop&&i.push},isDate:u,isValidDate:function(i){return u(i)&&!isNaN(i.getTime())},isStringObject:function(i){return i&&h(i)==="object"&&Function.prototype.toString.call(i.constructor)==="function String() { [native code] }"},isNumberObject:function(i){return i&&h(i)==="object"&&Function.prototype.toString.call(i.constructor)==="function Number() { [native code] }"},isBooleanObject:function(i){return i&&h(i)==="object"&&Function.prototype.toString.call(i.constructor)==="function Boolean() { [native code] }"},delay:function(i,r){var e,t=function n(){n.$cancelTimeout(),n.$pending=!0;var o=Array.prototype.slice.call(arguments);e=setTimeout(function(){i.apply(this,o),n.$pending=!1},r)};return t.$pending=!1,t.$cancelTimeout=function(){clearTimeout(e),t.$pending=!1},t.$execute=function(){var n=Array.prototype.slice.call(arguments);i.apply(this,n),t.$cancelTimeout()},t},objectKeys:function(i){if(Object.keys)return Object.keys(i);var r,e=[];for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&e.push(r);return e},isEventable:function(i){return i.attachEvent&&i.detachEvent},replaceValidZeroId:function(i,r){return c(i)&&!c(r)&&(i="0"),i},checkZeroId:c,findBinary:function(i,r){for(var e,t,n,o=0,a=i.length-1;o<=a;)if(t=+i[e=Math.floor((o+a)/2)],n=+i[e-1],t<r)o=e+1;else{if(!(t>r)){for(;+i[e]==+i[e+1];)e++;return e}if(!isNaN(n)&&n<r)return e-1;a=e-1}return i.length-1}}},function(A,E){A.exports=function(h,_){for(var u in _)_.hasOwnProperty(u)&&(h[u]=_[u]);function s(){this.constructor=h}h.prototype=_===null?Object.create(_):(s.prototype=_.prototype,new s)}},function(A,E){function h(u){"@babel/helpers - typeof";return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s})(u)}var _;_=function(){return this}();try{_=_||Function("return this")()||(0,eval)("this")}catch{(typeof window>"u"?"undefined":h(window))==="object"&&(_=window)}A.exports=_},function(A,E){var h=function(){this._silent_mode=!1,this.listeners={}};h.prototype={_silentStart:function(){this._silent_mode=!0},_silentEnd:function(){this._silent_mode=!1}};var _=function(u){var s={},c=0,i=function(){var r=!0;for(var e in s){var t=s[e].apply(u,arguments);r=r&&t}return r};return i.addEvent=function(r,e){if(typeof r=="function"){var t;if(e&&e.id?t=e.id:(t=c,c++),e&&e.once){var n=r;r=function(){n(),i.removeEvent(t)}}return s[t]=r,t}return!1},i.removeEvent=function(r){delete s[r]},i.clear=function(){s={}},i};A.exports=function(u){var s=new h;u.attachEvent=function(c,i,r){c="ev_"+c.toLowerCase(),s.listeners[c]||(s.listeners[c]=_(this)),r&&r.thisObject&&(i=i.bind(r.thisObject));var e=c+":"+s.listeners[c].addEvent(i,r);return r&&r.id&&(e=r.id),e},u.attachAll=function(c){this.attachEvent("listen_all",c)},u.callEvent=function(c,i){if(s._silent_mode)return!0;var r="ev_"+c.toLowerCase(),e=s.listeners;return e.ev_listen_all&&e.ev_listen_all.apply(this,[c].concat(i)),!e[r]||e[r].apply(this,i)},u.checkEvent=function(c){return!!s.listeners["ev_"+c.toLowerCase()]},u.detachEvent=function(c){if(c){var i=s.listeners;for(var r in i)i[r].removeEvent(c);var e=c.split(":");if(i=s.listeners,e.length===2){var t=e[0],n=e[1];i[t]&&i[t].removeEvent(n)}}},u.detachAllEvents=function(){for(var c in s.listeners)s.listeners[c].clear()}}},function(A,E){A.exports=function(h,_,u,s,c){var i=_.getItemIndexByTopPosition(c.y)||0,r=_.getItemIndexByTopPosition(c.y_end)||s.count();return{start:Math.max(0,i-1),end:Math.min(s.count(),r+1)}}},function(A,E){function h(){console.log("Method is not implemented.")}function _(){}_.prototype.render=h,_.prototype.set_value=h,_.prototype.get_value=h,_.prototype.focus=h,A.exports=function(u){return _}},function(A,E){typeof Object.create=="function"?A.exports=function(h,_){h.super_=_,h.prototype=Object.create(_.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}})}:A.exports=function(h,_){h.super_=_;var u=function(){};u.prototype=_.prototype,h.prototype=new u,h.prototype.constructor=h}},function(A,E){var h,_,u=A.exports={};function s(){throw new Error("setTimeout has not been defined")}function c(){throw new Error("clearTimeout has not been defined")}function i(f){if(h===setTimeout)return setTimeout(f,0);if((h===s||!h)&&setTimeout)return h=setTimeout,setTimeout(f,0);try{return h(f,0)}catch{try{return h.call(null,f,0)}catch{return h.call(this,f,0)}}}(function(){try{h=typeof setTimeout=="function"?setTimeout:s}catch{h=s}try{_=typeof clearTimeout=="function"?clearTimeout:c}catch{_=c}})();var r,e=[],t=!1,n=-1;function o(){t&&r&&(t=!1,r.length?e=r.concat(e):n=-1,e.length&&a())}function a(){if(!t){var f=i(o);t=!0;for(var g=e.length;g;){for(r=e,e=[];++n<g;)r&&r[n].run();n=-1,g=e.length}r=null,t=!1,function(p){if(_===clearTimeout)return clearTimeout(p);if((_===c||!_)&&clearTimeout)return _=clearTimeout,clearTimeout(p);try{_(p)}catch{try{return _.call(null,p)}catch{return _.call(this,p)}}}(f)}}function l(f,g){this.fun=f,this.array=g}function d(){}u.nextTick=function(f){var g=new Array(arguments.length-1);if(arguments.length>1)for(var p=1;p<arguments.length;p++)g[p-1]=arguments[p];e.push(new l(f,g)),e.length!==1||t||i(a)},l.prototype.run=function(){this.fun.apply(null,this.array)},u.title="browser",u.browser=!0,u.env={},u.argv=[],u.version="",u.versions={},u.on=d,u.addListener=d,u.once=d,u.off=d,u.removeListener=d,u.removeAllListeners=d,u.emit=d,u.prependListener=d,u.prependOnceListener=d,u.listeners=function(f){return[]},u.binding=function(f){throw new Error("process.binding is not supported")},u.cwd=function(){return"/"},u.chdir=function(f){throw new Error("process.chdir is not supported")},u.umask=function(){return 0}},function(A,E){A.exports=function(h){var _=function(){};return _.prototype={show:function(u,s,c,i){},hide:function(){},set_value:function(u,s,c,i){this.get_input(i).value=u},get_value:function(u,s,c){return this.get_input(c).value||""},is_changed:function(u,s,c,i){var r=this.get_value(s,c,i);return r&&u&&r.valueOf&&u.valueOf?r.valueOf()!=u.valueOf():r!=u},is_valid:function(u,s,c,i){return!0},save:function(u,s,c){},get_input:function(u){return u.querySelector("input")},focus:function(u){var s=this.get_input(u);s&&(s.focus&&s.focus(),s.select&&s.select())}},_}},function(A,E){var h=typeof window<"u",_={isIE:h&&(navigator.userAgent.indexOf("MSIE")>=0||navigator.userAgent.indexOf("Trident")>=0),isIE6:h&&!XMLHttpRequest&&navigator.userAgent.indexOf("MSIE")>=0,isIE7:h&&navigator.userAgent.indexOf("MSIE 7.0")>=0&&navigator.userAgent.indexOf("Trident")<0,isIE8:h&&navigator.userAgent.indexOf("MSIE 8.0")>=0&&navigator.userAgent.indexOf("Trident")>=0,isOpera:h&&navigator.userAgent.indexOf("Opera")>=0,isChrome:h&&navigator.userAgent.indexOf("Chrome")>=0,isKHTML:h&&(navigator.userAgent.indexOf("Safari")>=0||navigator.userAgent.indexOf("Konqueror")>=0),isFF:h&&navigator.userAgent.indexOf("Firefox")>=0,isIPad:h&&navigator.userAgent.search(/iPad/gi)>=0,isEdge:h&&navigator.userAgent.indexOf("Edge")!=-1,isNode:!h||typeof navigator>"u"};A.exports=_},function(A,E,h){var _=h(23),u=Object.keys||function(l){var d=[];for(var f in l)d.push(f);return d};A.exports=n;var s=h(17);s.inherits=h(8);var c=h(62),i=h(58);s.inherits(n,c);for(var r=u(i.prototype),e=0;e<r.length;e++){var t=r[e];n.prototype[t]||(n.prototype[t]=i.prototype[t])}function n(l){if(!(this instanceof n))return new n(l);c.call(this,l),i.call(this,l),l&&l.readable===!1&&(this.readable=!1),l&&l.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,l&&l.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",o)}function o(){this.allowHalfOpen||this._writableState.ended||_.nextTick(a,this)}function a(l){l.end()}Object.defineProperty(n.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(n.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(l){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=l,this._writableState.destroyed=l)}}),n.prototype._destroy=function(l,d){this.push(null),this.end(),_.nextTick(d,l)}},function(A,E,h){(function(_){/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */var u=h(291),s=h(290),c=h(67);function i(){return e.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function r(S,C){if(i()<C)throw new RangeError("Invalid typed array length");return e.TYPED_ARRAY_SUPPORT?(S=new Uint8Array(C)).__proto__=e.prototype:(S===null&&(S=new e(C)),S.length=C),S}function e(S,C,M){if(!(e.TYPED_ARRAY_SUPPORT||this instanceof e))return new e(S,C,M);if(typeof S=="number"){if(typeof C=="string")throw new Error("If encoding is specified then the first argument must be a string");return o(this,S)}return t(this,S,C,M)}function t(S,C,M,j){if(typeof C=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&C instanceof ArrayBuffer?function(B,U,Z,W){if(U.byteLength,Z<0||U.byteLength<Z)throw new RangeError("'offset' is out of bounds");if(U.byteLength<Z+(W||0))throw new RangeError("'length' is out of bounds");return U=Z===void 0&&W===void 0?new Uint8Array(U):W===void 0?new Uint8Array(U,Z):new Uint8Array(U,Z,W),e.TYPED_ARRAY_SUPPORT?(B=U).__proto__=e.prototype:B=a(B,U),B}(S,C,M,j):typeof C=="string"?function(B,U,Z){if(typeof Z=="string"&&Z!==""||(Z="utf8"),!e.isEncoding(Z))throw new TypeError('"encoding" must be a valid string encoding');var W=0|d(U,Z),tt=(B=r(B,W)).write(U,Z);return tt!==W&&(B=B.slice(0,tt)),B}(S,C,M):function(B,U){if(e.isBuffer(U)){var Z=0|l(U.length);return(B=r(B,Z)).length===0||U.copy(B,0,0,Z),B}if(U){if(typeof ArrayBuffer<"u"&&U.buffer instanceof ArrayBuffer||"length"in U)return typeof U.length!="number"||function(W){return W!=W}(U.length)?r(B,0):a(B,U);if(U.type==="Buffer"&&c(U.data))return a(B,U.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(S,C)}function n(S){if(typeof S!="number")throw new TypeError('"size" argument must be a number');if(S<0)throw new RangeError('"size" argument must not be negative')}function o(S,C){if(n(C),S=r(S,C<0?0:0|l(C)),!e.TYPED_ARRAY_SUPPORT)for(var M=0;M<C;++M)S[M]=0;return S}function a(S,C){var M=C.length<0?0:0|l(C.length);S=r(S,M);for(var j=0;j<M;j+=1)S[j]=255&C[j];return S}function l(S){if(S>=i())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i().toString(16)+" bytes");return 0|S}function d(S,C){if(e.isBuffer(S))return S.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(S)||S instanceof ArrayBuffer))return S.byteLength;typeof S!="string"&&(S=""+S);var M=S.length;if(M===0)return 0;for(var j=!1;;)switch(C){case"ascii":case"latin1":case"binary":return M;case"utf8":case"utf-8":case void 0:return K(S).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*M;case"hex":return M>>>1;case"base64":return J(S).length;default:if(j)return K(S).length;C=(""+C).toLowerCase(),j=!0}}function f(S,C,M){var j=S[C];S[C]=S[M],S[M]=j}function g(S,C,M,j,B){if(S.length===0)return-1;if(typeof M=="string"?(j=M,M=0):M>2147483647?M=2147483647:M<-2147483648&&(M=-2147483648),M=+M,isNaN(M)&&(M=B?0:S.length-1),M<0&&(M=S.length+M),M>=S.length){if(B)return-1;M=S.length-1}else if(M<0){if(!B)return-1;M=0}if(typeof C=="string"&&(C=e.from(C,j)),e.isBuffer(C))return C.length===0?-1:p(S,C,M,j,B);if(typeof C=="number")return C&=255,e.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?B?Uint8Array.prototype.indexOf.call(S,C,M):Uint8Array.prototype.lastIndexOf.call(S,C,M):p(S,[C],M,j,B);throw new TypeError("val must be string, number or Buffer")}function p(S,C,M,j,B){var U,Z=1,W=S.length,tt=C.length;if(j!==void 0&&((j=String(j).toLowerCase())==="ucs2"||j==="ucs-2"||j==="utf16le"||j==="utf-16le")){if(S.length<2||C.length<2)return-1;Z=2,W/=2,tt/=2,M/=2}function rt(_t,gt){return Z===1?_t[gt]:_t.readUInt16BE(gt*Z)}if(B){var et=-1;for(U=M;U<W;U++)if(rt(S,U)===rt(C,et===-1?0:U-et)){if(et===-1&&(et=U),U-et+1===tt)return et*Z}else et!==-1&&(U-=U-et),et=-1}else for(M+tt>W&&(M=W-tt),U=M;U>=0;U--){for(var ot=!0,ut=0;ut<tt;ut++)if(rt(S,U+ut)!==rt(C,ut)){ot=!1;break}if(ot)return U}return-1}function m(S,C,M,j){M=Number(M)||0;var B=S.length-M;j?(j=Number(j))>B&&(j=B):j=B;var U=C.length;if(U%2!=0)throw new TypeError("Invalid hex string");j>U/2&&(j=U/2);for(var Z=0;Z<j;++Z){var W=parseInt(C.substr(2*Z,2),16);if(isNaN(W))return Z;S[M+Z]=W}return Z}function y(S,C,M,j){return z(K(C,S.length-M),S,M,j)}function v(S,C,M,j){return z(function(B){for(var U=[],Z=0;Z<B.length;++Z)U.push(255&B.charCodeAt(Z));return U}(C),S,M,j)}function b(S,C,M,j){return v(S,C,M,j)}function k(S,C,M,j){return z(J(C),S,M,j)}function $(S,C,M,j){return z(function(B,U){for(var Z,W,tt,rt=[],et=0;et<B.length&&!((U-=2)<0);++et)Z=B.charCodeAt(et),W=Z>>8,tt=Z%256,rt.push(tt),rt.push(W);return rt}(C,S.length-M),S,M,j)}function w(S,C,M){return C===0&&M===S.length?u.fromByteArray(S):u.fromByteArray(S.slice(C,M))}function x(S,C,M){M=Math.min(S.length,M);for(var j=[],B=C;B<M;){var U,Z,W,tt,rt=S[B],et=null,ot=rt>239?4:rt>223?3:rt>191?2:1;if(B+ot<=M)switch(ot){case 1:rt<128&&(et=rt);break;case 2:(192&(U=S[B+1]))==128&&(tt=(31&rt)<<6|63&U)>127&&(et=tt);break;case 3:U=S[B+1],Z=S[B+2],(192&U)==128&&(192&Z)==128&&(tt=(15&rt)<<12|(63&U)<<6|63&Z)>2047&&(tt<55296||tt>57343)&&(et=tt);break;case 4:U=S[B+1],Z=S[B+2],W=S[B+3],(192&U)==128&&(192&Z)==128&&(192&W)==128&&(tt=(15&rt)<<18|(63&U)<<12|(63&Z)<<6|63&W)>65535&&tt<1114112&&(et=tt)}et===null?(et=65533,ot=1):et>65535&&(et-=65536,j.push(et>>>10&1023|55296),et=56320|1023&et),j.push(et),B+=ot}return function(ut){var _t=ut.length;if(_t<=T)return String.fromCharCode.apply(String,ut);for(var gt="",vt=0;vt<_t;)gt+=String.fromCharCode.apply(String,ut.slice(vt,vt+=T));return gt}(j)}E.Buffer=e,E.SlowBuffer=function(S){return+S!=S&&(S=0),e.alloc(+S)},E.INSPECT_MAX_BYTES=50,e.TYPED_ARRAY_SUPPORT=_.TYPED_ARRAY_SUPPORT!==void 0?_.TYPED_ARRAY_SUPPORT:function(){try{var S=new Uint8Array(1);return S.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},S.foo()===42&&typeof S.subarray=="function"&&S.subarray(1,1).byteLength===0}catch{return!1}}(),E.kMaxLength=i(),e.poolSize=8192,e._augment=function(S){return S.__proto__=e.prototype,S},e.from=function(S,C,M){return t(null,S,C,M)},e.TYPED_ARRAY_SUPPORT&&(e.prototype.__proto__=Uint8Array.prototype,e.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&e[Symbol.species]===e&&Object.defineProperty(e,Symbol.species,{value:null,configurable:!0})),e.alloc=function(S,C,M){return function(j,B,U,Z){return n(B),B<=0?r(j,B):U!==void 0?typeof Z=="string"?r(j,B).fill(U,Z):r(j,B).fill(U):r(j,B)}(null,S,C,M)},e.allocUnsafe=function(S){return o(null,S)},e.allocUnsafeSlow=function(S){return o(null,S)},e.isBuffer=function(S){return!(S==null||!S._isBuffer)},e.compare=function(S,C){if(!e.isBuffer(S)||!e.isBuffer(C))throw new TypeError("Arguments must be Buffers");if(S===C)return 0;for(var M=S.length,j=C.length,B=0,U=Math.min(M,j);B<U;++B)if(S[B]!==C[B]){M=S[B],j=C[B];break}return M<j?-1:j<M?1:0},e.isEncoding=function(S){switch(String(S).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},e.concat=function(S,C){if(!c(S))throw new TypeError('"list" argument must be an Array of Buffers');if(S.length===0)return e.alloc(0);var M;if(C===void 0)for(C=0,M=0;M<S.length;++M)C+=S[M].length;var j=e.allocUnsafe(C),B=0;for(M=0;M<S.length;++M){var U=S[M];if(!e.isBuffer(U))throw new TypeError('"list" argument must be an Array of Buffers');U.copy(j,B),B+=U.length}return j},e.byteLength=d,e.prototype._isBuffer=!0,e.prototype.swap16=function(){var S=this.length;if(S%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var C=0;C<S;C+=2)f(this,C,C+1);return this},e.prototype.swap32=function(){var S=this.length;if(S%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var C=0;C<S;C+=4)f(this,C,C+3),f(this,C+1,C+2);return this},e.prototype.swap64=function(){var S=this.length;if(S%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var C=0;C<S;C+=8)f(this,C,C+7),f(this,C+1,C+6),f(this,C+2,C+5),f(this,C+3,C+4);return this},e.prototype.toString=function(){var S=0|this.length;return S===0?"":arguments.length===0?x(this,0,S):(function(C,M,j){var B=!1;if((M===void 0||M<0)&&(M=0),M>this.length||((j===void 0||j>this.length)&&(j=this.length),j<=0)||(j>>>=0)<=(M>>>=0))return"";for(C||(C="utf8");;)switch(C){case"hex":return P(this,M,j);case"utf8":case"utf-8":return x(this,M,j);case"ascii":return D(this,M,j);case"latin1":case"binary":return I(this,M,j);case"base64":return w(this,M,j);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,M,j);default:if(B)throw new TypeError("Unknown encoding: "+C);C=(C+"").toLowerCase(),B=!0}}).apply(this,arguments)},e.prototype.equals=function(S){if(!e.isBuffer(S))throw new TypeError("Argument must be a Buffer");return this===S||e.compare(this,S)===0},e.prototype.inspect=function(){var S="",C=E.INSPECT_MAX_BYTES;return this.length>0&&(S=this.toString("hex",0,C).match(/.{2}/g).join(" "),this.length>C&&(S+=" ... ")),"<Buffer "+S+">"},e.prototype.compare=function(S,C,M,j,B){if(!e.isBuffer(S))throw new TypeError("Argument must be a Buffer");if(C===void 0&&(C=0),M===void 0&&(M=S?S.length:0),j===void 0&&(j=0),B===void 0&&(B=this.length),C<0||M>S.length||j<0||B>this.length)throw new RangeError("out of range index");if(j>=B&&C>=M)return 0;if(j>=B)return-1;if(C>=M)return 1;if(C>>>=0,M>>>=0,j>>>=0,B>>>=0,this===S)return 0;for(var U=B-j,Z=M-C,W=Math.min(U,Z),tt=this.slice(j,B),rt=S.slice(C,M),et=0;et<W;++et)if(tt[et]!==rt[et]){U=tt[et],Z=rt[et];break}return U<Z?-1:Z<U?1:0},e.prototype.includes=function(S,C,M){return this.indexOf(S,C,M)!==-1},e.prototype.indexOf=function(S,C,M){return g(this,S,C,M,!0)},e.prototype.lastIndexOf=function(S,C,M){return g(this,S,C,M,!1)},e.prototype.write=function(S,C,M,j){if(C===void 0)j="utf8",M=this.length,C=0;else if(M===void 0&&typeof C=="string")j=C,M=this.length,C=0;else{if(!isFinite(C))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");C|=0,isFinite(M)?(M|=0,j===void 0&&(j="utf8")):(j=M,M=void 0)}var B=this.length-C;if((M===void 0||M>B)&&(M=B),S.length>0&&(M<0||C<0)||C>this.length)throw new RangeError("Attempt to write outside buffer bounds");j||(j="utf8");for(var U=!1;;)switch(j){case"hex":return m(this,S,C,M);case"utf8":case"utf-8":return y(this,S,C,M);case"ascii":return v(this,S,C,M);case"latin1":case"binary":return b(this,S,C,M);case"base64":return k(this,S,C,M);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return $(this,S,C,M);default:if(U)throw new TypeError("Unknown encoding: "+j);j=(""+j).toLowerCase(),U=!0}},e.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var T=4096;function D(S,C,M){var j="";M=Math.min(S.length,M);for(var B=C;B<M;++B)j+=String.fromCharCode(127&S[B]);return j}function I(S,C,M){var j="";M=Math.min(S.length,M);for(var B=C;B<M;++B)j+=String.fromCharCode(S[B]);return j}function P(S,C,M){var j=S.length;(!C||C<0)&&(C=0),(!M||M<0||M>j)&&(M=j);for(var B="",U=C;U<M;++U)B+=V(S[U]);return B}function R(S,C,M){for(var j=S.slice(C,M),B="",U=0;U<j.length;U+=2)B+=String.fromCharCode(j[U]+256*j[U+1]);return B}function H(S,C,M){if(S%1!=0||S<0)throw new RangeError("offset is not uint");if(S+C>M)throw new RangeError("Trying to access beyond buffer length")}function F(S,C,M,j,B,U){if(!e.isBuffer(S))throw new TypeError('"buffer" argument must be a Buffer instance');if(C>B||C<U)throw new RangeError('"value" argument is out of bounds');if(M+j>S.length)throw new RangeError("Index out of range")}function Y(S,C,M,j){C<0&&(C=65535+C+1);for(var B=0,U=Math.min(S.length-M,2);B<U;++B)S[M+B]=(C&255<<8*(j?B:1-B))>>>8*(j?B:1-B)}function q(S,C,M,j){C<0&&(C=4294967295+C+1);for(var B=0,U=Math.min(S.length-M,4);B<U;++B)S[M+B]=C>>>8*(j?B:3-B)&255}function L(S,C,M,j,B,U){if(M+j>S.length)throw new RangeError("Index out of range");if(M<0)throw new RangeError("Index out of range")}function N(S,C,M,j,B){return B||L(S,0,M,4),s.write(S,C,M,j,23,4),M+4}function G(S,C,M,j,B){return B||L(S,0,M,8),s.write(S,C,M,j,52,8),M+8}e.prototype.slice=function(S,C){var M,j=this.length;if(S=~~S,C=C===void 0?j:~~C,S<0?(S+=j)<0&&(S=0):S>j&&(S=j),C<0?(C+=j)<0&&(C=0):C>j&&(C=j),C<S&&(C=S),e.TYPED_ARRAY_SUPPORT)(M=this.subarray(S,C)).__proto__=e.prototype;else{var B=C-S;M=new e(B,void 0);for(var U=0;U<B;++U)M[U]=this[U+S]}return M},e.prototype.readUIntLE=function(S,C,M){S|=0,C|=0,M||H(S,C,this.length);for(var j=this[S],B=1,U=0;++U<C&&(B*=256);)j+=this[S+U]*B;return j},e.prototype.readUIntBE=function(S,C,M){S|=0,C|=0,M||H(S,C,this.length);for(var j=this[S+--C],B=1;C>0&&(B*=256);)j+=this[S+--C]*B;return j},e.prototype.readUInt8=function(S,C){return C||H(S,1,this.length),this[S]},e.prototype.readUInt16LE=function(S,C){return C||H(S,2,this.length),this[S]|this[S+1]<<8},e.prototype.readUInt16BE=function(S,C){return C||H(S,2,this.length),this[S]<<8|this[S+1]},e.prototype.readUInt32LE=function(S,C){return C||H(S,4,this.length),(this[S]|this[S+1]<<8|this[S+2]<<16)+16777216*this[S+3]},e.prototype.readUInt32BE=function(S,C){return C||H(S,4,this.length),16777216*this[S]+(this[S+1]<<16|this[S+2]<<8|this[S+3])},e.prototype.readIntLE=function(S,C,M){S|=0,C|=0,M||H(S,C,this.length);for(var j=this[S],B=1,U=0;++U<C&&(B*=256);)j+=this[S+U]*B;return j>=(B*=128)&&(j-=Math.pow(2,8*C)),j},e.prototype.readIntBE=function(S,C,M){S|=0,C|=0,M||H(S,C,this.length);for(var j=C,B=1,U=this[S+--j];j>0&&(B*=256);)U+=this[S+--j]*B;return U>=(B*=128)&&(U-=Math.pow(2,8*C)),U},e.prototype.readInt8=function(S,C){return C||H(S,1,this.length),128&this[S]?-1*(255-this[S]+1):this[S]},e.prototype.readInt16LE=function(S,C){C||H(S,2,this.length);var M=this[S]|this[S+1]<<8;return 32768&M?4294901760|M:M},e.prototype.readInt16BE=function(S,C){C||H(S,2,this.length);var M=this[S+1]|this[S]<<8;return 32768&M?4294901760|M:M},e.prototype.readInt32LE=function(S,C){return C||H(S,4,this.length),this[S]|this[S+1]<<8|this[S+2]<<16|this[S+3]<<24},e.prototype.readInt32BE=function(S,C){return C||H(S,4,this.length),this[S]<<24|this[S+1]<<16|this[S+2]<<8|this[S+3]},e.prototype.readFloatLE=function(S,C){return C||H(S,4,this.length),s.read(this,S,!0,23,4)},e.prototype.readFloatBE=function(S,C){return C||H(S,4,this.length),s.read(this,S,!1,23,4)},e.prototype.readDoubleLE=function(S,C){return C||H(S,8,this.length),s.read(this,S,!0,52,8)},e.prototype.readDoubleBE=function(S,C){return C||H(S,8,this.length),s.read(this,S,!1,52,8)},e.prototype.writeUIntLE=function(S,C,M,j){S=+S,C|=0,M|=0,j||F(this,S,C,M,Math.pow(2,8*M)-1,0);var B=1,U=0;for(this[C]=255&S;++U<M&&(B*=256);)this[C+U]=S/B&255;return C+M},e.prototype.writeUIntBE=function(S,C,M,j){S=+S,C|=0,M|=0,j||F(this,S,C,M,Math.pow(2,8*M)-1,0);var B=M-1,U=1;for(this[C+B]=255&S;--B>=0&&(U*=256);)this[C+B]=S/U&255;return C+M},e.prototype.writeUInt8=function(S,C,M){return S=+S,C|=0,M||F(this,S,C,1,255,0),e.TYPED_ARRAY_SUPPORT||(S=Math.floor(S)),this[C]=255&S,C+1},e.prototype.writeUInt16LE=function(S,C,M){return S=+S,C|=0,M||F(this,S,C,2,65535,0),e.TYPED_ARRAY_SUPPORT?(this[C]=255&S,this[C+1]=S>>>8):Y(this,S,C,!0),C+2},e.prototype.writeUInt16BE=function(S,C,M){return S=+S,C|=0,M||F(this,S,C,2,65535,0),e.TYPED_ARRAY_SUPPORT?(this[C]=S>>>8,this[C+1]=255&S):Y(this,S,C,!1),C+2},e.prototype.writeUInt32LE=function(S,C,M){return S=+S,C|=0,M||F(this,S,C,4,4294967295,0),e.TYPED_ARRAY_SUPPORT?(this[C+3]=S>>>24,this[C+2]=S>>>16,this[C+1]=S>>>8,this[C]=255&S):q(this,S,C,!0),C+4},e.prototype.writeUInt32BE=function(S,C,M){return S=+S,C|=0,M||F(this,S,C,4,4294967295,0),e.TYPED_ARRAY_SUPPORT?(this[C]=S>>>24,this[C+1]=S>>>16,this[C+2]=S>>>8,this[C+3]=255&S):q(this,S,C,!1),C+4},e.prototype.writeIntLE=function(S,C,M,j){if(S=+S,C|=0,!j){var B=Math.pow(2,8*M-1);F(this,S,C,M,B-1,-B)}var U=0,Z=1,W=0;for(this[C]=255&S;++U<M&&(Z*=256);)S<0&&W===0&&this[C+U-1]!==0&&(W=1),this[C+U]=(S/Z>>0)-W&255;return C+M},e.prototype.writeIntBE=function(S,C,M,j){if(S=+S,C|=0,!j){var B=Math.pow(2,8*M-1);F(this,S,C,M,B-1,-B)}var U=M-1,Z=1,W=0;for(this[C+U]=255&S;--U>=0&&(Z*=256);)S<0&&W===0&&this[C+U+1]!==0&&(W=1),this[C+U]=(S/Z>>0)-W&255;return C+M},e.prototype.writeInt8=function(S,C,M){return S=+S,C|=0,M||F(this,S,C,1,127,-128),e.TYPED_ARRAY_SUPPORT||(S=Math.floor(S)),S<0&&(S=255+S+1),this[C]=255&S,C+1},e.prototype.writeInt16LE=function(S,C,M){return S=+S,C|=0,M||F(this,S,C,2,32767,-32768),e.TYPED_ARRAY_SUPPORT?(this[C]=255&S,this[C+1]=S>>>8):Y(this,S,C,!0),C+2},e.prototype.writeInt16BE=function(S,C,M){return S=+S,C|=0,M||F(this,S,C,2,32767,-32768),e.TYPED_ARRAY_SUPPORT?(this[C]=S>>>8,this[C+1]=255&S):Y(this,S,C,!1),C+2},e.prototype.writeInt32LE=function(S,C,M){return S=+S,C|=0,M||F(this,S,C,4,2147483647,-2147483648),e.TYPED_ARRAY_SUPPORT?(this[C]=255&S,this[C+1]=S>>>8,this[C+2]=S>>>16,this[C+3]=S>>>24):q(this,S,C,!0),C+4},e.prototype.writeInt32BE=function(S,C,M){return S=+S,C|=0,M||F(this,S,C,4,2147483647,-2147483648),S<0&&(S=4294967295+S+1),e.TYPED_ARRAY_SUPPORT?(this[C]=S>>>24,this[C+1]=S>>>16,this[C+2]=S>>>8,this[C+3]=255&S):q(this,S,C,!1),C+4},e.prototype.writeFloatLE=function(S,C,M){return N(this,S,C,!0,M)},e.prototype.writeFloatBE=function(S,C,M){return N(this,S,C,!1,M)},e.prototype.writeDoubleLE=function(S,C,M){return G(this,S,C,!0,M)},e.prototype.writeDoubleBE=function(S,C,M){return G(this,S,C,!1,M)},e.prototype.copy=function(S,C,M,j){if(M||(M=0),j||j===0||(j=this.length),C>=S.length&&(C=S.length),C||(C=0),j>0&&j<M&&(j=M),j===M||S.length===0||this.length===0)return 0;if(C<0)throw new RangeError("targetStart out of bounds");if(M<0||M>=this.length)throw new RangeError("sourceStart out of bounds");if(j<0)throw new RangeError("sourceEnd out of bounds");j>this.length&&(j=this.length),S.length-C<j-M&&(j=S.length-C+M);var B,U=j-M;if(this===S&&M<C&&C<j)for(B=U-1;B>=0;--B)S[B+C]=this[B+M];else if(U<1e3||!e.TYPED_ARRAY_SUPPORT)for(B=0;B<U;++B)S[B+C]=this[B+M];else Uint8Array.prototype.set.call(S,this.subarray(M,M+U),C);return U},e.prototype.fill=function(S,C,M,j){if(typeof S=="string"){if(typeof C=="string"?(j=C,C=0,M=this.length):typeof M=="string"&&(j=M,M=this.length),S.length===1){var B=S.charCodeAt(0);B<256&&(S=B)}if(j!==void 0&&typeof j!="string")throw new TypeError("encoding must be a string");if(typeof j=="string"&&!e.isEncoding(j))throw new TypeError("Unknown encoding: "+j)}else typeof S=="number"&&(S&=255);if(C<0||this.length<C||this.length<M)throw new RangeError("Out of range index");if(M<=C)return this;var U;if(C>>>=0,M=M===void 0?this.length:M>>>0,S||(S=0),typeof S=="number")for(U=C;U<M;++U)this[U]=S;else{var Z=e.isBuffer(S)?S:K(new e(S,j).toString()),W=Z.length;for(U=0;U<M-C;++U)this[U+C]=Z[U%W]}return this};var O=/[^+\/0-9A-Za-z-_]/g;function V(S){return S<16?"0"+S.toString(16):S.toString(16)}function K(S,C){var M;C=C||1/0;for(var j=S.length,B=null,U=[],Z=0;Z<j;++Z){if((M=S.charCodeAt(Z))>55295&&M<57344){if(!B){if(M>56319){(C-=3)>-1&&U.push(239,191,189);continue}if(Z+1===j){(C-=3)>-1&&U.push(239,191,189);continue}B=M;continue}if(M<56320){(C-=3)>-1&&U.push(239,191,189),B=M;continue}M=65536+(B-55296<<10|M-56320)}else B&&(C-=3)>-1&&U.push(239,191,189);if(B=null,M<128){if((C-=1)<0)break;U.push(M)}else if(M<2048){if((C-=2)<0)break;U.push(M>>6|192,63&M|128)}else if(M<65536){if((C-=3)<0)break;U.push(M>>12|224,M>>6&63|128,63&M|128)}else{if(!(M<1114112))throw new Error("Invalid code point");if((C-=4)<0)break;U.push(M>>18|240,M>>12&63|128,M>>6&63|128,63&M|128)}}return U}function J(S){return u.toByteArray(function(C){if((C=function(M){return M.trim?M.trim():M.replace(/^\s+|\s+$/g,"")}(C).replace(O,"")).length<2)return"";for(;C.length%4!=0;)C+="=";return C}(S))}function z(S,C,M,j){for(var B=0;B<j&&!(B+M>=C.length||B>=S.length);++B)C[B+M]=S[B];return B}}).call(this,h(4))},function(A,E,h){var _=h(0),u=h(5),s=h(1),c=function(){function i(r,e,t,n){r&&(this.$container=s.toNode(r),this.$parent=r),this.$config=_.mixin(e,{headerHeight:33}),this.$gantt=n,this.$domEvents=n._createDomEventScope(),this.$id=e.id||"c"+_.uid(),this.$name="cell",this.$factory=t,u(this)}return i.prototype.destructor=function(){this.$parent=this.$container=this.$view=null,this.$gantt.$services.getService("mouseEvents").detach("click","gantt_header_arrow",this._headerClickHandler),this.$domEvents.detachAll(),this.callEvent("onDestroy",[]),this.detachAllEvents()},i.prototype.cell=function(r){return null},i.prototype.scrollTo=function(r,e){var t=this.$view;this.$config.html&&(t=this.$view.firstChild),1*r==r&&(t.scrollLeft=r),1*e==e&&(t.scrollTop=e)},i.prototype.clear=function(){this.getNode().innerHTML="",this.getNode().className="gantt_layout_content",this.getNode().style.padding="0"},i.prototype.resize=function(r){if(this.$parent)return this.$parent.resize(r);r===!1&&(this.$preResize=!0);var e=this.$container,t=e.offsetWidth,n=e.offsetHeight,o=this.getSize();e===document.body&&(t=document.body.offsetWidth,n=document.body.offsetHeight),t<o.minWidth&&(t=o.minWidth),t>o.maxWidth&&(t=o.maxWidth),n<o.minHeight&&(n=o.minHeight),n>o.maxHeight&&(n=o.maxHeight),this.setSize(t,n),this.$preResize,this.$preResize=!1},i.prototype.hide=function(){this._hide(!0),this.resize()},i.prototype.show=function(r){this._hide(!1),r&&this.$parent&&this.$parent.show(),this.resize()},i.prototype._hide=function(r){if(r===!0&&this.$view.parentNode)this.$view.parentNode.removeChild(this.$view);else if(r===!1&&!this.$view.parentNode){var e=this.$parent.cellIndex(this.$id);this.$parent.moveView(this,e)}this.$config.hidden=r},i.prototype.$toHTML=function(r,e){r===void 0&&(r=""),e=[e||"",this.$config.css||""].join(" ");var t=this.$config,n="";return t.raw?r=typeof t.raw=="string"?t.raw:"":(r||(r="<div class='gantt_layout_content' "+(e?" class='"+e+"' ":"")+" >"+(t.html||"")+"</div>"),t.header&&(n="<div class='gantt_layout_header'>"+(t.canCollapse?"<div class='gantt_layout_header_arrow'></div>":"")+"<div class='gantt_layout_header_content'>"+t.header+"</div></div>")),"<div class='gantt_layout_cell "+e+"' data-cell-id='"+this.$id+"'>"+n+r+"</div>"},i.prototype.$fill=function(r,e){this.$view=r,this.$parent=e,this.init()},i.prototype.getNode=function(){return this.$view.querySelector("gantt_layout_cell")||this.$view},i.prototype.init=function(){var r=this;this._headerClickHandler=function(e){s.locateAttribute(e,"data-cell-id")==r.$id&&r.toggle()},this.$gantt.$services.getService("mouseEvents").delegate("click","gantt_header_arrow",this._headerClickHandler),this.callEvent("onReady",[])},i.prototype.toggle=function(){this.$config.collapsed=!this.$config.collapsed,this.resize()},i.prototype.getSize=function(){var r={height:this.$config.height||0,width:this.$config.width||0,gravity:this.$config.gravity||1,minHeight:this.$config.minHeight||0,minWidth:this.$config.minWidth||0,maxHeight:this.$config.maxHeight||1e11,maxWidth:this.$config.maxWidth||1e11};if(this.$config.collapsed){var e=this.$config.mode==="x";r[e?"width":"height"]=r[e?"maxWidth":"maxHeight"]=this.$config.headerHeight}return r},i.prototype.getContentSize=function(){var r=this.$lastSize.contentX;r!==1*r&&(r=this.$lastSize.width);var e=this.$lastSize.contentY;return e!==1*e&&(e=this.$lastSize.height),{width:r,height:e}},i.prototype._getBorderSizes=function(){var r={top:0,right:0,bottom:0,left:0,horizontal:0,vertical:0};return this._currentBorders&&(this._currentBorders[this._borders.left]&&(r.left=1,r.horizontal++),this._currentBorders[this._borders.right]&&(r.right=1,r.horizontal++),this._currentBorders[this._borders.top]&&(r.top=1,r.vertical++),this._currentBorders[this._borders.bottom]&&(r.bottom=1,r.vertical++)),r},i.prototype.setSize=function(r,e){this.$view.style.width=r+"px",this.$view.style.height=e+"px";var t=this._getBorderSizes(),n=e-t.vertical,o=r-t.horizontal;this.$lastSize={x:r,y:e,contentX:o,contentY:n},this.$config.header?this._sizeHeader():this._sizeContent()},i.prototype._borders={left:"gantt_layout_cell_border_left",right:"gantt_layout_cell_border_right",top:"gantt_layout_cell_border_top",bottom:"gantt_layout_cell_border_bottom"},i.prototype._setBorders=function(r,e){e||(e=this);var t=e.$view;for(var n in this._borders)s.removeClassName(t,this._borders[n]);typeof r=="string"&&(r=[r]);var o={};for(n=0;n<r.length;n++)s.addClassName(t,r[n]),o[r[n]]=!0;e._currentBorders=o},i.prototype._sizeContent=function(){var r=this.$view.childNodes[0];r&&r.className=="gantt_layout_content"&&(r.style.height=this.$lastSize.contentY+"px")},i.prototype._sizeHeader=function(){var r=this.$lastSize;r.contentY-=this.$config.headerHeight;var e=this.$view.childNodes[0],t=this.$view.childNodes[1],n=this.$config.mode==="x";if(this.$config.collapsed)if(t.style.display="none",n){e.className="gantt_layout_header collapsed_x",e.style.width=r.y+"px";var o=Math.floor(r.y/2-r.x/2);e.style.transform="rotate(90deg) translate("+o+"px, "+o+"px)",t.style.display="none"}else e.className="gantt_layout_header collapsed_y";else e.className=n?"gantt_layout_header":"gantt_layout_header vertical",e.style.width="auto",e.style.transform="",t.style.display="",t.style.height=r.contentY+"px";e.style.height=this.$config.headerHeight+"px"},i}();A.exports=c},function(A,E,h){var _=h(11);A.exports=function(u){return _.isNode||!u.$root}},function(A,E){A.exports=function(h,_,u,s){return(s=_?_.config:s)&&s.placeholder_task&&u.exists(h)?u.getItem(h).type===s.types.placeholder:!1}},function(A,E,h){(function(_){function u(c){"@babel/helpers - typeof";return(u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(c)}function s(c){return Object.prototype.toString.call(c)}E.isArray=function(c){return Array.isArray?Array.isArray(c):s(c)==="[object Array]"},E.isBoolean=function(c){return typeof c=="boolean"},E.isNull=function(c){return c===null},E.isNullOrUndefined=function(c){return c==null},E.isNumber=function(c){return typeof c=="number"},E.isString=function(c){return typeof c=="string"},E.isSymbol=function(c){return u(c)==="symbol"},E.isUndefined=function(c){return c===void 0},E.isRegExp=function(c){return s(c)==="[object RegExp]"},E.isObject=function(c){return u(c)==="object"&&c!==null},E.isDate=function(c){return s(c)==="[object Date]"},E.isError=function(c){return s(c)==="[object Error]"||c instanceof Error},E.isFunction=function(c){return typeof c=="function"},E.isPrimitive=function(c){return c===null||typeof c=="boolean"||typeof c=="number"||typeof c=="string"||u(c)==="symbol"||c===void 0},E.isBuffer=_.isBuffer}).call(this,h(13).Buffer)},function(A,E,h){var _=h(3),u=h(36);A.exports=function(s){var c=h(7)(s);function i(){return c.apply(this,arguments)||this}return _(i,c),i.prototype.render=function(r){var e="<div class='gantt_cal_ltext' style='height:"+((r.height||"23")+"px")+";'>";return e+=u.getHtmlSelect(r.options,[{key:"style",value:"width:100%;"},{key:"title",value:r.name}]),e+="</div>"},i.prototype.set_value=function(r,e,t,n){var o=r.firstChild;!o._dhx_onchange&&n.onchange&&(o.onchange=n.onchange,o._dhx_onchange=!0),e===void 0&&(e=(o.options[0]||{}).value),o.value=e||""},i.prototype.get_value=function(r){return r.firstChild.value},i.prototype.focus=function(r){var e=r.firstChild;s._focus(e,!0)},i}},function(A,E){A.exports=function(h,_,u,s,c){if(!h.start_date||!h.end_date)return null;var i=u.getItemTop(h.id),r=u.getItemHeight(h.id);if(i>_.y_end||i+r<_.y)return!1;var e=u.posFromDate(h.start_date),t=u.posFromDate(h.end_date),n=Math.min(e,t)-200,o=Math.max(e,t)+200;return!(n>_.x_end||o<_.x)}},function(A,E){A.exports=function(h){return h.config.smart_rendering&&h._smart_render}},function(A,E,h){(function(_){var u;u=typeof window<"u"?window:_,A.exports=u}).call(this,h(4))},function(A,E,h){var _=h(13),u=_.Buffer;function s(i,r){for(var e in i)r[e]=i[e]}function c(i,r,e){return u(i,r,e)}u.from&&u.alloc&&u.allocUnsafe&&u.allocUnsafeSlow?A.exports=_:(s(_,E),E.Buffer=c),s(u,c),c.from=function(i,r,e){if(typeof i=="number")throw new TypeError("Argument must not be a number");return u(i,r,e)},c.alloc=function(i,r,e){if(typeof i!="number")throw new TypeError("Argument must be a number");var t=u(i);return r!==void 0?typeof e=="string"?t.fill(r,e):t.fill(r):t.fill(0),t},c.allocUnsafe=function(i){if(typeof i!="number")throw new TypeError("Argument must be a number");return u(i)},c.allocUnsafeSlow=function(i){if(typeof i!="number")throw new TypeError("Argument must be a number");return _.SlowBuffer(i)}},function(A,E,h){(function(_){!_.version||_.version.indexOf("v0.")===0||_.version.indexOf("v1.")===0&&_.version.indexOf("v1.8.")!==0?A.exports={nextTick:function(u,s,c,i){if(typeof u!="function")throw new TypeError('"callback" argument must be a function');var r,e,t=arguments.length;switch(t){case 0:case 1:return _.nextTick(u);case 2:return _.nextTick(function(){u.call(null,s)});case 3:return _.nextTick(function(){u.call(null,s,c)});case 4:return _.nextTick(function(){u.call(null,s,c,i)});default:for(r=new Array(t-1),e=0;e<r.length;)r[e++]=arguments[e];return _.nextTick(function(){u.apply(null,r)})}}}:A.exports=_}).call(this,h(9))},function(A,E,h){var _=h(0);A.exports={createDropTargetObject:function(u){var s={targetParent:null,targetIndex:0,targetId:null,child:!1,nextSibling:!1,prevSibling:!1};return u&&_.mixin(s,u,!0),s},nextSiblingTarget:function(u,s,c){var i=this.createDropTargetObject();return i.targetId=s,i.nextSibling=!0,i.targetParent=c.getParent(i.targetId),i.targetIndex=c.getBranchIndex(i.targetId),(c.getParent(u)!=i.targetParent||i.targetIndex<c.getBranchIndex(u))&&(i.targetIndex+=1),i},prevSiblingTarget:function(u,s,c){var i=this.createDropTargetObject();return i.targetId=s,i.prevSibling=!0,i.targetParent=c.getParent(i.targetId),i.targetIndex=c.getBranchIndex(i.targetId),c.getParent(u)==i.targetParent&&i.targetIndex>c.getBranchIndex(u)&&(i.targetIndex-=1),i},firstChildTarget:function(u,s,c){var i=this.createDropTargetObject();return i.targetId=s,i.targetParent=i.targetId,i.targetIndex=0,i.child=!0,i},lastChildTarget:function(u,s,c){var i=c.getChildren(s),r=this.createDropTargetObject();return r.targetId=i[i.length-1],r.targetParent=s,r.targetIndex=i.length,r.nextSibling=!0,r}}},function(A,E,h){var _=h(20);A.exports=function(u,s,c,i){var r=s.width[u];if(r<=0)return!1;if(!i.config.smart_rendering||_(i))return!0;var e=s.left[u]-r,t=s.left[u]+r;return e<=c.x_end&&t>=c.x}},function(A,E){A.exports=function(h,_){var u=0,s=h.left.length-1;if(_)for(var c=0;c<h.left.length;c++){var i=h.left[c];if(i<_.x&&(u=c),i>_.x_end){s=c;break}}return{start:u,end:s}}},function(A,E){A.exports=function(h,_,u){return{top:_.getItemTop(h.id),height:_.getItemHeight(h.id),left:0,right:1/0}}},function(A,E){A.exports=function(h){function _(i,r,e){if(!h._isAllowedUnscheduledTask(i)&&h._isTaskInTimelineLimits(i)){var t=r.getItemPosition(i),n=e,o=r.$getTemplates(),a=h.getTaskType(i.type),l=r.getBarHeight(i.id,a==n.types.milestone),d=0;a==n.types.milestone&&(d=(l-t.height)/2);var f=Math.floor((r.getItemHeight(i.id)-l)/2);a==n.types.milestone&&(t.left-=Math.round(l/2),t.width=l);var g=document.createElement("div"),p=Math.round(t.width);r.$config.item_attribute&&(g.setAttribute(r.$config.item_attribute,i.id),g.setAttribute(r.$config.bind+"_id",i.id)),n.show_progress&&a!=n.types.milestone&&function($,w,x,T,D){var I=1*$.progress||0;x=Math.max(x-2,0);var P=document.createElement("div"),R=Math.round(x*I);R=Math.min(x,R),$.progressColor&&(P.style.backgroundColor=$.progressColor,P.style.opacity=1),P.style.width=R+"px",P.className="gantt_task_progress",P.innerHTML=D.progress_text($.start_date,$.end_date,$),T.rtl&&(P.style.position="absolute",P.style.right="0px");var H=document.createElement("div");if(H.className="gantt_task_progress_wrapper",H.appendChild(P),w.appendChild(H),h.config.drag_progress&&!h.isReadonly($)){var F=document.createElement("div"),Y=R;T.rtl&&(Y=x-R),F.style.left=Y+"px",F.className="gantt_task_progress_drag",P.appendChild(F),w.appendChild(F)}}(i,g,p,n,o);var m=function($,w,x){var T=document.createElement("div");return h.getTaskType($.type)!=h.config.types.milestone?T.innerHTML=x.task_text($.start_date,$.end_date,$):h.getTaskType($.type)==h.config.types.milestone&&w&&(T.style.height=T.style.width=w+"px"),T.className="gantt_task_content",T}(i,p,o);i.textColor&&(m.style.color=i.textColor),g.appendChild(m);var y=function($,w,x,T){var D=T.$getConfig(),I=[$];w&&I.push(w);var P=h.getState(),R=h.getTask(x);if(h.getTaskType(R.type)==D.types.milestone?I.push("gantt_milestone"):h.getTaskType(R.type)==D.types.project&&I.push("gantt_project"),I.push("gantt_bar_"+h.getTaskType(R.type)),h.isSummaryTask(R)&&I.push("gantt_dependent_task"),h.isSplitTask(R)&&(D.open_split_tasks&&!R.$open||!D.open_split_tasks)&&I.push("gantt_split_parent"),D.select_task&&h.isSelectedTask(x)&&I.push("gantt_selected"),x==P.drag_id&&(I.push("gantt_drag_"+P.drag_mode),P.touch_drag&&I.push("gantt_touch_"+P.drag_mode)),P.link_source_id==x&&I.push("gantt_link_source"),P.link_target_id==x&&I.push("gantt_link_target"),D.highlight_critical_path&&h.isCriticalTask&&h.isCriticalTask(R)&&I.push("gantt_critical_task"),P.link_landing_area&&P.link_target_id&&P.link_source_id&&P.link_target_id!=P.link_source_id&&(P.link_target_id==x||P.link_source_id==x)){var H=P.link_source_id,F=P.link_from_start,Y=P.link_to_start,q=h.isLinkAllowed(H,x,F,Y),L="";L=q?Y?"link_start_allow":"link_finish_allow":Y?"link_start_deny":"link_finish_deny",I.push(L)}return I.join(" ")}("gantt_task_line",o.task_class(i.start_date,i.end_date,i),i.id,r);(i.color||i.progressColor||i.textColor)&&(y+=" gantt_task_inline_color"),t.width<20&&(y+=" gantt_thin_task"),g.className=y;var v=["left:"+t.left+"px","top:"+(f+t.top)+"px","height:"+(a==n.types.milestone?t.height:l)+"px","line-height:"+Math.max(l<30?l-2:l,0)+"px","width:"+p+"px"];i.color&&v.push("background-color:"+i.color),i.textColor&&v.push("color:"+i.textColor),g.style.cssText=v.join(";");var b=function($,w,x,T){var D="gantt_left "+s(!w.rtl,$),I=null;return T&&(I={type:"marginRight",value:T}),u($,x.leftside_text,D,I)}(i,n,o,d);b&&g.appendChild(b),(b=function($,w,x,T){var D="gantt_right "+s(!!w.rtl,$),I=null;return T&&(I={type:"marginLeft",value:T}),u($,x.rightside_text,D,I)}(i,n,o,d))&&g.appendChild(b),h._waiAria.setTaskBarAttr(i,g);var k=h.getState();return h.isReadonly(i)||(n.drag_resize&&!h.isSummaryTask(i)&&a!=n.types.milestone&&c(g,"gantt_task_drag",i,function($){var w=document.createElement("div");return w.className=$,w},n),n.drag_links&&n.show_links&&c(g,"gantt_link_control",i,function($){var w=document.createElement("div");w.className=$,w.style.cssText=["height:"+l+"px","line-height:"+l+"px"].join(";");var x=document.createElement("div");x.className="gantt_link_point";var T=!1;return k.link_source_id&&n.touch&&(T=!0),x.style.display=T?"block":"",w.appendChild(x),w},n,d)),g}}function u(i,r,e,t){if(!r)return null;var n=r(i.start_date,i.end_date,i);if(!n)return null;var o=document.createElement("div");return o.className="gantt_side_content "+e,o.innerHTML=n,t&&(o.style[t.type]=Math.abs(t.value)+"px"),o}function s(i,r){var e=function(d){return d?{$source:[h.config.links.start_to_start],$target:[h.config.links.start_to_start,h.config.links.finish_to_start]}:{$source:[h.config.links.finish_to_start,h.config.links.finish_to_finish],$target:[h.config.links.finish_to_finish]}}(i);for(var t in e)for(var n=r[t],o=0;o<n.length;o++)for(var a=h.getLink(n[o]),l=0;l<e[t].length;l++)if(a.type==e[t][l])return"gantt_link_crossing";return""}function c(i,r,e,t,n,o){var a,l=h.getState();+e.start_date>=+l.min_date&&((a=t([r,n.rtl?"task_right":"task_left","task_start_date"].join(" "))).setAttribute("data-bind-property","start_date"),o&&(a.style.marginLeft=o+"px"),i.appendChild(a)),+e.end_date<=+l.max_date&&((a=t([r,n.rtl?"task_left":"task_right","task_end_date"].join(" "))).setAttribute("data-bind-property","end_date"),o&&(a.style.marginRight=o+"px"),i.appendChild(a))}return function(i,r,e){var t=(e=r.$getConfig()).type_renderers[h.getTaskType(i.type)],n=_;return t?t.call(h,i,function(o){return n.call(h,o,r,e)},r):n.call(h,i,r,e)}}},function(A,E,h){var _=h(33),u=h(5),s=h(0),c=h(2),i=h(43),r=h(128),e=function(t,n,o,a){this.$config=s.mixin({},n||{}),this.$scaleHelper=new _(a),this.$gantt=a,this._posFromDateCache={},this._timelineDragScroll=null,s.mixin(this,i(this)),u(this)};e.prototype={init:function(t){t.innerHTML+="<div class='gantt_task' style='width:inherit;height:inherit;'></div>",this.$task=t.childNodes[0],this.$task.innerHTML="<div class='gantt_task_scale'></div><div class='gantt_data_area'></div>",this.$task_scale=this.$task.childNodes[0],this.$task_data=this.$task.childNodes[1],this.$task_data.innerHTML="<div class='gantt_task_bg'></div><div class='gantt_links_area'></div><div class='gantt_bars_area'></div>",this.$task_bg=this.$task_data.childNodes[0],this.$task_links=this.$task_data.childNodes[1],this.$task_bars=this.$task_data.childNodes[2],this._tasks={col_width:0,width:[],full_width:0,trace_x:[],rendered:{}};var n=this.$getConfig(),o=n[this.$config.bind+"_attribute"],a=n[this.$config.bindLinks+"_attribute"];!o&&this.$config.bind&&(o="data-"+this.$config.bind+"-id"),!a&&this.$config.bindLinks&&(a="data-"+this.$config.bindLinks+"-id"),this.$config.item_attribute=o||null,this.$config.link_attribute=a||null;var l=this._createLayerConfig();this.$config.layers||(this.$config.layers=l.tasks),this.$config.linkLayers||(this.$config.linkLayers=l.links),this._attachLayers(this.$gantt),this.callEvent("onReady",[]),this.$gantt.ext.dragTimeline&&(this._timelineDragScroll=this.$gantt.ext.dragTimeline.create(),this._timelineDragScroll.attach(this))},setSize:function(t,n){var o=this.$getConfig();if(1*t===t&&(this.$config.width=t),1*n===n){this.$config.height=n;var a=Math.max(this.$config.height-o.scale_height);this.$task_data.style.height=a+"px"}this.refresh(),this.$task_bg.style.backgroundImage="",o.smart_rendering&&this.$config.rowStore?this.$task_bg.style.height=this.getTotalHeight()+"px":this.$task_bg.style.height="";for(var l=this._tasks,d=this.$task_data.childNodes,f=0,g=d.length;f<g;f++){var p=d[f];p.hasAttribute("data-layer")&&p.style&&(p.style.width=l.full_width+"px")}},isVisible:function(){return this.$parent&&this.$parent.$config?!this.$parent.$config.hidden:this.$task.offsetWidth},getSize:function(){var t=this.$getConfig(),n=this.$config.rowStore?this.getTotalHeight():0,o=this.isVisible()?this._tasks.full_width:0;return{x:this.isVisible()?this.$config.width:0,y:this.isVisible()?this.$config.height:0,contentX:this.isVisible()?o:0,contentY:this.isVisible()?t.scale_height+n:0,scrollHeight:this.isVisible()?n:0,scrollWidth:this.isVisible()?o:0}},scrollTo:function(t,n){if(this.isVisible()){var o=!1;this.$config.scrollTop=this.$config.scrollTop||0,this.$config.scrollLeft=this.$config.scrollLeft||0,1*n===n&&(this.$config.scrollTop=n,this.$task_data.scrollTop=this.$config.scrollTop,o=!0),1*t===t&&(this.$task.scrollLeft=t,this.$config.scrollLeft=this.$task.scrollLeft,this._refreshScales(),o=!0),o&&this.callEvent("onScroll",[this.$config.scrollLeft,this.$config.scrollTop])}},_refreshScales:function(){if(this.isVisible()&&this.$getConfig().smart_scales){var t=this.getViewPort(),n=this._scales;this.$task_scale.innerHTML=this._getScaleChunkHtml(n,t.x,t.x_end)}},getViewPort:function(){var t=this.$config.scrollLeft||0,n=this.$config.scrollTop||0,o=this.$config.height||0,a=this.$config.width||0;return{y:n,y_end:n+o,x:t,x_end:t+a,height:o,width:a}},_createLayerConfig:function(){var t=this,n=function(){return t.isVisible()};return{tasks:[{expose:!0,renderer:this.$gantt.$ui.layers.taskBar(),container:this.$task_bars,filter:[n,function(o,a){return!a.hide_bar}]},{renderer:this.$gantt.$ui.layers.taskSplitBar(),filter:[n],container:this.$task_bars,append:!0},{renderer:this.$gantt.$ui.layers.taskRollupBar(),filter:[n],container:this.$task_bars,append:!0},{renderer:this.$gantt.$ui.layers.taskBg(),container:this.$task_bg,filter:[n]}],links:[{expose:!0,renderer:this.$gantt.$ui.layers.link(),container:this.$task_links,filter:[n]}]}},_attachLayers:function(t){this._taskLayers=[],this._linkLayers=[];var n=this,o=this.$gantt.$services.getService("layers");if(this.$config.bind){this._bindStore();var a=o.getDataRender(this.$config.bind);a||(a=o.createDataRender({name:this.$config.bind,defaultContainer:function(){return n.$task_data}})),a.container=function(){return n.$task_data};for(var l=this.$config.layers,d=0;l&&d<l.length;d++){typeof(m=l[d])=="string"&&(m=this.$gantt.$ui.layers[m]()),(typeof m=="function"||m&&m.render&&m.update)&&(m={renderer:m}),m.view=this;var f=a.addLayer(m);this._taskLayers.push(f),m.expose&&(this._taskRenderer=a.getLayer(f))}this._initStaticBackgroundRender()}if(this.$config.bindLinks){n.$config.linkStore=n.$gantt.getDatastore(n.$config.bindLinks);var g=o.getDataRender(this.$config.bindLinks);g||(g=o.createDataRender({name:this.$config.bindLinks,defaultContainer:function(){return n.$task_data}}));var p=this.$config.linkLayers;for(d=0;p&&d<p.length;d++){var m;typeof m=="string"&&(m=this.$gantt.$ui.layers[m]()),(m=p[d]).view=this;var y=g.addLayer(m);this._taskLayers.push(y),p[d].expose&&(this._linkRenderer=g.getLayer(y))}}},_initStaticBackgroundRender:function(){var t=this,n=r.create(),o=t.$config.rowStore;o&&(this._staticBgHandler=o.attachEvent("onStoreUpdated",function(a,l,d){if(a===null&&t.isVisible()){var f=t.$getConfig();if(f.static_background||f.timeline_placeholder){var g=t.$gantt.getDatastore(t.$config.bind),p=t.$task_bg_static;if(p||((p=document.createElement("div")).className="gantt_task_bg",t.$task_bg_static=p,t.$task_bg.nextSibling?t.$task_data.insertBefore(p,t.$task_bg.nextSibling):t.$task_data.appendChild(p)),g){var m=t.getTotalHeight();f.timeline_placeholder&&(m=f.timeline_placeholder.height||t.$task_data.offsetHeight||99999),n.render(p,f,t.getScale(),m,t.getItemHeight(l?l.id:null))}}else f.static_background&&t.$task_bg_static&&t.$task_bg_static.parentNode&&t.$task_bg_static.parentNode.removeChild(t.$task_bg_static)}}),this.attachEvent("onDestroy",function(){n.destroy()}),this._initStaticBackgroundRender=function(){})},_clearLayers:function(t){var n=this.$gantt.$services.getService("layers"),o=n.getDataRender(this.$config.bind),a=n.getDataRender(this.$config.bindLinks);if(this._taskLayers)for(var l=0;l<this._taskLayers.length;l++)o.removeLayer(this._taskLayers[l]);if(this._linkLayers)for(l=0;l<this._linkLayers.length;l++)a.removeLayer(this._linkLayers[l]);this._linkLayers=[],this._taskLayers=[]},_render_tasks_scales:function(){var t=this.$getConfig(),n="",o=0,a=0,l=this.$gantt.getState();if(this.isVisible()){var d=this.$scaleHelper,f=this._getScales();a=t.scale_height;var g=this.$config.width;t.autosize!="x"&&t.autosize!="xy"||(g=Math.max(t.autosize_min_width,0));var p=d.prepareConfigs(f,t.min_column_width,g,a-1,l.min_date,l.max_date,t.rtl),m=this._tasks=p[p.length-1];this._scales=p,this._posFromDateCache={},n=this._getScaleChunkHtml(p,0,this.$config.width),o=m.full_width+"px",a+="px"}this.$task_scale.style.height=a,this.$task_data.style.width=this.$task_scale.style.width=o,this.$task_scale.innerHTML=n},_getScaleChunkHtml:function(t,n,o){for(var a=[],l=this.$gantt.templates.scale_row_class,d=0;d<t.length;d++){var f="gantt_scale_line",g=l(t[d]);g&&(f+=" "+g),a.push('<div class="'+f+'" style="height:'+t[d].height+"px;position:relative;line-height:"+t[d].height+'px">'+this._prepareScaleHtml(t[d],n,o)+"</div>")}return a.join("")},_prepareScaleHtml:function(t,n,o){var a=this.$getConfig(),l=this.$gantt.templates,d=[],f=null,g=null,p=t.format||t.template||t.date;typeof p=="string"&&(p=this.$gantt.date.date_to_str(p));var m=0,y=t.count;!a.smart_scales||isNaN(n)||isNaN(o)||(m=c.findBinary(t.left,n),y=c.findBinary(t.left,o)+1),g=t.css||function(){},!t.css&&a.inherit_scale_class&&(g=l.scale_cell_class);for(var v=m;v<y&&t.trace_x[v];v++){f=new Date(t.trace_x[v]);var b=p.call(this,f),k=t.width[v],$=t.height,w=t.left[v],x="",T="",D="";if(k){x="width:"+k+"px;height:"+$+"px;"+(a.smart_scales?"position:absolute;left:"+w+"px":""),D="gantt_scale_cell"+(v==t.count-1?" gantt_last_cell":""),(T=g.call(this,f))&&(D+=" "+T);var I="<div class='"+D+"'"+this.$gantt._waiAria.getTimelineCellAttr(b)+" style='"+x+"'>"+b+"</div>";d.push(I)}}return d.join("")},dateFromPos:function(t){var n=this._tasks;if(t<0||t>n.full_width||!n.full_width)return null;var o=c.findBinary(this._tasks.left,t),a=this._tasks.left[o],l=n.width[o]||n.col_width,d=0;l&&(d=(t-a)/l,n.rtl&&(d=1-d));var f=0;return d&&(f=this._getColumnDuration(n,n.trace_x[o])),new Date(n.trace_x[o].valueOf()+Math.round(d*f))},posFromDate:function(t){if(!this.isVisible()||!t)return 0;var n=String(t.valueOf());if(this._posFromDateCache[n]!==void 0)return this._posFromDateCache[n];var o=this.columnIndexByDate(t);this.$gantt.assert(o>=0,"Invalid day index");var a=Math.floor(o),l=o%1,d=this._tasks.left[Math.min(a,this._tasks.width.length-1)];a==this._tasks.width.length&&(d+=this._tasks.width[this._tasks.width.length-1]),l&&(a<this._tasks.width.length?d+=this._tasks.width[a]*(l%1):d+=1);var f=Math.round(d);return this._posFromDateCache[n]=f,Math.round(f)},_getNextVisibleColumn:function(t,n,o){for(var a=+n[t],l=t;o[a];)a=+n[++l];return l},_getPrevVisibleColumn:function(t,n,o){for(var a=+n[t],l=t;o[a];)a=+n[--l];return l},_getClosestVisibleColumn:function(t,n,o){var a=this._getNextVisibleColumn(t,n,o);return n[a]||(a=this._getPrevVisibleColumn(t,n,o)),a},columnIndexByDate:function(t){var n=new Date(t).valueOf(),o=this._tasks.trace_x_ascending,a=this._tasks.ignore_x,l=this.$gantt.getState();if(n<=l.min_date)return this._tasks.rtl?o.length:0;if(n>=l.max_date)return this._tasks.rtl?0:o.length;var d=c.findBinary(o,n),f=this._getClosestVisibleColumn(d,o,a),g=o[f],p=this._tasks.trace_index_transition;if(!g)return p?p[0]:0;var m=(t-o[f])/this._getColumnDuration(this._tasks,o[f]);return p?p[f]+(1-m):f+m},getItemPosition:function(t,n,o){var a,l,d;return this._tasks.rtl?(l=this.posFromDate(n||t.start_date),a=this.posFromDate(o||t.end_date)):(a=this.posFromDate(n||t.start_date),l=this.posFromDate(o||t.end_date)),d=Math.max(l-a,0),{left:a,top:this.getItemTop(t.id),height:this.getBarHeight(t.id),width:d,rowHeight:this.getItemHeight(t.id)}},getBarHeight:function(t,n){var o=this.$getConfig(),a=this.$config.rowStore.getItem(t),l=a.task_height||a.bar_height||o.bar_height||o.task_height,d=this.getItemHeight(t);return l=="full"&&(l=d-(o.task_height_offset||5)),l=Math.min(l,d),n&&(l=Math.round(l/Math.sqrt(2))),Math.max(l,0)},getScale:function(){return this._tasks},_getScales:function(){var t=this.$getConfig(),n=this.$scaleHelper,o=[n.primaryScale(t)].concat(n.getSubScales(t));return n.sortScales(o),o},_getColumnDuration:function(t,n){return this.$gantt.date.add(n,t.step,t.unit)-n},_bindStore:function(){if(this.$config.bind){var t=this.$gantt.getDatastore(this.$config.bind);if(this.$config.rowStore=t,t&&!t._timelineCacheAttached){var n=this;t._timelineCacheAttached=t.attachEvent("onBeforeFilter",function(){n._resetTopPositionHeight()})}}},_unbindStore:function(){if(this.$config.bind){var t=this.$gantt.getDatastore(this.$config.bind);t&&t._timelineCacheAttached&&(t.detachEvent(t._timelineCacheAttached),t._timelineCacheAttached=!1)}},refresh:function(){this._bindStore(),this.$config.bindLinks&&(this.$config.linkStore=this.$gantt.getDatastore(this.$config.bindLinks)),this._resetTopPositionHeight(),this._resetHeight(),this._initStaticBackgroundRender(),this._render_tasks_scales()},destructor:function(){var t=this.$gantt;this._clearLayers(t),this._unbindStore(),this.$task=null,this.$task_scale=null,this.$task_data=null,this.$task_bg=null,this.$task_links=null,this.$task_bars=null,this.$gantt=null,this.$config.rowStore&&(this.$config.rowStore.detachEvent(this._staticBgHandler),this.$config.rowStore=null),this.$config.linkStore&&(this.$config.linkStore=null),this._timelineDragScroll&&(this._timelineDragScroll.destructor(),this._timelineDragScroll=null),this.callEvent("onDestroy",[]),this.detachAllEvents()}},A.exports=e},function(A,E){A.exports=function(h,_,u){return{top:_.getItemTop(h.id),height:_.getItemHeight(h.id),left:0,right:1/0}}},function(A,E){A.exports=function(h){var _=[];return{delegate:function(u,s,c,i){_.push([u,s,c,i]),h.$services.getService("mouseEvents").delegate(u,s,c,i)},destructor:function(){for(var u=h.$services.getService("mouseEvents"),s=0;s<_.length;s++){var c=_[s];u.detach(c[0],c[1],c[2],c[3])}_=[]}}}},function(A,E,h){var _=h(1),u=h(0),s=h(5),c=h(209),i=h(43),r=h(207),e=h(206).default,t=function(n,o,a,l){this.$config=u.mixin({},o||{}),this.$gantt=l,this.$parent=n,s(this),this.$state={},u.mixin(this,i(this))};t.prototype={init:function(n){var o=this.$gantt,a=o._waiAria.gridAttrString(),l=o._waiAria.gridDataAttrString(),d=this.$getConfig(),f=d.reorder_grid_columns||!1;this.$config.reorder_grid_columns!==void 0&&(f=this.$config.reorder_grid_columns),n.innerHTML="<div class='gantt_grid' style='height:inherit;width:inherit;' "+a+"></div>",this.$grid=n.childNodes[0],this.$grid.innerHTML="<div class='gantt_grid_scale' "+o._waiAria.gridScaleRowAttrString()+"></div><div class='gantt_grid_data' "+l+"></div>",this.$grid_scale=this.$grid.childNodes[0],this.$grid_data=this.$grid.childNodes[1];var g=d[this.$config.bind+"_attribute"];if(!g&&this.$config.bind&&(g="data-"+this.$config.bind+"-id"),this.$config.item_attribute=g||null,!this.$config.layers){var p=this._createLayerConfig();this.$config.layers=p}var m=c(o,this);m.init(),this._renderHeaderResizers=m.doOnRender,this._mouseDelegates=h(31)(o),r(o,this).init(),this._addLayers(this.$gantt),this._initEvents(),f&&(this._columnDND=new e(o,this),this._columnDND.init()),this.callEvent("onReady",[])},_validateColumnWidth:function(n,o){var a=n[o];if(a&&a!="*"){var l=this.$gantt,d=1*a;isNaN(d)?l.assert(!1,"Wrong "+o+" value of column "+n.name):n[o]=d}},setSize:function(n,o){this.$config.width=this.$state.width=n,this.$config.height=this.$state.height=o;for(var a,l=this.getGridColumns(),d=0,f=(b=this.$getConfig()).grid_elastic_columns,g=0,p=l.length;g<p;g++)this._validateColumnWidth(l[g],"min_width"),this._validateColumnWidth(l[g],"max_width"),this._validateColumnWidth(l[g],"width"),d+=1*l[g].width;if(!isNaN(d)&&this.$config.scrollable||(d=a=this._setColumnsWidth(n+1)),this.$config.scrollable&&f&&!isNaN(d)){var m="width";f=="min_width"&&(m="min_width");var y=0;l.forEach(function($){y+=$[m]||b.min_grid_column_width});var v=Math.max(y,n);d=this._setColumnsWidth(v),a=n}this.$config.scrollable?(this.$grid_scale.style.width=d+"px",this.$grid_data.style.width=d+"px"):(this.$grid_scale.style.width="inherit",this.$grid_data.style.width="inherit"),this.$config.width-=1;var b=this.$getConfig();a!==n&&(a!==void 0?(b.grid_width=a,this.$config.width=a-1):isNaN(d)||(this._setColumnsWidth(d),b.grid_width=d,this.$config.width=d-1));var k=Math.max(this.$state.height-b.scale_height,0);this.$grid_data.style.height=k+"px",this.refresh()},getSize:function(){var n=this.$getConfig(),o=this.$config.rowStore?this.getTotalHeight():0,a=this._getGridWidth();return{x:this.$state.width,y:this.$state.height,contentX:this.isVisible()?a:0,contentY:this.isVisible()?n.scale_height+o:0,scrollHeight:this.isVisible()?o:0,scrollWidth:this.isVisible()?a:0}},_bindStore:function(){if(this.$config.bind){var n=this.$gantt.getDatastore(this.$config.bind);if(this.$config.rowStore=n,n&&!n._gridCacheAttached){var o=this;n._gridCacheAttached=n.attachEvent("onBeforeFilter",function(){o._resetTopPositionHeight()})}}},_unbindStore:function(){if(this.$config.bind){var n=this.$gantt.getDatastore(this.$config.bind);n&&n._gridCacheAttached&&(n.detachEvent(n._gridCacheAttached),n._gridCacheAttached=!1)}},refresh:function(){this._bindStore(),this._resetTopPositionHeight(),this._resetHeight(),this._initSmartRenderingPlaceholder(),this._calculateGridWidth(),this._renderGridHeader()},getViewPort:function(){var n=this.$config.scrollLeft||0,o=this.$config.scrollTop||0,a=this.$config.height||0,l=this.$config.width||0;return{y:o,y_end:o+a,x:n,x_end:n+l,height:a,width:l}},scrollTo:function(n,o){if(this.isVisible()){var a=!1;this.$config.scrollTop=this.$config.scrollTop||0,this.$config.scrollLeft=this.$config.scrollLeft||0,1*n==n&&(this.$config.scrollLeft=this.$state.scrollLeft=this.$grid.scrollLeft=n,a=!0),1*o==o&&(this.$config.scrollTop=this.$state.scrollTop=this.$grid_data.scrollTop=o,a=!0),a&&this.callEvent("onScroll",[this.$config.scrollLeft,this.$config.scrollTop])}},getColumnIndex:function(n,o){for(var a=this.$getConfig().columns,l=0,d=0;d<a.length;d++)if(o&&a[d].hide&&l++,a[d].name==n)return d-l;return null},getColumn:function(n){var o=this.getColumnIndex(n);return o===null?null:this.$getConfig().columns[o]},getGridColumns:function(){return this.$getConfig().columns.slice()},isVisible:function(){return this.$parent&&this.$parent.$config?!this.$parent.$config.hidden:this.$grid.offsetWidth},_createLayerConfig:function(){var n=this.$gantt,o=this;return[{renderer:n.$ui.layers.gridLine(),container:this.$grid_data,filter:[function(){return o.isVisible()}]},{renderer:n.$ui.layers.gridTaskRowResizer(),container:this.$grid_data,append:!0,filter:[function(){return n.config.resize_rows}]}]},_addLayers:function(n){if(this.$config.bind){this._taskLayers=[];var o=this,a=this.$gantt.$services.getService("layers"),l=a.getDataRender(this.$config.bind);l||(l=a.createDataRender({name:this.$config.bind,defaultContainer:function(){return o.$grid_data}}));for(var d=this.$config.layers,f=0;d&&f<d.length;f++){var g=d[f];g.view=this;var p=l.addLayer(g);this._taskLayers.push(p)}this._bindStore(),this._initSmartRenderingPlaceholder()}},_refreshPlaceholderOnStoreUpdate:function(n){var o=this.$getConfig(),a=this.$config.rowStore;if(a&&n===null&&this.isVisible()&&o.smart_rendering){var l;if(this.$config.scrollY){var d=this.$gantt.$ui.getView(this.$config.scrollY);d&&(l=d.getScrollState().scrollSize)}if(l||(l=a?this.getTotalHeight():0),l){this.$rowsPlaceholder&&this.$rowsPlaceholder.parentNode&&this.$rowsPlaceholder.parentNode.removeChild(this.$rowsPlaceholder);var f=this.$rowsPlaceholder=document.createElement("div");f.style.visibility="hidden",f.style.height=l+"px",f.style.width="1px",this.$grid_data.appendChild(f)}}},_initSmartRenderingPlaceholder:function(){var n=this.$config.rowStore;n&&(this._initSmartRenderingPlaceholder=function(){},this._staticBgHandler=n.attachEvent("onStoreUpdated",u.bind(this._refreshPlaceholderOnStoreUpdate,this)))},_initEvents:function(){var n=this.$gantt;this._mouseDelegates.delegate("click","gantt_close",n.bind(function(o,a,l){var d=this.$config.rowStore;if(!d)return!0;var f=_.locateAttribute(o,this.$config.item_attribute);return f&&d.close(f.getAttribute(this.$config.item_attribute)),!1},this),this.$grid),this._mouseDelegates.delegate("click","gantt_open",n.bind(function(o,a,l){var d=this.$config.rowStore;if(!d)return!0;var f=_.locateAttribute(o,this.$config.item_attribute);return f&&d.open(f.getAttribute(this.$config.item_attribute)),!1},this),this.$grid)},_clearLayers:function(n){var o=this.$gantt.$services.getService("layers").getDataRender(this.$config.bind);if(this._taskLayers)for(var a=0;a<this._taskLayers.length;a++)o.removeLayer(this._taskLayers[a]);this._taskLayers=[]},_getColumnWidth:function(n,o,a){var l=n.min_width||o.min_grid_column_width,d=Math.max(a,l||10);return n.max_width&&(d=Math.min(d,n.max_width)),d},_checkGridColumnMinWidthLimits:function(n,o){for(var a=0,l=n.length;a<l;a++){var d=1*n[a].width;!n[a].min_width&&d<o.min_grid_column_width&&(n[a].min_width=d)}},_getGridWidthLimits:function(){for(var n=this.$getConfig(),o=this.getGridColumns(),a=0,l=0,d=0;d<o.length;d++)a+=o[d].min_width?o[d].min_width:n.min_grid_column_width,l!==void 0&&(l=o[d].max_width?l+o[d].max_width:void 0);return this._checkGridColumnMinWidthLimits(o,n),[a,l]},_setColumnsWidth:function(n,o){var a=this.$getConfig(),l=this.getGridColumns(),d=0,f=n;o=window.isNaN(o)?-1:o;for(var g=0,p=l.length;g<p;g++)d+=1*l[g].width;if(window.isNaN(d))for(this._calculateGridWidth(),d=0,g=0,p=l.length;g<p;g++)d+=1*l[g].width;var m=f-d,y=0;for(g=0;g<o+1;g++)y+=l[g].width;for(d-=y,g=o+1;g<l.length;g++){var v=l[g],b=Math.round(m*(v.width/d));m<0?v.min_width&&v.width+b<v.min_width?b=v.min_width-v.width:!v.min_width&&a.min_grid_column_width&&v.width+b<a.min_grid_column_width&&(b=a.min_grid_column_width-v.width):v.max_width&&v.width+b>v.max_width&&(b=v.max_width-v.width),d-=v.width,v.width+=b,m-=b}for(var k=m>0?1:-1;m>0&&k===1||m<0&&k===-1;){var $=m;for(g=o+1;g<l.length;g++){var w;if((w=l[g].width+k)==this._getColumnWidth(l[g],a,w)&&(m-=k,l[g].width=w),!m)break}if($==m)break}return m&&o>-1&&(w=l[o].width+m)==this._getColumnWidth(l[o],a,w)&&(l[o].width=w),this._getColsTotalWidth()},_getColsTotalWidth:function(){for(var n=this.getGridColumns(),o=0,a=0;a<n.length;a++){var l=parseFloat(n[a].width);if(window.isNaN(l))return!1;o+=l}return o},_calculateGridWidth:function(){for(var n=this.$getConfig(),o=this.getGridColumns(),a=0,l=[],d=[],f=0;f<o.length;f++){var g=parseFloat(o[f].width);window.isNaN(g)&&(g=n.min_grid_column_width||10,l.push(f)),d[f]=g,a+=g}var p=this._getGridWidth()+1;if(n.autofit||l.length){var m=p-a;if(n.autofit&&!n.grid_elastic_columns)for(f=0;f<d.length;f++){var y=Math.round(m/(d.length-f));d[f]+=y,(v=this._getColumnWidth(o[f],n,d[f]))!=d[f]&&(y=v-d[f],d[f]=v),m-=y}else if(l.length)for(f=0;f<l.length;f++){y=Math.round(m/(l.length-f));var v,b=l[f];d[b]+=y,(v=this._getColumnWidth(o[b],n,d[b]))!=d[b]&&(y=v-d[b],d[b]=v),m-=y}for(f=0;f<d.length;f++)o[f].width=d[f]}else{var k=p!=a;this.$config.width=a-1,n.grid_width=a,k&&this.$parent._setContentSize(this.$config.width,null)}},_renderGridHeader:function(){var n=this.$gantt,o=this.$getConfig(),a=this.$gantt.locale,l=this.$gantt.templates,d=this.getGridColumns();o.rtl&&(d=d.reverse());for(var f=[],g=0,p=a.labels,m=o.scale_height-1,y=0;y<d.length;y++){var v=y==d.length-1,b=d[y];b.name||(b.name=n.uid()+"");var k=1*b.width,$=this._getGridWidth();v&&$>g+k&&(b.width=k=$-g),g+=k;var w=n._sort&&b.name==n._sort.name?"<div class='gantt_sort gantt_"+n._sort.direction+"'></div>":"",x=["gantt_grid_head_cell","gantt_grid_head_"+b.name,v?"gantt_last_cell":"",l.grid_header_class(b.name,b)].join(" "),T="width:"+(k-(v?1:0))+"px;",D=b.label||p["column_"+b.name]||p[b.name];D=D||"";var I="<div class='"+x+"' style='"+T+"' "+n._waiAria.gridScaleCellAttrString(b,D)+" data-column-id='"+b.name+"' column_id='"+b.name+"' data-column-name='"+b.name+"' data-column-index='"+y+"'>"+D+w+"</div>";f.push(I)}this.$grid_scale.style.height=o.scale_height+"px",this.$grid_scale.style.lineHeight=m+"px",this.$grid_scale.innerHTML=f.join(""),this._renderHeaderResizers&&this._renderHeaderResizers()},_getGridWidth:function(){return this.$config.width},destructor:function(){this._clearLayers(this.$gantt),this._mouseDelegates&&(this._mouseDelegates.destructor(),this._mouseDelegates=null),this._unbindStore(),this.$grid=null,this.$grid_scale=null,this.$grid_data=null,this.$gantt=null,this.$config.rowStore&&(this.$config.rowStore.detachEvent(this._staticBgHandler),this.$config.rowStore=null),this.callEvent("onDestroy",[]),this.detachAllEvents()}},A.exports=t},function(A,E,h){var _=h(0);A.exports=function(u){var s=u.date,c=u.$services;return{getSum:function(i,r,e){e===void 0&&(e=i.length-1),r===void 0&&(r=0);for(var t=0,n=r;n<=e;n++)t+=i[n];return t},setSumWidth:function(i,r,e,t){var n=r.width;t===void 0&&(t=n.length-1),e===void 0&&(e=0);var o=t-e+1;if(!(e>n.length-1||o<=0||t>n.length-1)){var a=i-this.getSum(n,e,t);this.adjustSize(a,n,e,t),this.adjustSize(-a,n,t+1),r.full_width=this.getSum(n)}},splitSize:function(i,r){for(var e=[],t=0;t<r;t++)e[t]=0;return this.adjustSize(i,e),e},adjustSize:function(i,r,e,t){e||(e=0),t===void 0&&(t=r.length-1);for(var n=t-e+1,o=this.getSum(r,e,t),a=e;a<=t;a++){var l=Math.floor(i*(o?r[a]/o:1/n));o-=r[a],i-=l,n--,r[a]+=l}r[r.length-1]+=i},sortScales:function(i){function r(t,n){var o=new Date(1970,0,1);return s.add(o,n,t)-o}i.sort(function(t,n){return r(t.unit,t.step)<r(n.unit,n.step)?1:r(t.unit,t.step)>r(n.unit,n.step)?-1:0});for(var e=0;e<i.length;e++)i[e].index=e},_isLegacyMode:function(i){var r=i||u.config;return r.scale_unit||r.date_scale||r.subscales},_prepareScaleObject:function(i){var r=i.format;return r||(r=i.template||i.date||"%d %M"),typeof r=="string"&&(r=u.date.date_to_str(r)),{unit:i.unit||"day",step:i.step||1,format:r,css:i.css}},primaryScale:function(i){var r,e=c.getService("templateLoader"),t=this._isLegacyMode(i),n=i||u.config;if(t)e.initTemplate("date_scale",void 0,void 0,n,u.config.templates),r={unit:u.config.scale_unit,step:u.config.step,template:u.templates.date_scale,date:u.config.date_scale,css:u.templates.scale_cell_class};else{var o=n.scales[0];r={unit:o.unit,step:o.step,template:o.template,format:o.format,date:o.date,css:o.css||u.templates.scale_cell_class}}return this._prepareScaleObject(r)},getSubScales:function(i){var r=this._isLegacyMode(i),e=i||u.config;return(r?e.subscales||[]:e.scales.slice(1)).map((function(t){return this._prepareScaleObject(t)}).bind(this))},prepareConfigs:function(i,r,e,t,n,o,a){for(var l=this.splitSize(t,i.length),d=e,f=[],g=i.length-1;g>=0;g--){var p=g==i.length-1,m=this.initScaleConfig(i[g],n,o);p&&this.processIgnores(m),this.initColSizes(m,r,d,l[g]),this.limitVisibleRange(m),p&&(d=m.full_width),f.unshift(m)}for(g=0;g<f.length-1;g++)this.alineScaleColumns(f[f.length-1],f[g]);for(g=0;g<f.length;g++)a&&this.reverseScale(f[g]),this.setPosSettings(f[g]);return f},reverseScale:function(i){i.width=i.width.reverse(),i.trace_x=i.trace_x.reverse();var r=i.trace_indexes;i.trace_indexes={},i.trace_index_transition={},i.rtl=!0;for(var e=0;e<i.trace_x.length;e++)i.trace_indexes[i.trace_x[e].valueOf()]=e,i.trace_index_transition[r[i.trace_x[e].valueOf()]]=e;return i},setPosSettings:function(i){for(var r=0,e=i.trace_x.length;r<e;r++)i.left.push((i.width[r-1]||0)+(i.left[r-1]||0))},_ignore_time_config:function(i,r){if(u.config.skip_off_time){for(var e=!0,t=i,n=0;n<r.step;n++)n&&(t=s.add(i,n,r.unit)),e=e&&!this.isWorkTime(t,r.unit);return e}return!1},processIgnores:function(i){i.ignore_x={},i.display_count=i.count},initColSizes:function(i,r,e,t){var n=e;i.height=t;var o=i.display_count===void 0?i.count:i.display_count;o||(o=1),i.col_width=Math.floor(n/o),r&&i.col_width<r&&(i.col_width=r,n=i.col_width*o),i.width=[];for(var a=i.ignore_x||{},l=0;l<i.trace_x.length;l++)if(a[i.trace_x[l].valueOf()]||i.display_count==i.count)i.width[l]=0;else{var d=1;i.unit=="month"&&(d=Math.round((s.add(i.trace_x[l],i.step,i.unit)-i.trace_x[l])/864e5)),i.width[l]=d}this.adjustSize(n-this.getSum(i.width),i.width),i.full_width=this.getSum(i.width)},initScaleConfig:function(i,r,e){var t=_.mixin({count:0,col_width:0,full_width:0,height:0,width:[],left:[],trace_x:[],trace_indexes:{},min_date:new Date(r),max_date:new Date(e)},i);return this.eachColumn(i.unit,i.step,r,e,function(n){t.count++,t.trace_x.push(new Date(n)),t.trace_indexes[n.valueOf()]=t.trace_x.length-1}),t.trace_x_ascending=t.trace_x.slice(),t},iterateScales:function(i,r,e,t,n){for(var o=r.trace_x,a=i.trace_x,l=e||0,d=t||a.length-1,f=0,g=1;g<o.length;g++){var p=i.trace_indexes[+o[g]];p!==void 0&&p<=d&&(n&&n.apply(this,[f,g,l,p]),l=p,f=g)}},alineScaleColumns:function(i,r,e,t){this.iterateScales(i,r,e,t,function(n,o,a,l){var d=this.getSum(i.width,a,l-1);this.getSum(r.width,n,o-1)!=d&&this.setSumWidth(d,r,n,o-1)})},eachColumn:function(i,r,e,t,n){var o=new Date(e),a=new Date(t);s[i+"_start"]&&(o=s[i+"_start"](o));var l=new Date(o);for(+l>=+a&&(a=s.add(l,r,i));+l<+a;){n.call(this,new Date(l));var d=l.getTimezoneOffset();l=s.add(l,r,i),l=u._correct_dst_change(l,d,r,i),s[i+"_start"]&&(l=s[i+"_start"](l))}},limitVisibleRange:function(i){var r=i.trace_x,e=i.width.length-1,t=0;if(+r[0]<+i.min_date&&e!=0){var n=Math.floor(i.width[0]*((r[1]-i.min_date)/(r[1]-r[0])));t+=i.width[0]-n,i.width[0]=n,r[0]=new Date(i.min_date)}var o=r.length-1,a=r[o],l=s.add(a,i.step,i.unit);if(+l>+i.max_date&&o>0&&(n=i.width[o]-Math.floor(i.width[o]*((l-i.max_date)/(l-a))),t+=i.width[o]-n,i.width[o]=n),t){for(var d=this.getSum(i.width),f=0,g=0;g<i.width.length;g++){var p=Math.floor(t*(i.width[g]/d));i.width[g]+=p,f+=p}this.adjustSize(t-f,i.width)}}}}},,function(A,E,h){},function(A,E,h){var _=h(2),u={getHtmlSelect:function(i,r,e){var t="",n=this;return i=i||[],_.forEach(i,function(o){var a=[{key:"value",value:o.key}];e==o.key&&(a[a.length]={key:"selected",value:"selected"}),o.attributes&&(a=a.concat(o.attributes)),t+=n.getHtmlOption({innerHTML:o.label},a)}),s("select",{innerHTML:t},r)},getHtmlOption:function(i,r){return s("option",i,r)},getHtmlButton:function(i,r){return s("button",i,r)},getHtmlDiv:function(i,r){return s("div",i,r)},getHtmlLabel:function(i,r){return s("label",i,r)},getHtmlInput:function(i){return"<input"+c(i||[])+">"}};function s(i,r,e){return r=r||[],"<"+i+c(e||[])+">"+(r.innerHTML||"")+"</"+i+">"}function c(i){var r="";return _.forEach(i,function(e){r+=" "+e.key+"='"+e.value+"'"}),r}A.exports=u},function(A,E,h){var _=h(2);A.exports=function(u){var s={};return u.$data.tasksStore.attachEvent("onStoreUpdated",function(){s={}}),function(c,i,r,e){var t=c.id+"_"+i+"_"+r.unit+"_"+r.step;return s[t]?s[t]:s[t]=function(n,o,a,l){var d,f=!1,g={};u.config.process_resource_assignments&&o===u.config.resource_property?(d=n.$role=="task"?u.getResourceAssignments(n.$resource_id,n.$task_id):u.getResourceAssignments(n.id),f=!0):d=n.$role=="task"?[]:u.getTaskBy(o,n.id);for(var p,m,y,v,b,g=function(I,P,R){for(var H=P.unit,F=P.step,Y={},q={},L=0;L<I.length;L++){var N=I[L],G=N;R&&(G=u.getTask(N.task_id));var O=N.start_date||G.start_date,V=N.end_date||G.end_date;R&&(N.start_date&&(O=new Date(Math.max(N.start_date.valueOf(),G.start_date.valueOf()))),N.end_date&&(V=new Date(Math.min(N.end_date.valueOf(),G.end_date.valueOf()))));var K=_.findBinary(P.trace_x,O.valueOf()),J=new Date(P.trace_x[K]||u.date[H+"_start"](new Date(O))),z=u.config.work_time?u.getTaskCalendar(G):u;for(q[z.id]={};J<V;){var S=q[z.id],C=J,M=C.valueOf();if(J=u.date.add(J,F,H),S[M]!==!1){var j=z.isWorkTime({date:C,task:G,unit:H});j?(Y[M]||(Y[M]={tasks:[],assignments:[]}),Y[M].tasks.push(G),R&&Y[M].assignments.push(N)):S[M]=!1}}}return Y}(d,a,f),k=a.unit,$=a.step,w=[],x=l.$getConfig(),T=0;T<a.trace_x.length;T++)p=new Date(a.trace_x[T]),m=u.date.add(p,$,k),b=g[p.valueOf()]||{},y=b.tasks||[],v=b.assignments||[],y.length||x.resource_render_empty_cells?w.push({start_date:p,end_date:m,tasks:y,assignments:v}):w.push(null);return w}(c,i,r,e)}}},function(A,E,h){var _=h(3),u=h(1),s=function(c){function i(r,e,t){var n=c.apply(this,arguments)||this;return r&&(n.$root=!0),n._parseConfig(e),n.$name="layout",n}return _(i,c),i.prototype.destructor=function(){this.$container&&this.$view&&u.removeNode(this.$view);for(var r=0;r<this.$cells.length;r++)this.$cells[r].destructor();this.$cells=[],c.prototype.destructor.call(this)},i.prototype._resizeScrollbars=function(r,e){var t,n=!1,o=[],a=[],l=[];function d(y){y.$parent.show(),n=!0,o.push(y)}function f(y){y.$parent.hide(),n=!0,a.push(y)}for(var g=0;g<e.length;g++)r[(t=e[g]).$config.scroll]?f(t):t.shouldHide()?l.push(t):t.shouldShow()?d(t):t.isVisible()?o.push(t):a.push(t);var p={};for(g=0;g<o.length;g++)o[g].$config.group&&(p[o[g].$config.group]=!0);for(l.forEach(function(y){y.$config.group&&p[y.$config.group]||f(y)}),g=0;g<a.length;g++)if((t=a[g]).$config.group&&p[t.$config.group]){d(t);for(var m=0;m<o.length;m++)if(o[m]==t){this.$gantt.$scrollbarRepaint=!0;break}}return n},i.prototype._syncCellSizes=function(r,e){if(r){var t={};return this._eachChild(function(n){n.$config.group&&n.$name!="scrollbar"&&n.$name!="resizer"&&(t[n.$config.group]||(t[n.$config.group]=[]),t[n.$config.group].push(n))}),t[r]&&this._syncGroupSize(t[r],e),t[r]}},i.prototype._syncGroupSize=function(r,e){if(r.length)for(var t=r[0].$parent._xLayout?"width":"height",n=r[0].$parent.getNextSibling(r[0].$id)?1:-1,o=e.value,a=e.isGravity,l=0;l<r.length;l++){var d=r[l].getSize(),f=n>0?r[l].$parent.getNextSibling(r[l].$id):r[l].$parent.getPrevSibling(r[l].$id);f.$name=="resizer"&&(f=n>0?f.$parent.getNextSibling(f.$id):f.$parent.getPrevSibling(f.$id));var g=f.getSize();if(a)r[l].$config.gravity=o;else if(f[t]){var p=d.gravity+g.gravity,m=d[t]+g[t],y=p/m;r[l].$config.gravity=y*o,f.$config[t]=m-o,f.$config.gravity=p-y*o}else r[l].$config[t]=o;var v=this.$gantt.$ui.getView("grid");!v||r[l].$content!==v||v.$config.scrollable||a||(this.$gantt.config.grid_width=o)}},i.prototype.resize=function(r){var e=!1;if(this.$root&&!this._resizeInProgress&&(this.callEvent("onBeforeResize",[]),e=!0,this._resizeInProgress=!0),c.prototype.resize.call(this,!0),c.prototype.resize.call(this,!1),e){var t=[];t=(t=(t=t.concat(this.getCellsByType("viewCell"))).concat(this.getCellsByType("viewLayout"))).concat(this.getCellsByType("hostCell"));for(var n=this.getCellsByType("scroller"),o=0;o<t.length;o++)t[o].$config.hidden||t[o].setContentSize();var a=this._getAutosizeMode(this.$config.autosize),l=this._resizeScrollbars(a,n);if(this.$config.autosize&&(this.autosize(this.$config.autosize),t.forEach(function(d){var f=d.$parent,g=f.getContentSize(a);a.x&&(f.$config.$originalWidthStored||(f.$config.$originalWidthStored=!0,f.$config.$originalWidth=f.$config.width),f.$config.width=g.width),a.y&&(f.$config.$originalHeightStored||(f.$config.$originalHeightStored=!0,f.$config.$originalHeight=f.$config.height),f.$config.height=g.height)}),l=!0),l)for(this.resize(),o=0;o<t.length;o++)t[o].$config.hidden||t[o].setContentSize();this.callEvent("onResize",[])}e&&(this._resizeInProgress=!1)},i.prototype._eachChild=function(r,e){if(r(e=e||this),e.$cells)for(var t=0;t<e.$cells.length;t++)this._eachChild(r,e.$cells[t])},i.prototype.isChild=function(r){var e=!1;return this._eachChild(function(t){t!==r&&t.$content!==r||(e=!0)}),e},i.prototype.getCellsByType=function(r){var e=[];if(r===this.$name&&e.push(this),this.$content&&this.$content.$name==r&&e.push(this.$content),this.$cells)for(var t=0;t<this.$cells.length;t++){var n=i.prototype.getCellsByType.call(this.$cells[t],r);n.length&&e.push.apply(e,n)}return e},i.prototype.getNextSibling=function(r){var e=this.cellIndex(r);return e>=0&&this.$cells[e+1]?this.$cells[e+1]:null},i.prototype.getPrevSibling=function(r){var e=this.cellIndex(r);return e>=0&&this.$cells[e-1]?this.$cells[e-1]:null},i.prototype.cell=function(r){for(var e=0;e<this.$cells.length;e++){var t=this.$cells[e];if(t.$id===r)return t;var n=t.cell(r);if(n)return n}},i.prototype.cellIndex=function(r){for(var e=0;e<this.$cells.length;e++)if(this.$cells[e].$id===r)return e;return-1},i.prototype.moveView=function(r,e){if(this.$cells[e]!==r)return window.alert("Not implemented");e+=this.$config.header?1:0;var t=this.$view;e>=t.childNodes.length?t.appendChild(r.$view):t.insertBefore(r.$view,t.childNodes[e])},i.prototype._parseConfig=function(r){this.$cells=[],this._xLayout=!r.rows;for(var e=r.rows||r.cols||r.views,t=0;t<e.length;t++){var n=e[t];n.mode=this._xLayout?"x":"y";var o=this.$factory.initUI(n,this);o?(o.$parent=this,this.$cells.push(o)):(e.splice(t,1),t--)}},i.prototype.getCells=function(){return this.$cells},i.prototype.render=function(){var r=u.insertNode(this.$container,this.$toHTML());this.$fill(r,null),this.callEvent("onReady",[]),this.resize(),this.render=this.resize},i.prototype.$fill=function(r,e){this.$view=r,this.$parent=e;for(var t=u.getChildNodes(r,"gantt_layout_cell"),n=t.length-1;n>=0;n--){var o=this.$cells[n];o.$fill(t[n],this),o.$config.hidden&&o.$view.parentNode.removeChild(o.$view)}},i.prototype.$toHTML=function(){for(var r=this._xLayout?"x":"y",e=[],t=0;t<this.$cells.length;t++)e.push(this.$cells[t].$toHTML());return c.prototype.$toHTML.call(this,e.join(""),(this.$root?"gantt_layout_root ":"")+"gantt_layout gantt_layout_"+r)},i.prototype.getContentSize=function(r){for(var e,t,n,o=0,a=0,l=0;l<this.$cells.length;l++)(t=this.$cells[l]).$config.hidden||(e=t.getContentSize(r),t.$config.view==="scrollbar"&&r[t.$config.scroll]&&(e.height=0,e.width=0),t.$config.resizer&&(this._xLayout?e.height=0:e.width=0),n=t._getBorderSizes(),this._xLayout?(o+=e.width+n.horizontal,a=Math.max(a,e.height+n.vertical)):(o=Math.max(o,e.width+n.horizontal),a+=e.height+n.vertical));return{width:o+=(n=this._getBorderSizes()).horizontal,height:a+=n.vertical}},i.prototype._cleanElSize=function(r){return 1*(r||"").toString().replace("px","")||0},i.prototype._getBoxStyles=function(r){var e=null,t=["width","height","paddingTop","paddingBottom","paddingLeft","paddingRight","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],n={boxSizing:(e=window.getComputedStyle?window.getComputedStyle(r,null):{width:r.clientWidth,height:r.clientHeight}).boxSizing=="border-box"};e.MozBoxSizing&&(n.boxSizing=e.MozBoxSizing=="border-box");for(var o=0;o<t.length;o++)n[t[o]]=e[t[o]]?this._cleanElSize(e[t[o]]):0;var a={horPaddings:n.paddingLeft+n.paddingRight+n.borderLeftWidth+n.borderRightWidth,vertPaddings:n.paddingTop+n.paddingBottom+n.borderTopWidth+n.borderBottomWidth,borderBox:n.boxSizing,innerWidth:n.width,innerHeight:n.height,outerWidth:n.width,outerHeight:n.height};return a.borderBox?(a.innerWidth-=a.horPaddings,a.innerHeight-=a.vertPaddings):(a.outerWidth+=a.horPaddings,a.outerHeight+=a.vertPaddings),a},i.prototype._getAutosizeMode=function(r){var e={x:!1,y:!1};return r==="xy"?e.x=e.y=!0:r==="y"||r===!0?e.y=!0:r==="x"&&(e.x=!0),e},i.prototype.autosize=function(r){var e=this._getAutosizeMode(r),t=this._getBoxStyles(this.$container),n=this.getContentSize(r),o=this.$container;e.x&&(t.borderBox&&(n.width+=t.horPaddings),o.style.width=n.width+"px"),e.y&&(t.borderBox&&(n.height+=t.vertPaddings),o.style.height=n.height+"px")},i.prototype.getSize=function(){this._sizes=[];for(var r=0,e=0,t=1e11,n=0,o=1e11,a=0,l=0;l<this.$cells.length;l++){var d=this._sizes[l]=this.$cells[l].getSize();this.$cells[l].$config.hidden||(this._xLayout?(!d.width&&d.minWidth?r+=d.minWidth:r+=d.width,t+=d.maxWidth,e+=d.minWidth,n=Math.max(n,d.height),o=Math.min(o,d.maxHeight),a=Math.max(a,d.minHeight)):(!d.height&&d.minHeight?n+=d.minHeight:n+=d.height,o+=d.maxHeight,a+=d.minHeight,r=Math.max(r,d.width),t=Math.min(t,d.maxWidth),e=Math.max(e,d.minWidth)))}var f=c.prototype.getSize.call(this);return f.maxWidth>=1e5&&(f.maxWidth=t),f.maxHeight>=1e5&&(f.maxHeight=o),f.minWidth=f.minWidth!=f.minWidth?0:f.minWidth,f.minHeight=f.minHeight!=f.minHeight?0:f.minHeight,this._xLayout?(f.minWidth+=this.$config.margin*this.$cells.length||0,f.minWidth+=2*this.$config.padding||0,f.minHeight+=2*this.$config.padding||0):(f.minHeight+=this.$config.margin*this.$cells.length||0,f.minHeight+=2*this.$config.padding||0),f},i.prototype._calcFreeSpace=function(r,e,t){var n=t?e.minWidth:e.minHeight,o=e.maxWidth,a=r;return a?(a>o&&(a=o),a<n&&(a=n),this._free-=a):((a=Math.floor(this._free/this._gravity*e.gravity))>o&&(a=o,this._free-=a,this._gravity-=e.gravity),a<n&&(a=n,this._free-=a,this._gravity-=e.gravity)),a},i.prototype._calcSize=function(r,e,t){var n=r,o=t?e.minWidth:e.minHeight,a=t?e.maxWidth:e.maxHeight;return n||(n=Math.floor(this._free/this._gravity*e.gravity)),n>a&&(n=a),n<o&&(n=o),n},i.prototype._configureBorders=function(){this.$root&&this._setBorders([this._borders.left,this._borders.top,this._borders.right,this._borders.bottom],this);for(var r=this._xLayout?this._borders.right:this._borders.bottom,e=this.$cells,t=e.length-1,n=t;n>=0;n--)if(!e[n].$config.hidden){t=n;break}for(n=0;n<e.length;n++)if(!e[n].$config.hidden){var o=n>=t,a="";!o&&e[n+1]&&e[n+1].$config.view=="scrollbar"&&(this._xLayout?o=!0:a="gantt_layout_cell_border_transparent"),this._setBorders(o?[]:[r,a],e[n])}},i.prototype._updateCellVisibility=function(){for(var r=this._visibleCells||{},e=!this._visibleCells,t={},n=null,o=[],a=0;a<this._sizes.length;a++)(n=this.$cells[a]).$config.hide_empty&&o.push(n),!e&&n.$config.hidden&&r[n.$id]?n._hide(!0):n.$config.hidden||r[n.$id]||n._hide(!1),n.$config.hidden||(t[n.$id]=!0);for(this._visibleCells=t,a=0;a<o.length;a++){var l=!0;(n=o[a]).$cells.forEach(function(d){d.$config.hidden||d.$config.resizer||(l=!1)}),n.$config.hidden=l}},i.prototype.setSize=function(r,e){this._configureBorders(),c.prototype.setSize.call(this,r,e),e=this.$lastSize.contentY,r=this.$lastSize.contentX;var t,n,o=this.$config.padding||0;this.$view.style.padding=o+"px",this._gravity=0,this._free=this._xLayout?r:e,this._free-=2*o,this._updateCellVisibility();for(var a=0;a<this._sizes.length;a++)if(!(t=this.$cells[a]).$config.hidden){var l=this.$config.margin||0;t.$name!="resizer"||l||(l=-1);var d=t.$view,f=this._xLayout?"marginRight":"marginBottom";a!==this.$cells.length-1&&(d.style[f]=l+"px",this._free-=l),n=this._sizes[a],this._xLayout?n.width||(this._gravity+=n.gravity):n.height||(this._gravity+=n.gravity)}for(a=0;a<this._sizes.length;a++)if(!(t=this.$cells[a]).$config.hidden){var g=(n=this._sizes[a]).width,p=n.height;this._xLayout?this._calcFreeSpace(g,n,!0):this._calcFreeSpace(p,n,!1)}for(a=0;a<this.$cells.length;a++)if(!(t=this.$cells[a]).$config.hidden){n=this._sizes[a];var m=void 0,y=void 0;this._xLayout?(m=this._calcSize(n.width,n,!0),y=e-2*o):(m=r-2*o,y=this._calcSize(n.height,n,!1)),t.setSize(m,y)}},i}(h(14));A.exports=s},function(A,E){A.exports=function(h,_,u,s,c){var i=u.$gantt.getTask(h.source),r=u.$gantt.getTask(h.target),e=u.getItemTop(i.id),t=u.getItemHeight(i.id),n=u.getItemTop(r.id),o=u.getItemHeight(r.id);if(_.y>e+t&&_.y>n+o||_.y_end<n&&_.y_end<e)return!1;var a=u.posFromDate(i.start_date),l=u.posFromDate(i.end_date),d=u.posFromDate(r.start_date),f=u.posFromDate(r.end_date);if(a>l){var g=l;l=a,a=g}return d>f&&(g=f,f=d,d=g),a+=-100,l+=100,d+=-100,f+=100,!(_.x>l&&_.x>f)&&!(_.x_end<a&&_.x_end<d)}},function(A,E,h){var _=h(134);A.exports=function(){var u=[],s=!1;function c(){u=[],s=!1}var i=!1;return function(r,e,t,n,o){(function(g){i||(i=!0,g.attachEvent("onPreFilter",c),g.attachEvent("onStoreUpdated",c),g.attachEvent("onClearAll",c),g.attachEvent("onBeforeStoreUpdate",c))})(n),s||function(g,p,m){var y=p.$getConfig();g.getVisibleItems().forEach(function(v){var b=_(v,p,y,m);b&&u.push({id:v.id,rec:b})}),u.sort(function(v,b){return v.rec.right<b.rec.right?-1:1}),s=!0}(n,e,r);for(var a=[],l=0;l<u.length;l++){var d=u[l],f=d.rec;f.right<o.x||f.left<o.x_end&&f.right>o.x&&f.top<o.y_end&&f.bottom>o.y&&a.push(d.id)}return{ids:a}}}},function(A,E,h){Object.defineProperty(E,"__esModule",{value:!0});var _=h(196),u=h(195),s=h(194);E.LargerUnitsCache=s.LargerUnitsCache,E.createCacheObject=function(){return typeof Map<"u"?new _.WorkUnitsMapCache:new u.WorkUnitsObjectCache}},function(A,E,h){var _=h(0),u=h(2);function s(e,t,n,o,a){return this.date=e,this.unit=t,this.task=n,this.id=o,this.calendar=a,this}function c(e,t,n,o,a,l){return this.date=e,this.dir=t,this.unit=n,this.task=o,this.id=a,this.calendar=l,this}function i(e,t,n,o,a,l,d){return this.start_date=e,this.duration=t,this.unit=n,this.step=o,this.task=a,this.id=l,this.calendar=d,this}function r(e,t,n,o){return this.start_date=e,this.end_date=t,this.task=n,this.calendar=o,this.unit=null,this.step=null,this}A.exports=function(e){return{getWorkHoursArguments:function(){var t=arguments[0];if(t=u.isDate(t)?{date:t}:_.mixin({},t),!u.isValidDate(t.date))throw e.assert(!1,"Invalid date argument for getWorkHours method"),new Error("Invalid date argument for getWorkHours method");return t},setWorkTimeArguments:function(){return arguments[0]},unsetWorkTimeArguments:function(){return arguments[0]},isWorkTimeArguments:function(){var t,n=arguments[0];if(n instanceof s)return n;if((t=n.date?new s(n.date,n.unit,n.task,null,n.calendar):new s(arguments[0],arguments[1],arguments[2],null,arguments[3])).unit=t.unit||e.config.duration_unit,!u.isValidDate(t.date))throw e.assert(!1,"Invalid date argument for isWorkTime method"),new Error("Invalid date argument for isWorkTime method");return t},getClosestWorkTimeArguments:function(t){var n,o=arguments[0];if(o instanceof c)return o;if(n=u.isDate(o)?new c(o):new c(o.date,o.dir,o.unit,o.task,null,o.calendar),o.id&&(n.task=o),n.dir=o.dir||"any",n.unit=o.unit||e.config.duration_unit,!u.isValidDate(n.date))throw e.assert(!1,"Invalid date argument for getClosestWorkTime method"),new Error("Invalid date argument for getClosestWorkTime method");return n},_getStartEndConfig:function(t){var n,o=r;if(t instanceof o)return t;if(u.isDate(t)?n=new o(arguments[0],arguments[1],arguments[2],arguments[3]):(n=new o(t.start_date,t.end_date,t.task),t.id!==null&&t.id!==void 0&&(n.task=t)),n.unit=n.unit||e.config.duration_unit,n.step=n.step||e.config.duration_step,n.start_date=n.start_date||n.start||n.date,!u.isValidDate(n.start_date))throw e.assert(!1,"Invalid start_date argument for getDuration method"),new Error("Invalid start_date argument for getDuration method");if(!u.isValidDate(n.end_date))throw e.assert(!1,"Invalid end_date argument for getDuration method"),new Error("Invalid end_date argument for getDuration method");return n},getDurationArguments:function(t,n,o,a){return this._getStartEndConfig.apply(this,arguments)},hasDurationArguments:function(t,n,o,a){return this._getStartEndConfig.apply(this,arguments)},calculateEndDateArguments:function(t,n,o,a){var l,d=arguments[0];if(d instanceof i)return d;if(l=u.isDate(d)?new i(arguments[0],arguments[1],arguments[2],void 0,arguments[3],void 0,arguments[4]):new i(d.start_date,d.duration,d.unit,d.step,d.task,null,d.calendar),d.id!==null&&d.id!==void 0&&(l.task=d,l.unit=null,l.step=null),l.unit=l.unit||e.config.duration_unit,l.step=l.step||e.config.duration_step,!u.isValidDate(l.start_date))throw e.assert(!1,"Invalid start_date argument for calculateEndDate method"),new Error("Invalid start_date argument for calculateEndDate method");return l}}}},function(A,E,h){var _=h(208);A.exports=function(u){var s={},c={},i=null,r=-1,e=null,t=_(u);return{_resetTopPositionHeight:function(){s={},c={},t.resetCache()},_resetHeight:function(){var n=this.$config.rowStore,o=this.getCacheStateTotalHeight(n);e?this.shouldClearHeightCache(e,o)&&(e=o,i=null):e=o,r=-1,t.resetCache()},getRowTop:function(n){if(t.canUseSimpleCalculation())return t.getRowTop(n);var o=this.$config.rowStore;if(!o)return 0;if(c[n]!==void 0)return c[n];for(var a=o.getIndexRange(),l=0,d=0,f=0;f<a.length;f++)c[f]=l,l+=this.getItemHeight(a[f].id),f<n&&(d=l);return d},getItemTop:function(n){if(this.$config.rowStore){if(s[n]!==void 0)return s[n];var o=this.$config.rowStore;if(!o)return 0;var a=o.getIndexById(n);if(a===-1&&o.getParent&&o.exists(n)){var l=o.getParent(n);if(o.exists(l)){var d=o.getItem(l);if(this.$gantt.isSplitTask(d))return this.getItemTop(l)}}return s[n]=this.getRowTop(a),s[n]}return 0},getItemHeight:function(n){if(t.canUseSimpleCalculation())return t.getItemHeight(n);if(!i&&this.$config.rowStore&&this._fillHeightCache(this.$config.rowStore),i[n]!==void 0)return i[n];var o=this.$getConfig().row_height;if(this.$config.rowStore){var a=this.$config.rowStore;if(!a)return o;var l=a.getItem(n);return i[n]=l&&l.row_height||o}return o},_fillHeightCache:function(n){if(n){i={};var o=this.$getConfig().row_height;n.eachItem(function(a){return i[a.id]=a&&a.row_height||o})}},getCacheStateTotalHeight:function(n){var o=this.$getConfig().row_height,a={},l=[],d=0;return n&&n.eachItem(function(f){l.push(f),a[f.id]=f.row_height,d+=f.row_height||o}),{globalHeight:o,items:l,count:l.length,sumHeight:d}},shouldClearHeightCache:function(n,o){if(n.count!=o.count||n.globalHeight!=o.globalHeight||n.sumHeight!=o.sumHeight)return!0;for(var a in n.items){var l=o.items[a];if(l!==void 0&&l!=n.items[a])return!0}return!1},getTotalHeight:function(){if(t.canUseSimpleCalculation())return t.getTotalHeight();if(r!=-1)return r;if(this.$config.rowStore){var n=this.$config.rowStore;this._fillHeightCache(n);var o=this.getItemHeight.bind(this),a=0;return n.getVisibleItems().forEach(function(l){a+=o(l.id)}),r=a,a}return 0},getItemIndexByTopPosition:function(n){if(this.$config.rowStore){if(t.canUseSimpleCalculation())return t.getItemIndexByTopPosition(n);for(var o=this.$config.rowStore,a=0;a<o.countVisible();a++){var l=this.getRowTop(a),d=this.getRowTop(a+1);if(!d){var f=o.getIdByIndex(a);d=l+this.getItemHeight(f)}if(n>=l&&n<d)return a}return o.countVisible()+2}return 0}}}},function(A,E,h){Object.defineProperty(E,"__esModule",{value:!0});var _=function(){function u(){var s=this;this.canParse=function(c){return!isNaN(s.parse(c))},this.format=function(c){return String(c)},this.parse=function(c){return parseInt(c,10)}}return u.create=function(s){return new u},u}();E.default=_},function(A,E){function h(u,s,c){for(var i=0;i<s.length;i++)u.isLinkExists(s[i])&&(c[s[i]]=u.getLink(s[i]))}function _(u,s,c){h(u,s.$source,c),h(u,s.$target,c)}A.exports={getSubtreeLinks:function(u,s){var c={};return u.isTaskExists(s)&&_(u,u.getTask(s),c),u.eachTask(function(i){_(u,i,c)},s),c},getSubtreeTasks:function(u,s){var c={};return u.eachTask(function(i){c[i.id]=i},s),c}}},function(A,E,h){var _=h(33),u=h(33);function s(c){var i=function(f){var g=new u(f).primaryScale(),p=g.unit,m=g.step;if(f.config.scale_offset_minimal){var y=new _(f),v=[y.primaryScale()].concat(y.getSubScales());y.sortScales(v),p=v[v.length-1].unit,m=v[v.length-1].step||1}return{unit:p,step:m}}(c),r=i.unit,e=i.step,t=function(f,g){var p={start_date:null,end_date:null};if(g.config.start_date&&g.config.end_date){p.start_date=g.date[f+"_start"](new Date(g.config.start_date));var m=new Date(g.config.end_date),y=g.date[f+"_start"](new Date(m));m=+m!=+y?g.date.add(y,1,f):y,p.end_date=m}return p}(r,c);if(!t.start_date||!t.end_date){for(var n=!0,o=c.getTaskByTime(),a=0;a<o.length;a++)if(o[a].type!==c.config.types.project){n=!1;break}if(o.length&&n){var l=o[0].start_date,d=c.date.add(l,1,c.config.duration_unit);t={start_date:new Date(l),end_date:new Date(d)}}else t=c.getSubtaskDates();t.start_date&&t.end_date||(t={start_date:new Date,end_date:new Date}),t.start_date=c.date[r+"_start"](t.start_date),t.start_date=c.calculateEndDate({start_date:c.date[r+"_start"](t.start_date),duration:-1,unit:r,step:e}),t.end_date=c.date[r+"_start"](t.end_date),t.end_date=c.calculateEndDate({start_date:t.end_date,duration:2,unit:r,step:e})}c._min_date=t.start_date,c._max_date=t.end_date}A.exports=function(c){s(c),function(i){if(i.config.fit_tasks){var r=+i._min_date,e=+i._max_date;if(+i._min_date!=r||+i._max_date!=e)return i.render(),i.callEvent("onScaleAdjusted",[]),!0}}(c)}},function(A,E,h){var _=h(48),u=h(0),s=h(2),c=h(49),i=h(16),r=h(2).replaceValidZeroId;c.default&&(c=c.default);var e=function(t){c.apply(this,[t]),this._branches={},this.pull={},this.$initItem=function(f){var g=f;t.initItem&&(g=t.initItem(g));var p=this.getItem(f.id);return p&&p.parent!=g.parent&&this.move(g.id,g.$index||-1,g.parent||this._ganttConfig.root_id),g},this.$parentProperty=t.parentProperty||"parent",typeof t.rootId!="function"?this.$getRootId=function(f){return function(){return f}}(t.rootId||0):this.$getRootId=t.rootId,this.$openInitially=t.openInitially,this.visibleOrder=_.$create(),this.fullOrder=_.$create(),this._searchVisibleOrder={},this._indexRangeCache={},this._eachItemMainRangeCache=null,this._getItemsCache=null,this._skip_refresh=!1,this._ganttConfig=null,t.getConfig&&(this._ganttConfig=t.getConfig());var n={},o={},a={},l={},d=!1;return this._attachDataChange(function(){return this._indexRangeCache={},this._eachItemMainRangeCache=null,this._getItemsCache=null,!0}),this.attachEvent("onPreFilter",function(){this._indexRangeCache={},this._eachItemMainRangeCache=null,n={},o={},a={},l={},d=!1,this.eachItem(function(f){var g=this.getParent(f.id);f.$open&&a[g]!==!1?a[f.id]=!0:a[f.id]=!1,this._isSplitItem(f)&&(d=!0,n[f.id]=!0,o[f.id]=!0),d&&o[g]&&(o[f.id]=!0),a[g]||a[g]===void 0?l[f.id]=!0:l[f.id]=!1})}),this.attachEvent("onFilterItem",function(f,g){var p=!1;this._ganttConfig&&(p=this._ganttConfig.open_split_tasks);var m=l[g.id];return d&&(m&&o[g.id]&&!n[g.id]&&(m=!!p),o[g.id]&&!n[g.id]&&(g.$split_subtask=!0)),g.$expanded_branch=!!l[g.id],!!m}),this.attachEvent("onFilter",function(){n={},o={},a={},l={}}),this};e.prototype=u.mixin({_buildTree:function(t){for(var n=null,o=this.$getRootId(),a=0,l=t.length;a<l;a++)n=t[a],this.setParent(n,r(this.getParent(n),o)||o);for(a=0,l=t.length;a<l;a++)n=t[a],this._add_branch(n),n.$level=this.calculateItemLevel(n),n.$local_index=this.getBranchIndex(n.id),u.defined(n.$open)||(n.$open=u.defined(n.open)?n.open:this.$openInitially());this._updateOrder()},_isSplitItem:function(t){return t.render=="split"&&this.hasChild(t.id)},parse:function(t){this._skip_refresh||this.callEvent("onBeforeParse",[t]);var n=this._parseInner(t);this._buildTree(n),this.filter(),this._skip_refresh||this.callEvent("onParse",[n])},_addItemInner:function(t,n){var o=this.getParent(t);u.defined(o)||(o=this.$getRootId(),this.setParent(t,o));var a=this.getIndexById(o)+Math.min(Math.max(n,0),this.visibleOrder.length);1*a!==a&&(a=void 0),c.prototype._addItemInner.call(this,t,a),this.setParent(t,o),t.hasOwnProperty("$rendered_parent")&&this._move_branch(t,t.$rendered_parent),this._add_branch(t,n)},_changeIdInner:function(t,n){var o=this.getChildren(t),a=this._searchVisibleOrder[t];c.prototype._changeIdInner.call(this,t,n);var l=this.getParent(n);this._replace_branch_child(l,t,n),this._branches[t]&&(this._branches[n]=this._branches[t]);for(var d=0;d<o.length;d++){var f=this.getItem(o[d]);f[this.$parentProperty]=n,f.$rendered_parent=n}this._searchVisibleOrder[n]=a,delete this._branches[t]},_traverseBranches:function(t,n){u.defined(n)||(n=this.$getRootId());var o=this._branches[n];if(o)for(var a=0;a<o.length;a++){var l=o[a];t.call(this,l),this._branches[l]&&this._traverseBranches(t,l)}},_updateOrder:function(t){this.fullOrder=_.$create(),this._traverseBranches(function(n){this.fullOrder.push(n)}),t&&c.prototype._updateOrder.call(this,t)},_removeItemInner:function(t){var n=[];this.eachItem(function(a){n.push(a)},t),n.push(this.getItem(t));for(var o=0;o<n.length;o++)this._move_branch(n[o],this.getParent(n[o]),null),c.prototype._removeItemInner.call(this,n[o].id),this._move_branch(n[o],this.getParent(n[o]),null)},move:function(t,n,o){var a=arguments[3],l=(this._ganttConfig||{}).root_id||0;if(a=r(a,l)){if(a===t)return;o=this.getParent(a),n=this.getBranchIndex(a)}if(t!=o){u.defined(o)||(o=this.$getRootId());var d=this.getItem(t),f=this.getParent(d.id),g=this.getChildren(o);if(n==-1&&(n=g.length+1),f==o&&this.getBranchIndex(t)==n)return;if(this.callEvent("onBeforeItemMove",[t,o,n])===!1)return!1;for(var p=[],m=0;m<g.length;m++)i(g[m],null,this,this._ganttConfig)&&(p.push(g[m]),g.splice(m,1),m--);this._replace_branch_child(f,t);var y=(g=this.getChildren(o))[n];(y=r(y,l))?g=g.slice(0,n).concat([t]).concat(g.slice(n)):g.push(t),p.length&&(g=g.concat(p)),this.setParent(d,o),this._branches[o]=g;var v=this.calculateItemLevel(d)-d.$level;d.$level+=v,this.eachItem(function(b){b.$level+=v},d.id,this),this._moveInner(this.getIndexById(t),this.getIndexById(o)+n),this.callEvent("onAfterItemMove",[t,o,n]),this.refresh()}},getBranchIndex:function(t){var n=this.getChildren(this.getParent(t)),o=n.indexOf(t+"");return o==-1&&(o=n.indexOf(+t)),o},hasChild:function(t){var n=this._branches[t];return n&&n.length},getChildren:function(t){var n=this._branches[t];return n||_.$create()},isChildOf:function(t,n){if(!this.exists(t))return!1;if(n===this.$getRootId())return!0;if(!this.hasChild(n))return!1;var o=this.getItem(t),a=this.getParent(t);if(this.getItem(n).$level>=o.$level)return!1;for(;o&&this.exists(a);){if((o=this.getItem(a))&&o.id==n)return!0;a=this.getParent(o)}return!1},getSiblings:function(t){if(!this.exists(t))return _.$create();var n=this.getParent(t);return this.getChildren(n)},getNextSibling:function(t){for(var n=this.getSiblings(t),o=0,a=n.length;o<a;o++)if(n[o]==t){var l=n[o+1];return l===0&&o>0&&(l="0"),l||null}return null},getPrevSibling:function(t){for(var n=this.getSiblings(t),o=0,a=n.length;o<a;o++)if(n[o]==t){var l=n[o-1];return l===0&&o>0&&(l="0"),l||null}return null},getParent:function(t){var n=null;return(n=t.id!==void 0?t:this.getItem(t))?n[this.$parentProperty]:this.$getRootId()},clearAll:function(){this._branches={},c.prototype.clearAll.call(this)},calculateItemLevel:function(t){var n=0;return this.eachParent(function(){n++},t),n},_setParentInner:function(t,n,o){o||(t.hasOwnProperty("$rendered_parent")?this._move_branch(t,t.$rendered_parent,n):this._move_branch(t,t[this.$parentProperty],n))},setParent:function(t,n,o){this._setParentInner(t,n,o),t[this.$parentProperty]=n},_eachItemCached:function(t,n){for(var o=0,a=n.length;o<a;o++)t.call(this,n[o])},_eachItemIterate:function(t,n,o){var a=this.getChildren(n);for(a.length&&(a=a.slice().reverse());a.length;){var l=a.pop(),d=this.getItem(l);if(t.call(this,d),o&&o.push(d),this.hasChild(d.id))for(var f=this.getChildren(d.id),g=f.length-1;g>=0;g--)a.push(f[g])}},eachItem:function(t,n){var o=this.$getRootId();u.defined(n)||(n=o);var a=r(n,o)||o,l=!1,d=!1,f=null;a===o&&(this._eachItemMainRangeCache?(l=!0,f=this._eachItemMainRangeCache):(d=!0,f=this._eachItemMainRangeCache=[])),l?this._eachItemCached(t,f):this._eachItemIterate(t,a,d?f:null)},eachParent:function(t,n){for(var o={},a=n,l=this.getParent(a);this.exists(l);){if(o[l])throw new Error("Invalid tasks tree. Cyclic reference has been detected on task "+l);o[l]=!0,a=this.getItem(l),t.call(this,a),l=this.getParent(a)}},_add_branch:function(t,n,o){var a=o===void 0?this.getParent(t):o;this.hasChild(a)||(this._branches[a]=_.$create());var l=this.getChildren(a);l.indexOf(t.id+"")>-1||l.indexOf(+t.id)>-1||(1*n==n?l.splice(n,0,t.id):l.push(t.id),t.$rendered_parent=a)},_move_branch:function(t,n,o){this._eachItemMainRangeCache=null,this._replace_branch_child(n,t.id),this.exists(o)||o==this.$getRootId()?this._add_branch(t,void 0,o):delete this._branches[t.id],t.$level=this.calculateItemLevel(t),this.eachItem(function(a){a.$level=this.calculateItemLevel(a)},t.id)},_replace_branch_child:function(t,n,o){var a=this.getChildren(t);if(a&&t!==void 0){var l=_.$create(),d=a.indexOf(n+"");d!=-1||isNaN(+n)||(d=a.indexOf(+n)),d>-1&&(o?a.splice(d,1,o):a.splice(d,1)),l=a,this._branches[t]=l}},sort:function(t,n,o){this.exists(o)||(o=this.$getRootId()),t||(t="order");var a=typeof t=="string"?function(p,m){return p[t]==m[t]||s.isDate(p[t])&&s.isDate(m[t])&&p[t].valueOf()==m[t].valueOf()?0:p[t]>m[t]?1:-1}:t;if(n){var l=a;a=function(p,m){return l(m,p)}}var d=this.getChildren(o);if(d){for(var f=[],g=d.length-1;g>=0;g--)f[g]=this.getItem(d[g]);for(f.sort(a),g=0;g<f.length;g++)d[g]=f[g].id,this.sort(t,n,d[g])}},filter:function(t){for(var n in this.pull){var o=this.pull[n].$rendered_parent,a=this.getParent(this.pull[n]);o!==a&&this._move_branch(this.pull[n],o,a)}return c.prototype.filter.apply(this,arguments)},open:function(t){this.exists(t)&&(this.getItem(t).$open=!0,this._skipTaskRecalculation=!0,this.callEvent("onItemOpen",[t]))},close:function(t){this.exists(t)&&(this.getItem(t).$open=!1,this._skipTaskRecalculation=!0,this.callEvent("onItemClose",[t]))},destructor:function(){c.prototype.destructor.call(this),this._branches=null,this._indexRangeCache={},this._eachItemMainRangeCache=null}},c.prototype),A.exports=e},function(A,E,h){var _=h(0),u={$create:function(s){return _.mixin(s||[],this)},$removeAt:function(s,c){s>=0&&this.splice(s,c||1)},$remove:function(s){this.$removeAt(this.$find(s))},$insertAt:function(s,c){if(c||c===0){var i=this.splice(c,this.length-c);this[c]=s,this.push.apply(this,i)}else this.push(s)},$find:function(s){for(var c=0;c<this.length;c++)if(s==this[c])return c;return-1},$each:function(s,c){for(var i=0;i<this.length;i++)s.call(c||this,this[i])},$map:function(s,c){for(var i=0;i<this.length;i++)this[i]=s.call(c||this,this[i]);return this},$filter:function(s,c){for(var i=0;i<this.length;i++)s.call(c||this,this[i])||(this.splice(i,1),i--);return this}};A.exports=u},function(A,E,h){var _=h(48),u=h(0),s=h(5),c=h(16),i=function(r){return this.pull={},this.$initItem=r.initItem,this.visibleOrder=_.$create(),this.fullOrder=_.$create(),this._skip_refresh=!1,this._filterRule=null,this._searchVisibleOrder={},this._indexRangeCache={},this._getItemsCache=null,this.$config=r,s(this),this._attachDataChange(function(){return this._indexRangeCache={},this._getItemsCache=null,!0}),this};i.prototype={_attachDataChange:function(r){this.attachEvent("onClearAll",r),this.attachEvent("onBeforeParse",r),this.attachEvent("onBeforeUpdate",r),this.attachEvent("onBeforeDelete",r),this.attachEvent("onBeforeAdd",r),this.attachEvent("onParse",r),this.attachEvent("onBeforeFilter",r)},_parseInner:function(r){for(var e=null,t=[],n=0,o=r.length;n<o;n++)e=r[n],this.$initItem&&(this.$config.copyOnParse()&&(e=u.copy(e)),e=this.$initItem(e)),this.callEvent("onItemLoading",[e])&&(this.pull.hasOwnProperty(e.id)||this.fullOrder.push(e.id),t.push(e),this.pull[e.id]=e);return t},parse:function(r){this.isSilent()||this.callEvent("onBeforeParse",[r]);var e=this._parseInner(r);this.isSilent()||(this.refresh(),this.callEvent("onParse",[e]))},getItem:function(r){return this.pull[r]},_updateOrder:function(r){r.call(this.visibleOrder),r.call(this.fullOrder)},updateItem:function(r,e){if(u.defined(e)||(e=this.getItem(r)),!this.isSilent()&&this.callEvent("onBeforeUpdate",[e.id,e])===!1)return!1;u.mixin(this.pull[r],e,!0),this.isSilent()||(this.callEvent("onAfterUpdate",[e.id,e]),this.callEvent("onStoreUpdated",[e.id,e,"update"]))},_removeItemInner:function(r){this._updateOrder(function(){this.$remove(r)}),delete this.pull[r]},removeItem:function(r){var e=this.getItem(r);if(!this.isSilent()&&this.callEvent("onBeforeDelete",[e.id,e])===!1)return!1;this.callEvent("onAfterDeleteConfirmed",[e.id,e]),this._removeItemInner(r),this.isSilent()||(this.filter(),this.callEvent("onAfterDelete",[e.id,e]),this.callEvent("onStoreUpdated",[e.id,e,"delete"]))},_addItemInner:function(r,e){if(this.exists(r.id))this.silent(function(){this.updateItem(r.id,r)});else{var t=this.visibleOrder,n=t.length;(!u.defined(e)||e<0)&&(e=n),e>n&&(e=Math.min(t.length,e))}this.pull[r.id]=r,this.isSilent()||this._updateOrder(function(){this.$find(r.id)===-1&&this.$insertAt(r.id,e)}),this.filter()},isVisible:function(r){return this.visibleOrder.$find(r)>-1},getVisibleItems:function(){return this.getIndexRange()},addItem:function(r,e){return u.defined(r.id)||(r.id=u.uid()),this.$initItem&&(r=this.$initItem(r)),!(!this.isSilent()&&this.callEvent("onBeforeAdd",[r.id,r])===!1)&&(this._addItemInner(r,e),this.isSilent()||(this.callEvent("onAfterAdd",[r.id,r]),this.callEvent("onStoreUpdated",[r.id,r,"add"])),r.id)},_changeIdInner:function(r,e){this.pull[r]&&(this.pull[e]=this.pull[r]);var t=this._searchVisibleOrder[r];this.pull[e].id=e,this._updateOrder(function(){this[this.$find(r)]=e}),this._searchVisibleOrder[e]=t,delete this._searchVisibleOrder[r],delete this.pull[r]},changeId:function(r,e){this._changeIdInner(r,e),this.callEvent("onIdChange",[r,e])},exists:function(r){return!!this.pull[r]},_moveInner:function(r,e){var t=this.getIdByIndex(r);this._updateOrder(function(){this.$removeAt(r),this.$insertAt(t,Math.min(this.length,e))})},move:function(r,e){var t=this.getIdByIndex(r),n=this.getItem(t);this._moveInner(r,e),this.isSilent()||this.callEvent("onStoreUpdated",[n.id,n,"move"])},clearAll:function(){this.$destroyed||(this.silent(function(){this.unselect()}),this.pull={},this.visibleOrder=_.$create(),this.fullOrder=_.$create(),this.isSilent()||(this.callEvent("onClearAll",[]),this.refresh()))},silent:function(r,e){var t=!1;this.isSilent()&&(t=!0),this._skip_refresh=!0,r.call(e||this),t||(this._skip_refresh=!1)},isSilent:function(){return!!this._skip_refresh},arraysEqual:function(r,e){if(r.length!==e.length)return!1;for(var t=0;t<r.length;t++)if(r[t]!==e[t])return!1;return!0},refresh:function(r,e){var t,n;if(!this.isSilent()&&(r&&(t=this.getItem(r)),n=r?[r,t,"paint"]:[null,null,null],this.callEvent("onBeforeStoreUpdate",n)!==!1)){var o=this._quick_refresh&&!this._mark_recompute;if(this._mark_recompute=!1,r){if(!e&&!o){var a=this.visibleOrder;this.filter(),this.arraysEqual(a,this.visibleOrder)||(r=void 0)}}else o||this.filter();n=r?[r,t,"paint"]:[null,null,null],this.callEvent("onStoreUpdated",n)}},count:function(){return this.fullOrder.length},countVisible:function(){return this.visibleOrder.length},sort:function(r){},serialize:function(){},eachItem:function(r){for(var e=0;e<this.fullOrder.length;e++){var t=this.getItem(this.fullOrder[e]);r.call(this,t)}},find:function(r){var e=[];return this.eachItem(function(t){r(t)&&e.push(t)}),e},filter:function(r){this.isSilent()||this.callEvent("onBeforeFilter",[]),this.callEvent("onPreFilter",[]);var e=_.$create(),t=[];this.eachItem(function(o){this.callEvent("onFilterItem",[o.id,o])&&(c(o.id,null,this,this._ganttConfig)?t.push(o.id):e.push(o.id))});for(var n=0;n<t.length;n++)e.push(t[n]);for(this.visibleOrder=e,this._searchVisibleOrder={},n=0;n<this.visibleOrder.length;n++)this._searchVisibleOrder[this.visibleOrder[n]]=n;this.isSilent()||this.callEvent("onFilter",[])},getIndexRange:function(r,e){var t=Math.min(e||1/0,this.countVisible()-1),n=r||0,o=n+"-"+t;if(this._indexRangeCache[o])return this._indexRangeCache[o].slice();for(var a=[],l=n;l<=t;l++)a.push(this.getItem(this.visibleOrder[l]));return this._indexRangeCache[o]=a.slice(),a},getItems:function(){if(this._getItemsCache)return this._getItemsCache.slice();var r=[];for(var e in this.pull)r.push(this.pull[e]);return this._getItemsCache=r.slice(),r},getIdByIndex:function(r){return this.visibleOrder[r]},getIndexById:function(r){var e=this._searchVisibleOrder[r];return e===void 0&&(e=-1),e},_getNullIfUndefined:function(r){return r===void 0?null:r},getFirst:function(){return this._getNullIfUndefined(this.visibleOrder[0])},getLast:function(){return this._getNullIfUndefined(this.visibleOrder[this.visibleOrder.length-1])},getNext:function(r){return this._getNullIfUndefined(this.visibleOrder[this.getIndexById(r)+1])},getPrev:function(r){return this._getNullIfUndefined(this.visibleOrder[this.getIndexById(r)-1])},destructor:function(){this.callEvent("onDestroy",[]),this.detachAllEvents(),this.$destroyed=!0,this.pull=null,this.$initItem=null,this.visibleOrder=null,this.fullOrder=null,this._skip_refresh=null,this._filterRule=null,this._searchVisibleOrder=null,this._indexRangeCache={}}},A.exports=i},function(A,E){A.exports=function(h,_){if(!_)return!0;if(h._on_timeout)return!1;var u=Math.ceil(1e3/_);return u<2||(setTimeout(function(){delete h._on_timeout},u),h._on_timeout=!0,!0)}},function(A,E,h){var _=h(0);A.exports=function u(s,c){s=s||_.event,c=c||_.eventRemove;var i=[],r={attach:function(e,t,n,o){i.push({element:e,event:t,callback:n,capture:o}),s(e,t,n,o)},detach:function(e,t,n,o){c(e,t,n,o);for(var a=0;a<i.length;a++){var l=i[a];l.element===e&&l.event===t&&l.callback===n&&l.capture===o&&(i.splice(a,1),a--)}},detachAll:function(){for(var e=i.slice(),t=0;t<e.length;t++){var n=e[t];r.detach(n.element,n.event,n.callback,n.capture),r.detach(n.element,n.event,n.callback,void 0),r.detach(n.element,n.event,n.callback,!1),r.detach(n.element,n.event,n.callback,!0)}i.splice(0,i.length)},extend:function(){return u(this.event,this.eventRemove)}};return r}},function(A,E){function h(_){"@babel/helpers - typeof";return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(_)}A.exports=(typeof self>"u"?"undefined":h(self))=="object"?self.FormData:window.FormData},function(A,E){(function(h){A.exports=h}).call(this,{})},function(A,E,h){function _(v){"@babel/helpers - typeof";return(_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b})(v)}var u=h(278),s=h(276);function c(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}E.parse=y,E.resolve=function(v,b){return y(v,!1,!0).resolve(b)},E.resolveObject=function(v,b){return v?y(v,!1,!0).resolveObject(b):b},E.format=function(v){return s.isString(v)&&(v=y(v)),v instanceof c?v.format():c.prototype.format.call(v)},E.Url=c;var i=/^([a-z0-9.+-]+:)/i,r=/:[0-9]*$/,e=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,t=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r",`
`,"	"]),n=["'"].concat(t),o=["%","/","?",";","#"].concat(n),a=["/","?","#"],l=/^[+a-z0-9A-Z_-]{0,63}$/,d=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,f={javascript:!0,"javascript:":!0},g={javascript:!0,"javascript:":!0},p={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},m=h(275);function y(v,b,k){if(v&&s.isObject(v)&&v instanceof c)return v;var $=new c;return $.parse(v,b,k),$}c.prototype.parse=function(v,b,k){if(!s.isString(v))throw new TypeError("Parameter 'url' must be a string, not "+_(v));var $=v.indexOf("?"),w=$!==-1&&$<v.indexOf("#")?"?":"#",x=v.split(w);x[0]=x[0].replace(/\\/g,"/");var T=v=x.join(w);if(T=T.trim(),!k&&v.split("#").length===1){var D=e.exec(T);if(D)return this.path=T,this.href=T,this.pathname=D[1],D[2]?(this.search=D[2],this.query=b?m.parse(this.search.substr(1)):this.search.substr(1)):b&&(this.search="",this.query={}),this}var I=i.exec(T);if(I){var P=(I=I[0]).toLowerCase();this.protocol=P,T=T.substr(I.length)}if(k||I||T.match(/^\/\/[^@\/]+@[^@\/]+/)){var R=T.substr(0,2)==="//";!R||I&&g[I]||(T=T.substr(2),this.slashes=!0)}if(!g[I]&&(R||I&&!p[I])){for(var H,F,Y=-1,q=0;q<a.length;q++)(L=T.indexOf(a[q]))!==-1&&(Y===-1||L<Y)&&(Y=L);for((F=Y===-1?T.lastIndexOf("@"):T.lastIndexOf("@",Y))!==-1&&(H=T.slice(0,F),T=T.slice(F+1),this.auth=decodeURIComponent(H)),Y=-1,q=0;q<o.length;q++){var L;(L=T.indexOf(o[q]))!==-1&&(Y===-1||L<Y)&&(Y=L)}Y===-1&&(Y=T.length),this.host=T.slice(0,Y),T=T.slice(Y),this.parseHost(),this.hostname=this.hostname||"";var N=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!N)for(var G=this.hostname.split(/\./),O=(q=0,G.length);q<O;q++){var V=G[q];if(V&&!V.match(l)){for(var K="",J=0,z=V.length;J<z;J++)V.charCodeAt(J)>127?K+="x":K+=V[J];if(!K.match(l)){var S=G.slice(0,q),C=G.slice(q+1),M=V.match(d);M&&(S.push(M[1]),C.unshift(M[2])),C.length&&(T="/"+C.join(".")+T),this.hostname=S.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),N||(this.hostname=u.toASCII(this.hostname));var j=this.port?":"+this.port:"",B=this.hostname||"";this.host=B+j,this.href+=this.host,N&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),T[0]!=="/"&&(T="/"+T))}if(!f[P])for(q=0,O=n.length;q<O;q++){var U=n[q];if(T.indexOf(U)!==-1){var Z=encodeURIComponent(U);Z===U&&(Z=escape(U)),T=T.split(U).join(Z)}}var W=T.indexOf("#");W!==-1&&(this.hash=T.substr(W),T=T.slice(0,W));var tt=T.indexOf("?");if(tt!==-1?(this.search=T.substr(tt),this.query=T.substr(tt+1),b&&(this.query=m.parse(this.query)),T=T.slice(0,tt)):b&&(this.search="",this.query={}),T&&(this.pathname=T),p[P]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){j=this.pathname||"";var rt=this.search||"";this.path=j+rt}return this.href=this.format(),this},c.prototype.format=function(){var v=this.auth||"";v&&(v=(v=encodeURIComponent(v)).replace(/%3A/i,":"),v+="@");var b=this.protocol||"",k=this.pathname||"",$=this.hash||"",w=!1,x="";this.host?w=v+this.host:this.hostname&&(w=v+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(w+=":"+this.port)),this.query&&s.isObject(this.query)&&Object.keys(this.query).length&&(x=m.stringify(this.query));var T=this.search||x&&"?"+x||"";return b&&b.substr(-1)!==":"&&(b+=":"),this.slashes||(!b||p[b])&&w!==!1?(w="//"+(w||""),k&&k.charAt(0)!=="/"&&(k="/"+k)):w||(w=""),$&&$.charAt(0)!=="#"&&($="#"+$),T&&T.charAt(0)!=="?"&&(T="?"+T),b+w+(k=k.replace(/[?#]/g,function(D){return encodeURIComponent(D)}))+(T=T.replace("#","%23"))+$},c.prototype.resolve=function(v){return this.resolveObject(y(v,!1,!0)).format()},c.prototype.resolveObject=function(v){if(s.isString(v)){var b=new c;b.parse(v,!1,!0),v=b}for(var k=new c,$=Object.keys(this),w=0;w<$.length;w++){var x=$[w];k[x]=this[x]}if(k.hash=v.hash,v.href==="")return k.href=k.format(),k;if(v.slashes&&!v.protocol){for(var T=Object.keys(v),D=0;D<T.length;D++){var I=T[D];I!=="protocol"&&(k[I]=v[I])}return p[k.protocol]&&k.hostname&&!k.pathname&&(k.path=k.pathname="/"),k.href=k.format(),k}if(v.protocol&&v.protocol!==k.protocol){if(!p[v.protocol]){for(var P=Object.keys(v),R=0;R<P.length;R++){var H=P[R];k[H]=v[H]}return k.href=k.format(),k}if(k.protocol=v.protocol,v.host||g[v.protocol])k.pathname=v.pathname;else{for(var F=(v.pathname||"").split("/");F.length&&!(v.host=F.shift()););v.host||(v.host=""),v.hostname||(v.hostname=""),F[0]!==""&&F.unshift(""),F.length<2&&F.unshift(""),k.pathname=F.join("/")}if(k.search=v.search,k.query=v.query,k.host=v.host||"",k.auth=v.auth,k.hostname=v.hostname||v.host,k.port=v.port,k.pathname||k.search){var Y=k.pathname||"",q=k.search||"";k.path=Y+q}return k.slashes=k.slashes||v.slashes,k.href=k.format(),k}var L=k.pathname&&k.pathname.charAt(0)==="/",N=v.host||v.pathname&&v.pathname.charAt(0)==="/",G=N||L||k.host&&v.pathname,O=G,V=k.pathname&&k.pathname.split("/")||[],K=(F=v.pathname&&v.pathname.split("/")||[],k.protocol&&!p[k.protocol]);if(K&&(k.hostname="",k.port=null,k.host&&(V[0]===""?V[0]=k.host:V.unshift(k.host)),k.host="",v.protocol&&(v.hostname=null,v.port=null,v.host&&(F[0]===""?F[0]=v.host:F.unshift(v.host)),v.host=null),G=G&&(F[0]===""||V[0]==="")),N)k.host=v.host||v.host===""?v.host:k.host,k.hostname=v.hostname||v.hostname===""?v.hostname:k.hostname,k.search=v.search,k.query=v.query,V=F;else if(F.length)V||(V=[]),V.pop(),V=V.concat(F),k.search=v.search,k.query=v.query;else if(!s.isNullOrUndefined(v.search))return K&&(k.hostname=k.host=V.shift(),(M=!!(k.host&&k.host.indexOf("@")>0)&&k.host.split("@"))&&(k.auth=M.shift(),k.host=k.hostname=M.shift())),k.search=v.search,k.query=v.query,s.isNull(k.pathname)&&s.isNull(k.search)||(k.path=(k.pathname?k.pathname:"")+(k.search?k.search:"")),k.href=k.format(),k;if(!V.length)return k.pathname=null,k.search?k.path="/"+k.search:k.path=null,k.href=k.format(),k;for(var J=V.slice(-1)[0],z=(k.host||v.host||V.length>1)&&(J==="."||J==="..")||J==="",S=0,C=V.length;C>=0;C--)(J=V[C])==="."?V.splice(C,1):J===".."?(V.splice(C,1),S++):S&&(V.splice(C,1),S--);if(!G&&!O)for(;S--;S)V.unshift("..");!G||V[0]===""||V[0]&&V[0].charAt(0)==="/"||V.unshift(""),z&&V.join("/").substr(-1)!=="/"&&V.push("");var M,j=V[0]===""||V[0]&&V[0].charAt(0)==="/";return K&&(k.hostname=k.host=j?"":V.length?V.shift():"",(M=!!(k.host&&k.host.indexOf("@")>0)&&k.host.split("@"))&&(k.auth=M.shift(),k.host=k.hostname=M.shift())),(G=G||k.host&&V.length)&&!j&&V.unshift(""),V.length?k.pathname=V.join("/"):(k.pathname=null,k.path=null),s.isNull(k.pathname)&&s.isNull(k.search)||(k.path=(k.pathname?k.pathname:"")+(k.search?k.search:"")),k.auth=v.auth||k.auth,k.slashes=k.slashes||v.slashes,k.href=k.format(),k},c.prototype.parseHost=function(){var v=this.host,b=r.exec(v);b&&((b=b[0])!==":"&&(this.port=b.substr(1)),v=v.substr(0,v.length-b.length)),v&&(this.hostname=v)}},function(A,E,h){A.exports=s;var _=h(12),u=h(17);function s(r){if(!(this instanceof s))return new s(r);_.call(this,r),this._transformState={afterTransform:(function(e,t){var n=this._transformState;n.transforming=!1;var o=n.writecb;if(!o)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,t!=null&&this.push(t),o(e);var a=this._readableState;a.reading=!1,(a.needReadable||a.length<a.highWaterMark)&&this._read(a.highWaterMark)}).bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,r&&(typeof r.transform=="function"&&(this._transform=r.transform),typeof r.flush=="function"&&(this._flush=r.flush)),this.on("prefinish",c)}function c(){var r=this;typeof this._flush=="function"?this._flush(function(e,t){i(r,e,t)}):i(this,null,null)}function i(r,e,t){if(e)return r.emit("error",e);if(t!=null&&r.push(t),r._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(r._transformState.transforming)throw new Error("Calling transform done when still transforming");return r.push(null)}u.inherits=h(8),u.inherits(s,_),s.prototype.push=function(r,e){return this._transformState.needTransform=!1,_.prototype.push.call(this,r,e)},s.prototype._transform=function(r,e,t){throw new Error("_transform() is not implemented")},s.prototype._write=function(r,e,t){var n=this._transformState;if(n.writecb=t,n.writechunk=r,n.writeencoding=e,!n.transforming){var o=this._readableState;(n.needTransform||o.needReadable||o.length<o.highWaterMark)&&this._read(o.highWaterMark)}},s.prototype._read=function(r){var e=this._transformState;e.writechunk!==null&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0},s.prototype._destroy=function(r,e){var t=this;_.prototype._destroy.call(this,r,function(n){e(n),t.emit("close")})}},function(A,E,h){var _=h(22).Buffer,u=_.isEncoding||function(l){switch((l=""+l)&&l.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function s(l){var d;switch(this.encoding=function(f){var g=function(p){if(!p)return"utf8";for(var m;;)switch(p){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return p;default:if(m)return;p=(""+p).toLowerCase(),m=!0}}(f);if(typeof g!="string"&&(_.isEncoding===u||!u(f)))throw new Error("Unknown encoding: "+f);return g||f}(l),this.encoding){case"utf16le":this.text=r,this.end=e,d=4;break;case"utf8":this.fillLast=i,d=4;break;case"base64":this.text=t,this.end=n,d=3;break;default:return this.write=o,void(this.end=a)}this.lastNeed=0,this.lastTotal=0,this.lastChar=_.allocUnsafe(d)}function c(l){return l<=127?0:l>>5==6?2:l>>4==14?3:l>>3==30?4:l>>6==2?-1:-2}function i(l){var d=this.lastTotal-this.lastNeed,f=function(g,p,m){if((192&p[0])!=128)return g.lastNeed=0,"�";if(g.lastNeed>1&&p.length>1){if((192&p[1])!=128)return g.lastNeed=1,"�";if(g.lastNeed>2&&p.length>2&&(192&p[2])!=128)return g.lastNeed=2,"�"}}(this,l);return f!==void 0?f:this.lastNeed<=l.length?(l.copy(this.lastChar,d,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(l.copy(this.lastChar,d,0,l.length),void(this.lastNeed-=l.length))}function r(l,d){if((l.length-d)%2==0){var f=l.toString("utf16le",d);if(f){var g=f.charCodeAt(f.length-1);if(g>=55296&&g<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=l[l.length-2],this.lastChar[1]=l[l.length-1],f.slice(0,-1)}return f}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=l[l.length-1],l.toString("utf16le",d,l.length-1)}function e(l){var d=l&&l.length?this.write(l):"";if(this.lastNeed){var f=this.lastTotal-this.lastNeed;return d+this.lastChar.toString("utf16le",0,f)}return d}function t(l,d){var f=(l.length-d)%3;return f===0?l.toString("base64",d):(this.lastNeed=3-f,this.lastTotal=3,f===1?this.lastChar[0]=l[l.length-1]:(this.lastChar[0]=l[l.length-2],this.lastChar[1]=l[l.length-1]),l.toString("base64",d,l.length-f))}function n(l){var d=l&&l.length?this.write(l):"";return this.lastNeed?d+this.lastChar.toString("base64",0,3-this.lastNeed):d}function o(l){return l.toString(this.encoding)}function a(l){return l&&l.length?this.write(l):""}E.StringDecoder=s,s.prototype.write=function(l){if(l.length===0)return"";var d,f;if(this.lastNeed){if((d=this.fillLast(l))===void 0)return"";f=this.lastNeed,this.lastNeed=0}else f=0;return f<l.length?d?d+this.text(l,f):this.text(l,f):d||""},s.prototype.end=function(l){var d=l&&l.length?this.write(l):"";return this.lastNeed?d+"�":d},s.prototype.text=function(l,d){var f=function(p,m,y){var v=m.length-1;if(v<y)return 0;var b=c(m[v]);return b>=0?(b>0&&(p.lastNeed=b-1),b):--v<y||b===-2?0:(b=c(m[v]))>=0?(b>0&&(p.lastNeed=b-2),b):--v<y||b===-2?0:(b=c(m[v]))>=0?(b>0&&(b===2?b=0:p.lastNeed=b-3),b):0}(this,l,d);if(!this.lastNeed)return l.toString("utf8",d);this.lastTotal=f;var g=l.length-(f-this.lastNeed);return l.copy(this.lastChar,0,g),l.toString("utf8",d,g)},s.prototype.fillLast=function(l){if(this.lastNeed<=l.length)return l.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);l.copy(this.lastChar,this.lastTotal-this.lastNeed,0,l.length),this.lastNeed-=l.length}},function(A,E,h){(function(_){var u=_!==void 0&&_||typeof self<"u"&&self||window,s=Function.prototype.apply;function c(i,r){this._id=i,this._clearFn=r}E.setTimeout=function(){return new c(s.call(setTimeout,u,arguments),clearTimeout)},E.setInterval=function(){return new c(s.call(setInterval,u,arguments),clearInterval)},E.clearTimeout=E.clearInterval=function(i){i&&i.close()},c.prototype.unref=c.prototype.ref=function(){},c.prototype.close=function(){this._clearFn.call(u,this._id)},E.enroll=function(i,r){clearTimeout(i._idleTimeoutId),i._idleTimeout=r},E.unenroll=function(i){clearTimeout(i._idleTimeoutId),i._idleTimeout=-1},E._unrefActive=E.active=function(i){clearTimeout(i._idleTimeoutId);var r=i._idleTimeout;r>=0&&(i._idleTimeoutId=setTimeout(function(){i._onTimeout&&i._onTimeout()},r))},h(284),E.setImmediate=typeof self<"u"&&self.setImmediate||_!==void 0&&_.setImmediate||this&&this.setImmediate,E.clearImmediate=typeof self<"u"&&self.clearImmediate||_!==void 0&&_.clearImmediate||this&&this.clearImmediate}).call(this,h(4))},function(A,E,h){(function(_,u,s){var c=h(23);function i(x){var T=this;this.next=null,this.entry=null,this.finish=function(){(function(D,I,P){var R=D.entry;for(D.entry=null;R;){var H=R.callback;I.pendingcb--,H(P),R=R.next}I.corkedRequestsFree?I.corkedRequestsFree.next=D:I.corkedRequestsFree=D})(T,x)}}A.exports=m;var r,e=!_.browser&&["v0.10","v0.9."].indexOf(_.version.slice(0,5))>-1?u:c.nextTick;m.WritableState=p;var t=h(17);t.inherits=h(8);var n={deprecate:h(283)},o=h(60),a=h(22).Buffer,l=s.Uint8Array||function(){},d,f=h(59);function g(){}function p(x,T){r=r||h(12),x=x||{};var D=T instanceof r;this.objectMode=!!x.objectMode,D&&(this.objectMode=this.objectMode||!!x.writableObjectMode);var I=x.highWaterMark,P=x.writableHighWaterMark,R=this.objectMode?16:16384;this.highWaterMark=I||I===0?I:D&&(P||P===0)?P:R,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var H=x.decodeStrings===!1;this.decodeStrings=!H,this.defaultEncoding=x.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(F){(function(Y,q){var L=Y._writableState,N=L.sync,G=L.writecb;if(function(V){V.writing=!1,V.writecb=null,V.length-=V.writelen,V.writelen=0}(L),q)(function(V,K,J,z,S){--K.pendingcb,J?(c.nextTick(S,z),c.nextTick(w,V,K),V._writableState.errorEmitted=!0,V.emit("error",z)):(S(z),V._writableState.errorEmitted=!0,V.emit("error",z),w(V,K))})(Y,L,N,q,G);else{var O=k(L);O||L.corked||L.bufferProcessing||!L.bufferedRequest||b(Y,L),N?e(v,Y,L,O,G):v(Y,L,O,G)}})(T,F)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new i(this)}function m(x){if(r=r||h(12),!(d.call(m,this)||this instanceof r))return new m(x);this._writableState=new p(x,this),this.writable=!0,x&&(typeof x.write=="function"&&(this._write=x.write),typeof x.writev=="function"&&(this._writev=x.writev),typeof x.destroy=="function"&&(this._destroy=x.destroy),typeof x.final=="function"&&(this._final=x.final)),o.call(this)}function y(x,T,D,I,P,R,H){T.writelen=I,T.writecb=H,T.writing=!0,T.sync=!0,D?x._writev(P,T.onwrite):x._write(P,R,T.onwrite),T.sync=!1}function v(x,T,D,I){D||function(P,R){R.length===0&&R.needDrain&&(R.needDrain=!1,P.emit("drain"))}(x,T),T.pendingcb--,I(),w(x,T)}function b(x,T){T.bufferProcessing=!0;var D=T.bufferedRequest;if(x._writev&&D&&D.next){var I=T.bufferedRequestCount,P=new Array(I),R=T.corkedRequestsFree;R.entry=D;for(var H=0,F=!0;D;)P[H]=D,D.isBuf||(F=!1),D=D.next,H+=1;P.allBuffers=F,y(x,T,!0,T.length,P,"",R.finish),T.pendingcb++,T.lastBufferedRequest=null,R.next?(T.corkedRequestsFree=R.next,R.next=null):T.corkedRequestsFree=new i(T),T.bufferedRequestCount=0}else{for(;D;){var Y=D.chunk,q=D.encoding,L=D.callback;if(y(x,T,!1,T.objectMode?1:Y.length,Y,q,L),D=D.next,T.bufferedRequestCount--,T.writing)break}D===null&&(T.lastBufferedRequest=null)}T.bufferedRequest=D,T.bufferProcessing=!1}function k(x){return x.ending&&x.length===0&&x.bufferedRequest===null&&!x.finished&&!x.writing}function $(x,T){x._final(function(D){T.pendingcb--,D&&x.emit("error",D),T.prefinished=!0,x.emit("prefinish"),w(x,T)})}function w(x,T){var D=k(T);return D&&(function(I,P){P.prefinished||P.finalCalled||(typeof I._final=="function"?(P.pendingcb++,P.finalCalled=!0,c.nextTick($,I,P)):(P.prefinished=!0,I.emit("prefinish")))}(x,T),T.pendingcb===0&&(T.finished=!0,x.emit("finish"))),D}t.inherits(m,o),p.prototype.getBuffer=function(){for(var x=this.bufferedRequest,T=[];x;)T.push(x),x=x.next;return T},function(){try{Object.defineProperty(p.prototype,"buffer",{get:n.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(d=Function.prototype[Symbol.hasInstance],Object.defineProperty(m,Symbol.hasInstance,{value:function(x){return!!d.call(this,x)||this===m&&x&&x._writableState instanceof p}})):d=function(x){return x instanceof this},m.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},m.prototype.write=function(x,T,D){var I=this._writableState,P=!1,R=!I.objectMode&&function(H){return a.isBuffer(H)||H instanceof l}(x);return R&&!a.isBuffer(x)&&(x=function(H){return a.from(H)}(x)),typeof T=="function"&&(D=T,T=null),R?T="buffer":T||(T=I.defaultEncoding),typeof D!="function"&&(D=g),I.ended?function(H,F){var Y=new Error("write after end");H.emit("error",Y),c.nextTick(F,Y)}(this,D):(R||function(H,F,Y,q){var L=!0,N=!1;return Y===null?N=new TypeError("May not write null values to stream"):typeof Y=="string"||Y===void 0||F.objectMode||(N=new TypeError("Invalid non-string/buffer chunk")),N&&(H.emit("error",N),c.nextTick(q,N),L=!1),L}(this,I,x,D))&&(I.pendingcb++,P=function(H,F,Y,q,L,N){if(!Y){var G=function(J,z,S){return J.objectMode||J.decodeStrings===!1||typeof z!="string"||(z=a.from(z,S)),z}(F,q,L);q!==G&&(Y=!0,L="buffer",q=G)}var O=F.objectMode?1:q.length;F.length+=O;var V=F.length<F.highWaterMark;if(V||(F.needDrain=!0),F.writing||F.corked){var K=F.lastBufferedRequest;F.lastBufferedRequest={chunk:q,encoding:L,isBuf:Y,callback:N,next:null},K?K.next=F.lastBufferedRequest:F.bufferedRequest=F.lastBufferedRequest,F.bufferedRequestCount+=1}else y(H,F,!1,O,q,L,N);return V}(this,I,R,x,T,D)),P},m.prototype.cork=function(){this._writableState.corked++},m.prototype.uncork=function(){var x=this._writableState;x.corked&&(x.corked--,x.writing||x.corked||x.finished||x.bufferProcessing||!x.bufferedRequest||b(this,x))},m.prototype.setDefaultEncoding=function(x){if(typeof x=="string"&&(x=x.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((x+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+x);return this._writableState.defaultEncoding=x,this},Object.defineProperty(m.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),m.prototype._write=function(x,T,D){D(new Error("_write() is not implemented"))},m.prototype._writev=null,m.prototype.end=function(x,T,D){var I=this._writableState;typeof x=="function"?(D=x,x=null,T=null):typeof T=="function"&&(D=T,T=null),x!=null&&this.write(x,T),I.corked&&(I.corked=1,this.uncork()),I.ending||I.finished||function(P,R,H){R.ending=!0,w(P,R),H&&(R.finished?c.nextTick(H):P.once("finish",H)),R.ended=!0,P.writable=!1}(this,I,D)},Object.defineProperty(m.prototype,"destroyed",{get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(x){this._writableState&&(this._writableState.destroyed=x)}}),m.prototype.destroy=f.destroy,m.prototype._undestroy=f.undestroy,m.prototype._destroy=function(x,T){this.end(),T(x)}}).call(this,h(9),h(57).setImmediate,h(4))},function(A,E,h){var _=h(23);function u(s,c){s.emit("error",c)}A.exports={destroy:function(s,c){var i=this,r=this._readableState&&this._readableState.destroyed,e=this._writableState&&this._writableState.destroyed;return r||e?(c?c(s):!s||this._writableState&&this._writableState.errorEmitted||_.nextTick(u,this,s),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(s||null,function(t){!c&&t?(_.nextTick(u,i,t),i._writableState&&(i._writableState.errorEmitted=!0)):c&&c(t)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(A,E,h){A.exports=h(61).EventEmitter},function(A,E){function h(i){"@babel/helpers - typeof";return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(i)}function _(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function u(i){return typeof i=="function"}function s(i){return h(i)==="object"&&i!==null}function c(i){return i===void 0}A.exports=_,_.EventEmitter=_,_.prototype._events=void 0,_.prototype._maxListeners=void 0,_.defaultMaxListeners=10,_.prototype.setMaxListeners=function(i){if(!function(r){return typeof r=="number"}(i)||i<0||isNaN(i))throw TypeError("n must be a positive number");return this._maxListeners=i,this},_.prototype.emit=function(i){var r,e,t,n,o,a;if(this._events||(this._events={}),i==="error"&&(!this._events.error||s(this._events.error)&&!this._events.error.length)){if((r=arguments[1])instanceof Error)throw r;var l=new Error('Uncaught, unspecified "error" event. ('+r+")");throw l.context=r,l}if(c(e=this._events[i]))return!1;if(u(e))switch(arguments.length){case 1:e.call(this);break;case 2:e.call(this,arguments[1]);break;case 3:e.call(this,arguments[1],arguments[2]);break;default:n=Array.prototype.slice.call(arguments,1),e.apply(this,n)}else if(s(e))for(n=Array.prototype.slice.call(arguments,1),t=(a=e.slice()).length,o=0;o<t;o++)a[o].apply(this,n);return!0},_.prototype.addListener=function(i,r){var e;if(!u(r))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",i,u(r.listener)?r.listener:r),this._events[i]?s(this._events[i])?this._events[i].push(r):this._events[i]=[this._events[i],r]:this._events[i]=r,s(this._events[i])&&!this._events[i].warned&&(e=c(this._maxListeners)?_.defaultMaxListeners:this._maxListeners)&&e>0&&this._events[i].length>e&&(this._events[i].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[i].length),typeof console.trace=="function"&&console.trace()),this},_.prototype.on=_.prototype.addListener,_.prototype.once=function(i,r){if(!u(r))throw TypeError("listener must be a function");var e=!1;function t(){this.removeListener(i,t),e||(e=!0,r.apply(this,arguments))}return t.listener=r,this.on(i,t),this},_.prototype.removeListener=function(i,r){var e,t,n,o;if(!u(r))throw TypeError("listener must be a function");if(!this._events||!this._events[i])return this;if(n=(e=this._events[i]).length,t=-1,e===r||u(e.listener)&&e.listener===r)delete this._events[i],this._events.removeListener&&this.emit("removeListener",i,r);else if(s(e)){for(o=n;o-- >0;)if(e[o]===r||e[o].listener&&e[o].listener===r){t=o;break}if(t<0)return this;e.length===1?(e.length=0,delete this._events[i]):e.splice(t,1),this._events.removeListener&&this.emit("removeListener",i,r)}return this},_.prototype.removeAllListeners=function(i){var r,e;if(!this._events)return this;if(!this._events.removeListener)return arguments.length===0?this._events={}:this._events[i]&&delete this._events[i],this;if(arguments.length===0){for(r in this._events)r!=="removeListener"&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events={},this}if(u(e=this._events[i]))this.removeListener(i,e);else if(e)for(;e.length;)this.removeListener(i,e[e.length-1]);return delete this._events[i],this},_.prototype.listeners=function(i){return this._events&&this._events[i]?u(this._events[i])?[this._events[i]]:this._events[i].slice():[]},_.prototype.listenerCount=function(i){if(this._events){var r=this._events[i];if(u(r))return 1;if(r)return r.length}return 0},_.listenerCount=function(i,r){return i.listenerCount(r)}},function(A,E,h){(function(_,u){var s=h(23);A.exports=y;var c,i=h(67);y.ReadableState=m,h(61).EventEmitter;var r=function(L,N){return L.listeners(N).length},e=h(60),t=h(22).Buffer,n=_.Uint8Array||function(){},o=h(17);o.inherits=h(8);var a=h(287),l=void 0;l=a&&a.debuglog?a.debuglog("stream"):function(){};var d,f=h(286),g=h(59);o.inherits(y,e);var p=["error","close","destroy","pause","resume"];function m(L,N){c=c||h(12),L=L||{};var G=N instanceof c;this.objectMode=!!L.objectMode,G&&(this.objectMode=this.objectMode||!!L.readableObjectMode);var O=L.highWaterMark,V=L.readableHighWaterMark,K=this.objectMode?16:16384;this.highWaterMark=O||O===0?O:G&&(V||V===0)?V:K,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new f,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=L.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,L.encoding&&(d||(d=h(56).StringDecoder),this.decoder=new d(L.encoding),this.encoding=L.encoding)}function y(L){if(c=c||h(12),!(this instanceof y))return new y(L);this._readableState=new m(L,this),this.readable=!0,L&&(typeof L.read=="function"&&(this._read=L.read),typeof L.destroy=="function"&&(this._destroy=L.destroy)),e.call(this)}function v(L,N,G,O,V){var K,J=L._readableState;return N===null?(J.reading=!1,function(z,S){if(!S.ended){if(S.decoder){var C=S.decoder.end();C&&C.length&&(S.buffer.push(C),S.length+=S.objectMode?1:C.length)}S.ended=!0,w(z)}}(L,J)):(V||(K=function(z,S){var C;return function(M){return t.isBuffer(M)||M instanceof n}(S)||typeof S=="string"||S===void 0||z.objectMode||(C=new TypeError("Invalid non-string/buffer chunk")),C}(J,N)),K?L.emit("error",K):J.objectMode||N&&N.length>0?(typeof N=="string"||J.objectMode||Object.getPrototypeOf(N)===t.prototype||(N=function(z){return t.from(z)}(N)),O?J.endEmitted?L.emit("error",new Error("stream.unshift() after end event")):b(L,J,N,!0):J.ended?L.emit("error",new Error("stream.push() after EOF")):(J.reading=!1,J.decoder&&!G?(N=J.decoder.write(N),J.objectMode||N.length!==0?b(L,J,N,!1):T(L,J)):b(L,J,N,!1))):O||(J.reading=!1)),function(z){return!z.ended&&(z.needReadable||z.length<z.highWaterMark||z.length===0)}(J)}function b(L,N,G,O){N.flowing&&N.length===0&&!N.sync?(L.emit("data",G),L.read(0)):(N.length+=N.objectMode?1:G.length,O?N.buffer.unshift(G):N.buffer.push(G),N.needReadable&&w(L)),T(L,N)}Object.defineProperty(y.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(L){this._readableState&&(this._readableState.destroyed=L)}}),y.prototype.destroy=g.destroy,y.prototype._undestroy=g.undestroy,y.prototype._destroy=function(L,N){this.push(null),N(L)},y.prototype.push=function(L,N){var G,O=this._readableState;return O.objectMode?G=!0:typeof L=="string"&&((N=N||O.defaultEncoding)!==O.encoding&&(L=t.from(L,N),N=""),G=!0),v(this,L,N,!1,G)},y.prototype.unshift=function(L){return v(this,L,null,!0,!1)},y.prototype.isPaused=function(){return this._readableState.flowing===!1},y.prototype.setEncoding=function(L){return d||(d=h(56).StringDecoder),this._readableState.decoder=new d(L),this._readableState.encoding=L,this};var k=8388608;function $(L,N){return L<=0||N.length===0&&N.ended?0:N.objectMode?1:L!=L?N.flowing&&N.length?N.buffer.head.data.length:N.length:(L>N.highWaterMark&&(N.highWaterMark=function(G){return G>=k?G=k:(G--,G|=G>>>1,G|=G>>>2,G|=G>>>4,G|=G>>>8,G|=G>>>16,G++),G}(L)),L<=N.length?L:N.ended?N.length:(N.needReadable=!0,0))}function w(L){var N=L._readableState;N.needReadable=!1,N.emittedReadable||(l("emitReadable",N.flowing),N.emittedReadable=!0,N.sync?s.nextTick(x,L):x(L))}function x(L){l("emit readable"),L.emit("readable"),R(L)}function T(L,N){N.readingMore||(N.readingMore=!0,s.nextTick(D,L,N))}function D(L,N){for(var G=N.length;!N.reading&&!N.flowing&&!N.ended&&N.length<N.highWaterMark&&(l("maybeReadMore read 0"),L.read(0),G!==N.length);)G=N.length;N.readingMore=!1}function I(L){l("readable nexttick read 0"),L.read(0)}function P(L,N){N.reading||(l("resume read 0"),L.read(0)),N.resumeScheduled=!1,N.awaitDrain=0,L.emit("resume"),R(L),N.flowing&&!N.reading&&L.read(0)}function R(L){var N=L._readableState;for(l("flow",N.flowing);N.flowing&&L.read()!==null;);}function H(L,N){return N.length===0?null:(N.objectMode?G=N.buffer.shift():!L||L>=N.length?(G=N.decoder?N.buffer.join(""):N.buffer.length===1?N.buffer.head.data:N.buffer.concat(N.length),N.buffer.clear()):G=function(O,V,K){var J;return O<V.head.data.length?(J=V.head.data.slice(0,O),V.head.data=V.head.data.slice(O)):J=O===V.head.data.length?V.shift():K?function(z,S){var C=S.head,M=1,j=C.data;for(z-=j.length;C=C.next;){var B=C.data,U=z>B.length?B.length:z;if(U===B.length?j+=B:j+=B.slice(0,z),(z-=U)===0){U===B.length?(++M,C.next?S.head=C.next:S.head=S.tail=null):(S.head=C,C.data=B.slice(U));break}++M}return S.length-=M,j}(O,V):function(z,S){var C=t.allocUnsafe(z),M=S.head,j=1;for(M.data.copy(C),z-=M.data.length;M=M.next;){var B=M.data,U=z>B.length?B.length:z;if(B.copy(C,C.length-z,0,U),(z-=U)===0){U===B.length?(++j,M.next?S.head=M.next:S.head=S.tail=null):(S.head=M,M.data=B.slice(U));break}++j}return S.length-=j,C}(O,V),J}(L,N.buffer,N.decoder),G);var G}function F(L){var N=L._readableState;if(N.length>0)throw new Error('"endReadable()" called on non-empty stream');N.endEmitted||(N.ended=!0,s.nextTick(Y,N,L))}function Y(L,N){L.endEmitted||L.length!==0||(L.endEmitted=!0,N.readable=!1,N.emit("end"))}function q(L,N){for(var G=0,O=L.length;G<O;G++)if(L[G]===N)return G;return-1}y.prototype.read=function(L){l("read",L),L=parseInt(L,10);var N=this._readableState,G=L;if(L!==0&&(N.emittedReadable=!1),L===0&&N.needReadable&&(N.length>=N.highWaterMark||N.ended))return l("read: emitReadable",N.length,N.ended),N.length===0&&N.ended?F(this):w(this),null;if((L=$(L,N))===0&&N.ended)return N.length===0&&F(this),null;var O,V=N.needReadable;return l("need readable",V),(N.length===0||N.length-L<N.highWaterMark)&&l("length less than watermark",V=!0),N.ended||N.reading?l("reading or ended",V=!1):V&&(l("do read"),N.reading=!0,N.sync=!0,N.length===0&&(N.needReadable=!0),this._read(N.highWaterMark),N.sync=!1,N.reading||(L=$(G,N))),(O=L>0?H(L,N):null)===null?(N.needReadable=!0,L=0):N.length-=L,N.length===0&&(N.ended||(N.needReadable=!0),G!==L&&N.ended&&F(this)),O!==null&&this.emit("data",O),O},y.prototype._read=function(L){this.emit("error",new Error("_read() is not implemented"))},y.prototype.pipe=function(L,N){var G=this,O=this._readableState;switch(O.pipesCount){case 0:O.pipes=L;break;case 1:O.pipes=[O.pipes,L];break;default:O.pipes.push(L)}O.pipesCount+=1,l("pipe count=%d opts=%j",O.pipesCount,N);var V=(!N||N.end!==!1)&&L!==u.stdout&&L!==u.stderr?J:Z;function K(W,tt){l("onunpipe"),W===G&&tt&&tt.hasUnpiped===!1&&(tt.hasUnpiped=!0,l("cleanup"),L.removeListener("close",B),L.removeListener("finish",U),L.removeListener("drain",z),L.removeListener("error",j),L.removeListener("unpipe",K),G.removeListener("end",J),G.removeListener("end",Z),G.removeListener("data",M),S=!0,!O.awaitDrain||L._writableState&&!L._writableState.needDrain||z())}function J(){l("onend"),L.end()}O.endEmitted?s.nextTick(V):G.once("end",V),L.on("unpipe",K);var z=function(W){return function(){var tt=W._readableState;l("pipeOnDrain",tt.awaitDrain),tt.awaitDrain&&tt.awaitDrain--,tt.awaitDrain===0&&r(W,"data")&&(tt.flowing=!0,R(W))}}(G);L.on("drain",z);var S=!1,C=!1;function M(W){l("ondata"),C=!1,L.write(W)!==!1||C||((O.pipesCount===1&&O.pipes===L||O.pipesCount>1&&q(O.pipes,L)!==-1)&&!S&&(l("false write response, pause",G._readableState.awaitDrain),G._readableState.awaitDrain++,C=!0),G.pause())}function j(W){l("onerror",W),Z(),L.removeListener("error",j),r(L,"error")===0&&L.emit("error",W)}function B(){L.removeListener("finish",U),Z()}function U(){l("onfinish"),L.removeListener("close",B),Z()}function Z(){l("unpipe"),G.unpipe(L)}return G.on("data",M),function(W,tt,rt){if(typeof W.prependListener=="function")return W.prependListener(tt,rt);W._events&&W._events[tt]?i(W._events[tt])?W._events[tt].unshift(rt):W._events[tt]=[rt,W._events[tt]]:W.on(tt,rt)}(L,"error",j),L.once("close",B),L.once("finish",U),L.emit("pipe",G),O.flowing||(l("pipe resume"),G.resume()),L},y.prototype.unpipe=function(L){var N=this._readableState,G={hasUnpiped:!1};if(N.pipesCount===0)return this;if(N.pipesCount===1)return L&&L!==N.pipes?this:(L||(L=N.pipes),N.pipes=null,N.pipesCount=0,N.flowing=!1,L&&L.emit("unpipe",this,G),this);if(!L){var O=N.pipes,V=N.pipesCount;N.pipes=null,N.pipesCount=0,N.flowing=!1;for(var K=0;K<V;K++)O[K].emit("unpipe",this,G);return this}var J=q(N.pipes,L);return J===-1?this:(N.pipes.splice(J,1),N.pipesCount-=1,N.pipesCount===1&&(N.pipes=N.pipes[0]),L.emit("unpipe",this,G),this)},y.prototype.on=function(L,N){var G=e.prototype.on.call(this,L,N);if(L==="data")this._readableState.flowing!==!1&&this.resume();else if(L==="readable"){var O=this._readableState;O.endEmitted||O.readableListening||(O.readableListening=O.needReadable=!0,O.emittedReadable=!1,O.reading?O.length&&w(this):s.nextTick(I,this))}return G},y.prototype.addListener=y.prototype.on,y.prototype.resume=function(){var L=this._readableState;return L.flowing||(l("resume"),L.flowing=!0,function(N,G){G.resumeScheduled||(G.resumeScheduled=!0,s.nextTick(P,N,G))}(this,L)),this},y.prototype.pause=function(){return l("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(l("pause"),this._readableState.flowing=!1,this.emit("pause")),this},y.prototype.wrap=function(L){var N=this,G=this._readableState,O=!1;for(var V in L.on("end",function(){if(l("wrapped end"),G.decoder&&!G.ended){var J=G.decoder.end();J&&J.length&&N.push(J)}N.push(null)}),L.on("data",function(J){l("wrapped data"),G.decoder&&(J=G.decoder.write(J)),(!G.objectMode||J!=null)&&(G.objectMode||J&&J.length)&&(N.push(J)||(O=!0,L.pause()))}),L)this[V]===void 0&&typeof L[V]=="function"&&(this[V]=function(J){return function(){return L[J].apply(L,arguments)}}(V));for(var K=0;K<p.length;K++)L.on(p[K],this.emit.bind(this,p[K]));return this._read=function(J){l("wrapped _read",J),O&&(O=!1,L.resume())},this},Object.defineProperty(y.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),y._fromList=H}).call(this,h(4),h(9))},function(A,E,h){(E=A.exports=h(62)).Stream=E,E.Readable=E,E.Writable=h(58),E.Duplex=h(12),E.Transform=h(55),E.PassThrough=h(282)},function(A,E,h){(function(_,u,s){var c=h(65),i=h(8),r=h(63),e=E.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},t=E.IncomingMessage=function(n,o,a,l){var d=this;if(r.Readable.call(d),d._mode=a,d.headers={},d.rawHeaders=[],d.trailers={},d.rawTrailers=[],d.on("end",function(){_.nextTick(function(){d.emit("close")})}),a==="fetch"){if(d._fetchResponse=o,d.url=o.url,d.statusCode=o.status,d.statusMessage=o.statusText,o.headers.forEach(function(y,v){d.headers[v.toLowerCase()]=y,d.rawHeaders.push(v,y)}),c.writableStream){var f=new WritableStream({write:function(y){return new Promise(function(v,b){d._destroyed?b():d.push(new s(y))?v():d._resumeFetch=v})},close:function(){u.clearTimeout(l),d._destroyed||d.push(null)},abort:function(y){d._destroyed||d.emit("error",y)}});try{return void o.body.pipeTo(f).catch(function(y){u.clearTimeout(l),d._destroyed||d.emit("error",y)})}catch{}}var g=o.body.getReader();(function y(){g.read().then(function(v){if(!d._destroyed){if(v.done)return u.clearTimeout(l),void d.push(null);d.push(new s(v.value)),y()}}).catch(function(v){u.clearTimeout(l),d._destroyed||d.emit("error",v)})})()}else if(d._xhr=n,d._pos=0,d.url=n.responseURL,d.statusCode=n.status,d.statusMessage=n.statusText,n.getAllResponseHeaders().split(/\r?\n/).forEach(function(y){var v=y.match(/^([^:]+):\s*(.*)/);if(v){var b=v[1].toLowerCase();b==="set-cookie"?(d.headers[b]===void 0&&(d.headers[b]=[]),d.headers[b].push(v[2])):d.headers[b]!==void 0?d.headers[b]+=", "+v[2]:d.headers[b]=v[2],d.rawHeaders.push(v[1],v[2])}}),d._charset="x-user-defined",!c.overrideMimeType){var p=d.rawHeaders["mime-type"];if(p){var m=p.match(/;\s*charset=([^;])(;|$)/);m&&(d._charset=m[1].toLowerCase())}d._charset||(d._charset="utf-8")}};i(t,r.Readable),t.prototype._read=function(){var n=this._resumeFetch;n&&(this._resumeFetch=null,n())},t.prototype._onXHRProgress=function(){var n=this,o=n._xhr,a=null;switch(n._mode){case"text:vbarray":if(o.readyState!==e.DONE)break;try{a=new u.VBArray(o.responseBody).toArray()}catch{}if(a!==null){n.push(new s(a));break}case"text":try{a=o.responseText}catch{n._mode="text:vbarray";break}if(a.length>n._pos){var l=a.substr(n._pos);if(n._charset==="x-user-defined"){for(var d=new s(l.length),f=0;f<l.length;f++)d[f]=255&l.charCodeAt(f);n.push(d)}else n.push(l,n._charset);n._pos=a.length}break;case"arraybuffer":if(o.readyState!==e.DONE||!o.response)break;a=o.response,n.push(new s(new Uint8Array(a)));break;case"moz-chunked-arraybuffer":if(a=o.response,o.readyState!==e.LOADING||!a)break;n.push(new s(new Uint8Array(a)));break;case"ms-stream":if(a=o.response,o.readyState!==e.LOADING)break;var g=new u.MSStreamReader;g.onprogress=function(){g.result.byteLength>n._pos&&(n.push(new s(new Uint8Array(g.result.slice(n._pos)))),n._pos=g.result.byteLength)},g.onload=function(){n.push(null)},g.readAsArrayBuffer(a)}n._xhr.readyState===e.DONE&&n._mode!=="ms-stream"&&n.push(null)}}).call(this,h(9),h(4),h(13).Buffer)},function(A,E,h){(function(_){E.fetch=e(_.fetch)&&e(_.ReadableStream),E.writableStream=e(_.WritableStream),E.abortController=e(_.AbortController),E.blobConstructor=!1;try{new Blob([new ArrayBuffer(1)]),E.blobConstructor=!0}catch{}var u;function s(){if(u!==void 0)return u;if(_.XMLHttpRequest){u=new _.XMLHttpRequest;try{u.open("GET",_.XDomainRequest?"/":"https://example.com")}catch{u=null}}else u=null;return u}function c(t){var n=s();if(!n)return!1;try{return n.responseType=t,n.responseType===t}catch{}return!1}var i=_.ArrayBuffer!==void 0,r=i&&e(_.ArrayBuffer.prototype.slice);function e(t){return typeof t=="function"}E.arraybuffer=E.fetch||i&&c("arraybuffer"),E.msstream=!E.fetch&&r&&c("ms-stream"),E.mozchunkedarraybuffer=!E.fetch&&i&&c("moz-chunked-arraybuffer"),E.overrideMimeType=E.fetch||!!s()&&e(s().overrideMimeType),E.vbArray=e(_.VBArray),u=null}).call(this,h(4))},function(A,E,h){(function(_){var u=h(288),s=h(64),c=h(280),i=h(279),r=h(54),e=E;e.request=function(t,n){t=typeof t=="string"?r.parse(t):c(t);var o=_.location.protocol.search(/^https?:$/)===-1?"http:":"",a=t.protocol||o,l=t.hostname||t.host,d=t.port,f=t.path||"/";l&&l.indexOf(":")!==-1&&(l="["+l+"]"),t.url=(l?a+"//"+l:"")+(d?":"+d:"")+f,t.method=(t.method||"GET").toUpperCase(),t.headers=t.headers||{};var g=new u(t);return n&&g.on("response",n),g},e.get=function(t,n){var o=e.request(t,n);return o.end(),o},e.ClientRequest=u,e.IncomingMessage=s.IncomingMessage,e.Agent=function(){},e.Agent.defaultMaxSockets=4,e.globalAgent=new e.Agent,e.STATUS_CODES=i,e.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]}).call(this,h(4))},function(A,E){var h={}.toString;A.exports=Array.isArray||function(_){return h.call(_)=="[object Array]"}},function(A,E){A.exports=function(h){var _=new RegExp(`<(?:.|
)*?>`,"gm"),u=new RegExp(" +","gm");function s(e){return(e+"").replace(_," ").replace(u," ")}var c=new RegExp("'","gm");function i(e){return(e+"").replace(c,"&#39;")}for(var r in h._waiAria={getAttributeString:function(e){var t=[" "];for(var n in e){var o=i(s(e[n]));t.push(n+"='"+o+"'")}return t.push(" "),t.join(" ")},getTimelineCellAttr:function(e){return h._waiAria.getAttributeString({"aria-label":e})},_taskCommonAttr:function(e,t){e.start_date&&e.end_date&&(t.setAttribute("aria-label",s(h.templates.tooltip_text(e.start_date,e.end_date,e))),e.$dataprocessor_class&&t.setAttribute("aria-busy",!0))},setTaskBarAttr:function(e,t){this._taskCommonAttr(e,t),t.setAttribute("role","img"),!h.isReadonly(e)&&h.config.drag_move&&(e.id!=h.getState("tasksDnd").drag_id?t.setAttribute("aria-grabbed",!1):t.setAttribute("aria-grabbed",!0))},taskRowAttr:function(e,t){this._taskCommonAttr(e,t),!h.isReadonly(e)&&h.config.order_branch&&t.setAttribute("aria-grabbed",!1),t.setAttribute("role","row"),t.setAttribute("aria-selected",h.isSelectedTask(e.id)?"true":"false"),t.setAttribute("aria-level",e.$level+1||1),h.hasChild(e.id)&&t.setAttribute("aria-expanded",e.$open?"true":"false")},linkAttr:function(e,t){var n=h.config.links,o=e.type==n.finish_to_start||e.type==n.start_to_start,a=e.type==n.start_to_start||e.type==n.start_to_finish,l=h.locale.labels.link+" "+h.templates.drag_link(e.source,a,e.target,o);t.setAttribute("role","img"),t.setAttribute("aria-label",s(l)),h.isReadonly(e)&&t.setAttribute("aria-readonly",!0)},gridSeparatorAttr:function(e){e.setAttribute("role","columnheader")},rowResizerAttr:function(e){e.setAttribute("role","row")},lightboxHiddenAttr:function(e){e.setAttribute("aria-hidden","true")},lightboxVisibleAttr:function(e){e.setAttribute("aria-hidden","false")},lightboxAttr:function(e){e.setAttribute("role","dialog"),e.setAttribute("aria-hidden","true"),e.firstChild.setAttribute("role","heading"),e.firstChild.setAttribute("aria-level","1")},lightboxButtonAttrString:function(e){return this.getAttributeString({role:"button","aria-label":h.locale.labels[e],tabindex:"0"})},lightboxHeader:function(e,t){e.setAttribute("aria-label",t)},lightboxSelectAttrString:function(e){var t="";switch(e){case"%Y":t=h.locale.labels.years;break;case"%m":t=h.locale.labels.months;break;case"%d":t=h.locale.labels.days;break;case"%H:%i":t=h.locale.labels.hours+h.locale.labels.minutes}return h._waiAria.getAttributeString({"aria-label":t})},lightboxDurationInputAttrString:function(e){return this.getAttributeString({"aria-label":h.locale.labels.column_duration,"aria-valuemin":"0",role:"spinbutton"})},inlineEditorAttr:function(e){e.setAttribute("role","row")},gridAttrString:function(){return[" role='treegrid'",h.config.multiselect?"aria-multiselectable='true'":"aria-multiselectable='false'"," "].join(" ")},gridScaleRowAttrString:function(){return"role='row'"},gridScaleCellAttrString:function(e,t){var n="";if(e.name=="add")n=this.getAttributeString({role:"columnheader","aria-label":h.locale.labels.new_task});else{var o={role:"columnheader","aria-label":t};h._sort&&h._sort.name==e.name&&(h._sort.direction=="asc"?o["aria-sort"]="ascending":o["aria-sort"]="descending"),n=this.getAttributeString(o)}return n},gridDataAttrString:function(){return"role='rowgroup'"},reorderMarkerAttr:function(e){e.setAttribute("role","grid"),e.firstChild.removeAttribute("aria-level"),e.firstChild.setAttribute("aria-grabbed","true")},gridCellAttrString:function(e,t,n){var o={role:"gridcell","aria-label":t};return e.editor&&!h.isReadonly(n)||(o["aria-readonly"]=!0),this.getAttributeString(o)},gridAddButtonAttrString:function(e){return this.getAttributeString({role:"button","aria-label":h.locale.labels.new_task})},messageButtonAttrString:function(e){return"tabindex='0' role='button' aria-label='"+e+"'"},messageInfoAttr:function(e){e.setAttribute("role","alert")},messageModalAttr:function(e,t){e.setAttribute("role","dialog"),t&&e.setAttribute("aria-labelledby",t)},quickInfoAttr:function(e){e.setAttribute("role","dialog")},quickInfoHeaderAttrString:function(){return" role='heading' aria-level='1' "},quickInfoHeader:function(e,t){e.setAttribute("aria-label",t)},quickInfoButtonAttrString:function(e){return h._waiAria.getAttributeString({role:"button","aria-label":e,tabindex:"0"})},tooltipAttr:function(e){e.setAttribute("role","tooltip")},tooltipVisibleAttr:function(e){e.setAttribute("aria-hidden","false")},tooltipHiddenAttr:function(e){e.setAttribute("aria-hidden","true")}},h._waiAria)h._waiAria[r]=function(e){return function(){return h.config.wai_aria_attributes?e.apply(this,arguments):""}}(h._waiAria[r])}},function(A,E){A.exports=function(h){h._extend_to_optional=function(_){var u=_,s={render:u.render,focus:u.focus,set_value:function(c,i,r,e){var t=h._resolve_default_mapping(e);if(!r[t.start_date]||t.start_date=="start_date"&&this._isAllowedUnscheduledTask(r)){s.disable(c,e);var n={};for(var o in t)n[t[o]]=r[o];return u.set_value.call(h,c,i,n,e)}return s.enable(c,e),u.set_value.call(h,c,i,r,e)},get_value:function(c,i,r){return r.disabled?{start_date:null}:u.get_value.call(h,c,i,r)},update_block:function(c,i){if(h.callEvent("onSectionToggle",[h._lightbox_id,i]),c.style.display=i.disabled?"none":"block",i.button){var r=c.previousSibling.querySelector(".gantt_custom_button_label"),e=h.locale.labels,t=i.disabled?e[i.name+"_enable_button"]:e[i.name+"_disable_button"];r.innerHTML=t}h.resizeLightbox()},disable:function(c,i){i.disabled=!0,s.update_block(c,i)},enable:function(c,i){i.disabled=!1,s.update_block(c,i)},button_click:function(c,i,r,e){if(h.callEvent("onSectionButton",[h._lightbox_id,r])!==!1){var t=h._get_typed_lightbox_config()[c];t.disabled?s.enable(e,t):s.disable(e,t)}}};return s},h.form_blocks.duration_optional=h._extend_to_optional(h.form_blocks.duration),h.form_blocks.time_optional=h._extend_to_optional(h.form_blocks.time)}},function(A,E,h){var _=h(3);A.exports=function(u){var s=h(18)(u);function c(){return s.apply(this,arguments)||this}return _(c,s),c.prototype.render=function(i){var r=u.config.types,e=u.locale.labels,t=[],n=i.filter||function(l,d){return!r.placeholder||d!==r.placeholder};for(var o in r)n(o,r[o])&&t.push({key:r[o],label:e["type_"+o]});i.options=t;var a=i.onchange;return i.onchange=function(){u.changeLightboxType(this.value),this.value===u.config.types.task&&(u._lightbox_new_type="task"),typeof a=="function"&&a.apply(this,arguments)},s.prototype.render.apply(this,arguments)},c}},function(A,E,h){var _=h(3),u=h(36);A.exports=function(s){var c=h(7)(s);function i(){return c.apply(this,arguments)||this}function r(t){return!t||t===s.config.constraint_types.ASAP||t===s.config.constraint_types.ALAP}function e(t,n){for(var o=r(n),a=0;a<t.length;a++)t[a].disabled=o}return _(i,c),i.prototype.render=function(t){var n=(t.height||30)+"px",o="<div class='gantt_cal_ltext gantt_section_"+t.name+"' style='height:"+n+";'>",a=[];for(var l in s.config.constraint_types)a.push({key:s.config.constraint_types[l],label:s.locale.labels[s.config.constraint_types[l]]});return t.options=t.options||a,o+="<span data-constraint-type-select>"+u.getHtmlSelect(t.options,[{key:"data-type",value:"constraint-type"}])+"</span>",o+="<label data-constraint-time-select>"+(s.locale.labels.constraint_date||"Constraint date")+": "+s.form_blocks.getTimePicker.call(this,t)+"</label>",o+="</div>"},i.prototype.set_value=function(t,n,o,a){var l=t.querySelector("[data-constraint-type-select] select"),d=t.querySelectorAll("[data-constraint-time-select] select"),f=a._time_format_order,g=s._resolve_default_mapping(a);l._eventsInitialized||(l.addEventListener("change",function(y){e(d,y.target.value)}),l._eventsInitialized=!0);var p=o[g.constraint_date]||new Date;s.form_blocks._fill_lightbox_select(d,0,p,f,a);var m=o[g.constraint_type]||s.getConstraintType(o);l.value=m,e(d,m)},i.prototype.get_value=function(t,n,o){var a=t.querySelector("[data-constraint-type-select] select"),l=t.querySelectorAll("[data-constraint-time-select] select"),d=a.value,f=null;return r(d)||(f=s.form_blocks.getTimePickerValue(l,o)),{constraint_type:d,constraint_date:f}},i.prototype.focus=function(t){s._focus(t.querySelector("select"))},i}},function(A,E,h){var _=h(3);A.exports=function(u){var s=h(18)(u);function c(){return s.apply(this,arguments)||this}function i(r,e){var t=[],n=[];e&&(t=u.getTaskByTime(),r.allow_root&&t.unshift({id:u.config.root_id,text:r.root_label||""}),t=function(d,f,g){var p=f.filter||function(){return!0};d=d.slice(0);for(var m=0;m<d.length;m++){var y=d[m];(y.id==g||u.isChildOf(y.id,g)||p(y.id,y)===!1)&&(d.splice(m,1),m--)}return d}(t,r,e),r.sort&&t.sort(r.sort));for(var o=r.template||u.templates.task_text,a=0;a<t.length;a++){var l=o.apply(u,[t[a].start_date,t[a].end_date,t[a]]);l===void 0&&(l=""),n.push({key:t[a].id,label:l})}return r.options=n,r.map_to=r.map_to||"parent",u.form_blocks.select.render.apply(this,arguments)}return _(c,s),c.prototype.render=function(r){return i(r,!1)},c.prototype.set_value=function(r,e,t,n){e===0&&(e="0");var o=document.createElement("div");o.innerHTML=i(n,t.id);var a=o.removeChild(o.firstChild);return r.onselect=null,r.parentNode.replaceChild(a,r),u.form_blocks.select.set_value.apply(u,[a,e,t,n])},c}},function(A,E,h){var _=h(3),u=h(44).default;A.exports=function(s){var c=h(7)(s);function i(){return c.apply(this,arguments)||this}function r(n){return n.formatter||new u}function e(n,o){var a=n.getElementsByTagName("select"),l=o._time_format_order,d=0,f=0;if(s.defined(l[3])){var g=a[l[3]],p=parseInt(g.value,10);isNaN(p)&&g.hasAttribute("data-value")&&(p=parseInt(g.getAttribute("data-value"),10)),d=Math.floor(p/60),f=p%60}return new Date(a[l[2]].value,a[l[1]].value,a[l[0]].value,d,f)}function t(n,o){var a=n.getElementsByTagName("input")[1];return(a=r(o).parse(a.value))&&!window.isNaN(a)||(a=1),a<0&&(a*=-1),a}return _(i,c),i.prototype.render=function(n){var o="<div class='gantt_time_selects'>"+s.form_blocks.getTimePicker.call(this,n)+"</div>",a=" "+s.locale.labels[s.config.duration_unit+"s"]+" ",l=n.single_date?" style='display:none'":"",d=n.readonly?" disabled='disabled'":"",f=s._waiAria.lightboxDurationInputAttrString(n),g="gantt_duration_value";n.formatter&&(a="",g+=" gantt_duration_value_formatted");var p="<div class='gantt_duration' "+l+"><input type='button' class='gantt_duration_dec' value='−'"+d+"><input type='text' value='5days' class='"+g+"'"+d+" "+f+"><input type='button' class='gantt_duration_inc' value='+'"+d+">"+a+"<span></span></div>";return"<div style='height:"+(n.height||30)+"px;padding-top:0px;font-size:inherit;' class='gantt_section_time'>"+o+" "+p+"</div>"},i.prototype.set_value=function(n,o,a,l){var d,f,g,p,m=n.getElementsByTagName("select"),y=n.getElementsByTagName("input"),v=y[1],b=[y[0],y[2]],k=n.getElementsByTagName("span")[0],$=l._time_format_order;function w(){var T=e.call(s,n,l),D=t.call(s,n,l),I=s.calculateEndDate({start_date:T,duration:D,task:a}),P=s.templates.task_end_date||s.templates.task_date;k.innerHTML=P(I)}function x(T){var D=v.value;D=r(l).parse(D),window.isNaN(D)&&(D=0),(D+=T)<1&&(D=1),v.value=r(l).format(D),w()}b[0].onclick=s.bind(function(){x(-1*s.config.duration_step)},this),b[1].onclick=s.bind(function(){x(1*s.config.duration_step)},this),m[0].onchange=w,m[1].onchange=w,m[2].onchange=w,m[3]&&(m[3].onchange=w),v.onkeydown=s.bind(function(T){var D;return(D=(T=T||window.event).charCode||T.keyCode||T.which)==s.constants.KEY_CODES.DOWN?(x(-1*s.config.duration_step),!1):D==s.constants.KEY_CODES.UP?(x(1*s.config.duration_step),!1):void window.setTimeout(w,1)},this),v.onchange=s.bind(w,this),typeof(d=s._resolve_default_mapping(l))=="string"&&(d={start_date:d}),f=a[d.start_date]||new Date,g=a[d.end_date]||s.calculateEndDate({start_date:f,duration:1,task:a}),p=Math.round(a[d.duration])||s.calculateDuration({start_date:f,end_date:g,task:a}),p=r(l).format(p),s.form_blocks._fill_lightbox_select(m,0,f,$,l),v.value=p,w()},i.prototype.get_value=function(n,o,a){var l=e(n,a),d=t(n,a),f=s.calculateEndDate({start_date:l,duration:d,task:o});return typeof s._resolve_default_mapping(a)=="string"?l:{start_date:l,end_date:f,duration:d}},i.prototype.focus=function(n){s._focus(n.getElementsByTagName("select")[0])},i}},function(A,E,h){var _=h(3);A.exports=function(u){var s=h(7)(u);function c(){return s.apply(this,arguments)||this}return _(c,s),c.prototype.render=function(i){var r="<div class='gantt_cal_ltext' style='height:"+((i.height||"23")+"px")+";'>";if(i.options&&i.options.length)for(var e=0;e<i.options.length;e++)r+="<label><input type='radio' value='"+i.options[e].key+"' name='"+i.name+"'>"+i.options[e].label+"</label>";return r+="</div>"},c.prototype.set_value=function(i,r,e,t){var n;t.options&&t.options.length&&(n=i.querySelector("input[type=radio][value='"+r+"']")||i.querySelector("input[type=radio][value='"+t.default_value+"']"))&&(!i._dhx_onchange&&t.onchange&&(i.onchange=t.onchange,i._dhx_onchange=!0),n.checked=!0)},c.prototype.get_value=function(i,r){var e=i.querySelector("input[type=radio]:checked");return e?e.value:""},c.prototype.focus=function(i){u._focus(i.querySelector("input[type=radio]"))},c}},function(A,E,h){var _=h(2),u=h(3);A.exports=function(s){var c=h(7)(s);function i(){return c.apply(this,arguments)||this}return u(i,c),i.prototype.render=function(r){var e="<div class='gantt_cal_ltext' style='height:"+((r.height||"23")+"px")+";'>";if(r.options&&r.options.length)for(var t=0;t<r.options.length;t++)e+="<label><input type='checkbox' value='"+r.options[t].key+"' name='"+r.name+"'>"+r.options[t].label+"</label>";else r.single_value=!0,e+="<label><input type='checkbox' name='"+r.name+"'></label>";return e+="</div>"},i.prototype.set_value=function(r,e,t,n){var o=Array.prototype.slice.call(r.querySelectorAll("input[type=checkbox]"));!r._dhx_onchange&&n.onchange&&(r.onchange=n.onchange,r._dhx_onchange=!0),n.single_value?o[0].checked=!!e:_.forEach(o,function(a){a.checked=!!e&&e.indexOf(a.value)>=0})},i.prototype.get_value=function(r,e,t){return t.single_value?r.querySelector("input[type=checkbox]").checked:_.arrayMap(Array.prototype.slice.call(r.querySelectorAll("input[type=checkbox]:checked")),function(n){return n.value})},i.prototype.focus=function(r){s._focus(r.querySelector("input[type=checkbox]"))},i}},function(A,E,h){var _=h(3);A.exports=function(u){var s=h(7)(u);function c(){return s.apply(this,arguments)||this}return _(c,s),c.prototype.render=function(i){var r=u.form_blocks.getTimePicker.call(this,i),e="<div style='height:"+(i.height||30)+"px;padding-top:0px;font-size:inherit;text-align:center;' class='gantt_section_time'>";return e+=r,i.single_date?(r=u.form_blocks.getTimePicker.call(this,i,!0),e+="<span></span>"):e+="<span style='font-weight:normal; font-size:10pt;'> &nbsp;&ndash;&nbsp; </span>",e+=r,e+="</div>"},c.prototype.set_value=function(i,r,e,t){var n=t,o=i.getElementsByTagName("select"),a=t._time_format_order;if(n.auto_end_date)for(var l=function(){g=new Date(o[a[2]].value,o[a[1]].value,o[a[0]].value,0,0),p=u.calculateEndDate({start_date:g,duration:1,task:e}),u.form_blocks._fill_lightbox_select(o,a.size,p,a,n)},d=0;d<4;d++)o[d].onchange=l;var f=u._resolve_default_mapping(t);typeof f=="string"&&(f={start_date:f});var g=e[f.start_date]||new Date,p=e[f.end_date]||u.calculateEndDate({start_date:g,duration:1,task:e});u.form_blocks._fill_lightbox_select(o,0,g,a,n),u.form_blocks._fill_lightbox_select(o,a.size,p,a,n)},c.prototype.get_value=function(i,r,e){var t,n=i.getElementsByTagName("select"),o=e._time_format_order;return t=u.form_blocks.getTimePickerValue(n,e),typeof u._resolve_default_mapping(e)=="string"?t:{start_date:t,end_date:function(a,l,d){var f=u.form_blocks.getTimePickerValue(a,e,l.size);return f<=d&&(e.autofix_end!==!1||e.single_date)?u.date.add(d,u._get_timepicker_step(),"minute"):f}(n,o,t)}},c.prototype.focus=function(i){u._focus(i.getElementsByTagName("select")[0])},c}},function(A,E,h){var _=h(3);A.exports=function(u){var s=h(7)(u);function c(){return s.apply(this,arguments)||this}return _(c,s),c.prototype.render=function(i){return"<div class='gantt_cal_ltext' style='height:"+((i.height||"130")+"px")+";'><textarea></textarea></div>"},c.prototype.set_value=function(i,r){u.form_blocks.textarea._get_input(i).value=r||""},c.prototype.get_value=function(i){return u.form_blocks.textarea._get_input(i).value},c.prototype.focus=function(i){var r=u.form_blocks.textarea._get_input(i);u._focus(r,!0)},c.prototype._get_input=function(i){return i.querySelector("textarea")},c}},function(A,E,h){var _=h(3);A.exports=function(u){var s=h(7)(u);function c(){return s.apply(this,arguments)||this}return _(c,s),c.prototype.render=function(i){return"<div class='gantt_cal_ltext gantt_cal_template' style='height:"+((i.height||"30")+"px")+";'></div>"},c.prototype.set_value=function(i,r){i.innerHTML=r||""},c.prototype.get_value=function(i){return i.innerHTML||""},c.prototype.focus=function(){},c}},function(A,E,h){function _(u){"@babel/helpers - typeof";return(_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s})(u)}A.exports=function(u){var s=h(1),c=h(2),i=h(78)(u),r=h(77)(u),e=h(76)(u),t=h(18)(u),n=h(75)(u),o=h(74)(u),a=h(73)(u),l=h(72)(u),d=h(18)(u),f=h(71)(u),g=h(70)(u);function p(y,v){var b,k,$="";for(k=0;k<y.length;k++)b=u.config._migrate_buttons[y[k]]?u.config._migrate_buttons[y[k]]:y[k],$+="<div "+u._waiAria.lightboxButtonAttrString(b)+" class='gantt_btn_set gantt_left_btn_set "+b+"_set'"+(v?" style='float:right;'":"")+"><div dhx_button='1' data-dhx-button='1' class='"+b+"'></div><div>"+u.locale.labels[b]+"</div></div>";return $}function m(y,v,b){var k,$,w,x,T,D,I="";switch(b.timeFormat[v]){case"%Y":for(y._time_format_order[2]=v,y._time_format_order.size++,y.year_range&&(isNaN(y.year_range)?y.year_range.push&&(w=y.year_range[0],x=y.year_range[1]):k=y.year_range),k=k||10,$=$||Math.floor(k/2),w=w||b.date.getFullYear()-$,x=x||u.getState().max_date.getFullYear()+$,T=w;T<x;T++)I+="<option value='"+T+"'>"+T+"</option>";break;case"%m":for(y._time_format_order[1]=v,y._time_format_order.size++,T=0;T<12;T++)I+="<option value='"+T+"'>"+u.locale.date.month_full[T]+"</option>";break;case"%d":for(y._time_format_order[0]=v,y._time_format_order.size++,T=1;T<32;T++)I+="<option value='"+T+"'>"+T+"</option>";break;case"%H:%i":for(y._time_format_order[3]=v,y._time_format_order.size++,T=b.first,D=b.date.getDate(),y._time_values=[];T<b.last;)I+="<option value='"+T+"'>"+u.templates.time_picker(b.date)+"</option>",y._time_values.push(T),b.date.setTime(b.date.valueOf()+60*u._get_timepicker_step()*1e3),T=24*(b.date.getDate()!=D?1:0)*60+60*b.date.getHours()+b.date.getMinutes()}return I}u._lightbox_methods={},u._lightbox_template="<div class='gantt_cal_ltitle'><span class='gantt_mark'>&nbsp;</span><span class='gantt_time'></span><span class='gantt_title'></span></div><div class='gantt_cal_larea'></div>",u._lightbox_root=u.$root,u.$services.getService("state").registerProvider("lightbox",function(){return{lightbox:u._lightbox_id}}),u.showLightbox=function(y){if(this.callEvent("onBeforeLightbox",[y])){var v=this.getTask(y),b=this.getLightbox(this.getTaskType(v.type));this._center_lightbox(b),this.showCover(),this._fill_lightbox(y,b),this._waiAria.lightboxVisibleAttr(b),this.callEvent("onLightbox",[y])}},u._get_timepicker_step=function(){if(this.config.round_dnd_dates){var y;if(function(b){var k=b.$ui.getView("timeline");return!(!k||!k.isVisible())}(this)){var v=u.getScale();y=c.getSecondsInUnit(v.unit)*v.step/60}return(!y||y>=1440)&&(y=this.config.time_step),y}return this.config.time_step},u.getLabel=function(y,v){for(var b=this._get_typed_lightbox_config(),k=0;k<b.length;k++)if(b[k].map_to==y){for(var $=b[k].options,w=0;w<$.length;w++)if($[w].key==v)return $[w].label}return""},u.updateCollection=function(y,v){v=v.slice(0);var b=u.serverList(y);if(!b)return!1;b.splice(0,b.length),b.push.apply(b,v||[]),u.resetLightbox()},u.getLightboxType=function(){return this.getTaskType(this._lightbox_type)},u.getLightbox=function(y){var v,b,k,$,w,x="";if(function(){var D=u.config.csp===!0,I=!!window.Sfdc||!!window.$A||window.Aura||"$shadowResolver$"in document.body;u._lightbox_root=D||I?u.$root:document.body}(),y===void 0&&(y=this.getLightboxType()),!this._lightbox||this.getLightboxType()!=this.getTaskType(y)){this._lightbox_type=this.getTaskType(y),v=document.createElement("div"),x="gantt_cal_light",b=this._is_lightbox_timepicker(),(u.config.wide_form||b)&&(x+=" gantt_cal_light_wide"),b&&(u.config.wide_form=!0,x+=" gantt_cal_light_full"),v.className=x,v.style.visibility="hidden",k=this._lightbox_template,k+=p(this.config.buttons_left),k+=p(this.config.buttons_right,!0),v.innerHTML=k,u._waiAria.lightboxAttr(v),u.config.drag_lightbox&&(v.firstChild.onmousedown=u._ready_to_dnd,v.firstChild.onselectstart=function(){return!1},v.firstChild.style.cursor="pointer",u._init_dnd_events()),this._lightbox&&this.resetLightbox(),u._lightbox_root.insertBefore(v,u._lightbox_root.firstChild),this._lightbox=v,$=this._get_typed_lightbox_config(y),k=this._render_sections($);var T=(w=v.querySelector("div.gantt_cal_larea")).style.overflow;w.style.overflow="hidden",w.innerHTML=k,function(D){var I,P,R,H,F,Y;for(Y=0;Y<D.length;Y++)I=D[Y],R=u._lightbox_root.querySelector("#"+I.id),I.id&&R&&(P=R.querySelector("label"),(H=R.nextSibling)&&(F=H.querySelector("input, select, textarea"))&&(F.id=F.id||"input_"+u.uid(),I.inputId=F.id,P.setAttribute("for",I.inputId)))}($),this.resizeLightbox(),w.style.overflow=T,this._init_lightbox_events(this),v.style.display="none",v.style.visibility="visible"}return this._lightbox},u._render_sections=function(y){for(var v="",b=0;b<y.length;b++){var k=this.form_blocks[y[b].type];if(k){y[b].id="area_"+this.uid();var $=y[b].hidden?" style='display:none'":"",w="";y[b].button&&(w="<div class='gantt_custom_button' data-index='"+b+"'><div class='gantt_custom_button_"+y[b].button+"'></div><div class='gantt_custom_button_label'>"+this.locale.labels["button_"+y[b].button]+"</div></div>"),this.config.wide_form&&(v+="<div class='gantt_wrap_section' "+$+">"),v+="<div id='"+y[b].id+"' class='gantt_cal_lsection'><label>"+w+this.locale.labels["section_"+y[b].name]+"</label></div>"+k.render.call(this,y[b]),v+="</div>"}}return v},u.resizeLightbox=function(){if(this._lightbox){var y=this._lightbox.querySelector(".gantt_cal_larea");y.style.height="0px",y.style.height=y.scrollHeight+"px",this._lightbox.style.height=y.scrollHeight+this.config.lightbox_additional_height+"px",y.style.height=y.scrollHeight+"px"}},u._center_lightbox=function(y){if(y){y.style.display="block";var v=window.pageYOffset||u._lightbox_root.scrollTop||document.documentElement.scrollTop,b=window.pageXOffset||u._lightbox_root.scrollLeft||document.documentElement.scrollLeft,k=window.innerHeight||document.documentElement.clientHeight;y.style.top=v?Math.round(v+Math.max((k-y.offsetHeight)/2,0))+"px":Math.round(Math.max((k-y.offsetHeight)/2,0)+9)+"px",document.documentElement.scrollWidth>u._lightbox_root.offsetWidth?y.style.left=Math.round(b+(u._lightbox_root.offsetWidth-y.offsetWidth)/2)+"px":y.style.left=Math.round((u._lightbox_root.offsetWidth-y.offsetWidth)/2)+"px"}},u.showCover=function(){this._cover||(this._cover=document.createElement("DIV"),this._cover.className="gantt_cal_cover",(u._lightbox_root||u.$root).appendChild(this._cover))},u.event(window,"deviceorientation",function(){u.getState().lightbox&&u._center_lightbox(u.getLightbox())}),u._init_lightbox_events=function(){u.lightbox_events={},u.lightbox_events.gantt_save_btn=function(){u._save_lightbox()},u.lightbox_events.gantt_delete_btn=function(){u._lightbox_new_type=null,u.callEvent("onLightboxDelete",[u._lightbox_id])&&(u.isTaskExists(u._lightbox_id)?u.$click.buttons.delete(u._lightbox_id):u.hideLightbox())},u.lightbox_events.gantt_cancel_btn=function(){u._cancel_lightbox()},u.lightbox_events.default=function(y,v){if(v.getAttribute("data-dhx-button"))u.callEvent("onLightboxButton",[v.className,v,y]);else{var b,k,$=s.getClassName(v);if($.indexOf("gantt_custom_button")!=-1)if($.indexOf("gantt_custom_button_")!=-1)for(b=v.parentNode.getAttribute("data-index"),k=v;k&&s.getClassName(k).indexOf("gantt_cal_lsection")==-1;)k=k.parentNode;else b=v.getAttribute("data-index"),k=v.parentNode,v=v.firstChild;var w=u._get_typed_lightbox_config();b&&(b*=1,u.form_blocks[w[1*b].type].button_click(b,v,k,k.nextSibling))}},this.event(u.getLightbox(),"click",function(y){y=y||window.event;var v=s.getTargetNode(y),b=s.getClassName(v);return b||(v=v.previousSibling,b=s.getClassName(v)),v&&b&&b.indexOf("gantt_btn_set")===0&&(v=v.firstChild,b=s.getClassName(v)),!(!v||!b)&&(u.defined(u.lightbox_events[v.className])?u.lightbox_events[v.className]:u.lightbox_events.default)(y,v)}),u.getLightbox().onkeydown=function(y){var v=y||window.event,b=y.target||y.srcElement,k=s.getClassName(b).indexOf("gantt_btn_set")>-1;switch((y||v).keyCode){case u.constants.KEY_CODES.SPACE:if((y||v).shiftKey)return;k&&b.click&&b.click();break;case u.keys.edit_save:if((y||v).shiftKey)return;k&&b.click?b.click():u._save_lightbox();break;case u.keys.edit_cancel:u._cancel_lightbox()}}},u._cancel_lightbox=function(){var y=this.getLightboxValues();this.callEvent("onLightboxCancel",[this._lightbox_id,y.$new]),u.isTaskExists(y.id)&&y.$new&&(this.silent(function(){u.$data.tasksStore.removeItem(y.id),u._update_flags(y.id,null)}),this.refreshData()),this.hideLightbox()},u._save_lightbox=function(){var y=this.getLightboxValues();this.callEvent("onLightboxSave",[this._lightbox_id,y,!!y.$new])&&(u.$data.tasksStore._skipTaskRecalculation="lightbox",y.$new?(delete y.$new,this.addTask(y,y.parent,this.getTaskIndex(y.id))):this.isTaskExists(y.id)&&(this.mixin(this.getTask(y.id),y,!0),this.refreshTask(y.id),this.updateTask(y.id)),u.$data.tasksStore._skipTaskRecalculation=!1,this.refreshData(),this.hideLightbox())},u._resolve_default_mapping=function(y){var v=y.map_to;return{time:!0,time_optional:!0,duration:!0,duration_optional:!0}[y.type]?y.map_to=="auto"?v={start_date:"start_date",end_date:"end_date",duration:"duration"}:typeof y.map_to=="string"&&(v={start_date:y.map_to}):y.type==="constraint"&&(y.map_to&&typeof y.map_to!="string"||(v={constraint_type:"constraint_type",constraint_date:"constraint_date"})),v},u.getLightboxValues=function(){var y={};u.isTaskExists(this._lightbox_id)&&(y=this.mixin({},this.getTask(this._lightbox_id)));for(var v=this._get_typed_lightbox_config(),b=0;b<v.length;b++){var k=u._lightbox_root.querySelector("#"+v[b].id);k=k&&k.nextSibling;var $=this.form_blocks[v[b].type];if($){var w=$.get_value.call(this,k,y,v[b]),x=u._resolve_default_mapping(v[b]);if(typeof x=="string"&&x!="auto")y[x]=w;else if(_(x)=="object")for(var T in x)x[T]&&(y[x[T]]=w[T])}}return u._lightbox_new_type=="task"&&(y.type=u.config.types.task,u._lightbox_new_type=null),y},u.hideLightbox=function(){var y=this.getLightbox();y&&(y.style.display="none"),this._waiAria.lightboxHiddenAttr(y),this._lightbox_id=null,this.hideCover(),this.callEvent("onAfterLightbox",[])},u.hideCover=function(){this._cover&&this._cover.parentNode.removeChild(this._cover),this._cover=null},u.resetLightbox=function(){u._lightbox&&!u._custom_lightbox&&u._lightbox.parentNode.removeChild(u._lightbox),u._lightbox=null,u.hideCover()},u._set_lightbox_values=function(y,v){var b=y,k=v.getElementsByTagName("span"),$=[];u.templates.lightbox_header?($.push(""),$.push(u.templates.lightbox_header(b.start_date,b.end_date,b)),k[1].innerHTML="",k[2].innerHTML=u.templates.lightbox_header(b.start_date,b.end_date,b)):($.push(this.templates.task_time(b.start_date,b.end_date,b)),$.push(String(this.templates.task_text(b.start_date,b.end_date,b)||"").substr(0,70)),k[1].innerHTML=this.templates.task_time(b.start_date,b.end_date,b),k[2].innerHTML=String(this.templates.task_text(b.start_date,b.end_date,b)||"").substr(0,70)),k[1].innerHTML=$[0],k[2].innerHTML=$[1],u._waiAria.lightboxHeader(v,$.join(" "));for(var w=this._get_typed_lightbox_config(this.getLightboxType()),x=0;x<w.length;x++){var T=w[x];if(this.form_blocks[T.type]){var D=u._lightbox_root.querySelector("#"+T.id).nextSibling,I=this.form_blocks[T.type],P=u._resolve_default_mapping(w[x]),R=this.defined(b[P])?b[P]:T.default_value;I.set_value.call(u,D,R,b,T),T.focus&&I.focus.call(u,D)}}u.isTaskExists(y.id)&&(u._lightbox_id=y.id)},u._fill_lightbox=function(y,v){var b=this.getTask(y);this._set_lightbox_values(b,v)},u.getLightboxSection=function(y){for(var v=this._get_typed_lightbox_config(),b=0;b<v.length&&v[b].name!=y;b++);var k=v[b];if(!k)return null;this._lightbox||this.getLightbox();var $=u._lightbox_root.querySelector("#"+k.id),w=$.nextSibling,x={section:k,header:$,node:w,getValue:function(D){return u.form_blocks[k.type].get_value.call(u,w,D||{},k)},setValue:function(D,I){return u.form_blocks[k.type].set_value.call(u,w,D,I||{},k)}},T=this._lightbox_methods["get_"+k.type+"_control"];return T?T(x):x},u._lightbox_methods.get_template_control=function(y){return y.control=y.node,y},u._lightbox_methods.get_select_control=function(y){return y.control=y.node.getElementsByTagName("select")[0],y},u._lightbox_methods.get_textarea_control=function(y){return y.control=y.node.getElementsByTagName("textarea")[0],y},u._lightbox_methods.get_time_control=function(y){return y.control=y.node.getElementsByTagName("select"),y},u._init_dnd_events=function(){var y=u._lightbox_root;this.event(y,"mousemove",u._move_while_dnd),this.event(y,"mouseup",u._finish_dnd)},u._move_while_dnd=function(y){if(u._dnd_start_lb){document.gantt_unselectable||(u._lightbox_root.className+=" gantt_unselectable",document.gantt_unselectable=!0);var v=u.getLightbox(),b=[y.pageX,y.pageY];v.style.top=u._lb_start[1]+b[1]-u._dnd_start_lb[1]+"px",v.style.left=u._lb_start[0]+b[0]-u._dnd_start_lb[0]+"px"}},u._ready_to_dnd=function(y){var v=u.getLightbox();u._lb_start=[parseInt(v.style.left,10),parseInt(v.style.top,10)],u._dnd_start_lb=[y.pageX,y.pageY]},u._finish_dnd=function(){u._lb_start&&(u._lb_start=u._dnd_start_lb=!1,u._lightbox_root.className=u._lightbox_root.className.replace(" gantt_unselectable",""),document.gantt_unselectable=!1)},u._focus=function(y,v){if(y&&y.focus&&!u.config.touch)try{v&&y.select&&y.select(),y.focus()}catch{}},u.form_blocks={getTimePicker:function(y,v){var b,k,$,w="",x=this.config,T={first:0,last:1440,date:this.date.date_part(new Date(u._min_date.valueOf())),timeFormat:function(D){var I,P,R;return D.time_format?D.time_format:(R=["%d","%m","%Y"],I=u.getScale(),P=I?I.unit:u.config.duration_unit,c.getSecondsInUnit(P)<c.getSecondsInUnit("day")&&R.push("%H:%i"),R)}(y)};for(y._time_format_order={size:0},u.config.limit_time_select&&(T.first=60*x.first_hour,T.last=60*x.last_hour+1,T.date.setHours(x.first_hour)),b=0;b<T.timeFormat.length;b++)b>0&&(w+=" "),(k=m(y,b,T))&&($=u._waiAria.lightboxSelectAttrString(T.timeFormat[b]),w+="<select "+(y.readonly?"disabled='disabled'":"")+(v?" style='display:none' ":"")+$+">"+k+"</select>");return w},getTimePickerValue:function(y,v,b){var k,$=v._time_format_order,w=u.defined($[3]),x=0,T=0,D=b||0;return w&&(k=parseInt(y[$[3]+D].value,10),x=Math.floor(k/60),T=k%60),new Date(y[$[2]+D].value,y[$[1]+D].value,y[$[0]+D].value,x,T)},_fill_lightbox_select:function(y,v,b,k){if(y[v+k[0]].value=b.getDate(),y[v+k[1]].value=b.getMonth(),y[v+k[2]].value=b.getFullYear(),u.defined(k[3])){var $=60*b.getHours()+b.getMinutes();$=Math.round($/u._get_timepicker_step())*u._get_timepicker_step();var w=y[v+k[3]];w.value=$,w.setAttribute("data-value",$)}},template:new i,textarea:new r,select:new t,time:new e,duration:new a,parent:new l,radio:new o,checkbox:new n,resources:new d,constraint:new f,typeselect:new g},u._is_lightbox_timepicker=function(){for(var y=this._get_typed_lightbox_config(),v=0;v<y.length;v++)if(y[v].name=="time"&&y[v].type=="time")return!0;return!1},u._simple_confirm=function(y,v,b,k){if(!y)return b();var $={text:y};v&&($.title=v),k&&($.ok=k),b&&($.callback=function(w){w&&b()}),u.confirm($)},u._get_typed_lightbox_config=function(y){y===void 0&&(y=this.getLightboxType());var v=(function(b){for(var k in this.config.types)if(this.config.types[k]==b)return k;return"task"}).call(this,y);return u.config.lightbox[v+"_sections"]?u.config.lightbox[v+"_sections"]:u.config.lightbox.sections},u._silent_redraw_lightbox=function(y){var v=this.getLightboxType();if(this.getState().lightbox){var b=this.getState().lightbox,k=this.getLightboxValues(),$=this.copy(this.getTask(b));this.resetLightbox();var w=this.mixin($,k,!0),x=this.getLightbox(y||void 0);this._center_lightbox(this.getLightbox()),this._set_lightbox_values(w,x),this.showCover()}else this.resetLightbox(),this.getLightbox(y||void 0);this.callEvent("onLightboxChange",[v,this.getLightboxType()])}}},function(A,E){A.exports=function(h){function _(c){var i=c.$config.scrollX?h.$ui.getView(c.$config.scrollX):null,r=c.$config.scrollY?h.$ui.getView(c.$config.scrollY):null,e={x:null,y:null};return i&&i.getScrollState().visible&&(e.x=i.$view.scrollLeft),r&&r.getScrollState().visible&&(e.y=r.$view.scrollTop),e}function u(){var c;return h.$ui.getView("timeline")&&(c=h.$ui.getView("timeline")._tasks_dnd),c}h.config.touch_drag=500,h.config.touch=!0,h.config.touch_feedback=!0,h.config.touch_feedback_duration=1,h._prevent_touch_scroll=!1,h._touch_feedback=function(){h.config.touch_feedback&&navigator.vibrate&&navigator.vibrate(h.config.touch_feedback_duration)},h.attachEvent("onGanttReady",h.bind(function(){if(this.config.touch!="force"&&(this.config.touch=this.config.touch&&(navigator.userAgent.indexOf("Mobile")!=-1||navigator.userAgent.indexOf("iPad")!=-1||navigator.userAgent.indexOf("Android")!=-1||navigator.userAgent.indexOf("Touch")!=-1)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1),this.config.touch){var c=!0;try{document.createEvent("TouchEvent")}catch{c=!1}c?this._touch_events(["touchmove","touchstart","touchend"],function(i){return i.touches&&i.touches.length>1?null:i.touches[0]?{target:i.target,pageX:i.touches[0].pageX,pageY:i.touches[0].pageY,clientX:i.touches[0].clientX,clientY:i.touches[0].clientY}:i},function(){return!1}):window.navigator.pointerEnabled?this._touch_events(["pointermove","pointerdown","pointerup"],function(i){return i.pointerType=="mouse"?null:i},function(i){return!i||i.pointerType=="mouse"}):window.navigator.msPointerEnabled&&this._touch_events(["MSPointerMove","MSPointerDown","MSPointerUp"],function(i){return i.pointerType==i.MSPOINTER_TYPE_MOUSE?null:i},function(i){return!i||i.pointerType==i.MSPOINTER_TYPE_MOUSE})}},h));var s=[];h._touch_events=function(c,i,r){for(var e,t=0,n=!1,o=!1,a=null,l=null,d=null,f=[],g=null,p=0;p<s.length;p++)h.eventRemove(s[p][0],s[p][1],s[p][2]);for((s=[]).push([h.$container,c[0],function(y){var v=u();if(!r(y)&&n){l&&clearTimeout(l);var b=i(y);if(v&&(v.drag.id||v.drag.start_drag))return v.on_mouse_move(b),y.preventDefault&&y.preventDefault(),y.cancelBubble=!0,!1;if(!h._prevent_touch_scroll){if(b&&a){var k=a.pageX-b.pageX,$=a.pageY-b.pageY;if(!o&&(Math.abs(k)>5||Math.abs($)>5)&&(o=!0,t=0,e=g?_(g):h.getScrollState()),o){var w,x=e.x+k,T=e.y+$;if(g?(function(D,I,P){var R=D.$config.scrollX?h.$ui.getView(D.$config.scrollX):null,H=D.$config.scrollY?h.$ui.getView(D.$config.scrollY):null;R&&R.scrollTo(I,null),H&&H.scrollTo(null,P)}(g,x,T),w=_(g)):(h.scrollTo(x,T),w=h.getScrollState()),e.x!=w.x&&$>2*k||e.y!=w.y&&k>2*$)return m(y)}}return m(y)}return!0}}]),s.push([this.$container,"contextmenu",function(y){if(n)return m(y)}]),s.push([this.$container,c[1],function(y){if(document&&document.body&&document.body.classList.add("gantt_touch_active"),!r(y))if(y.touches&&y.touches.length>1)n=!1;else{a=i(y),g=function(b){for(var k=h.$layout.getCellsByType("viewCell"),$=0;$<k.length;$++){var w=k[$].$view.getBoundingClientRect();if(b.clientX>=w.left&&b.clientX<=w.right&&b.clientY<=w.bottom&&b.clientY>=w.top)return k[$]}}(a),h._locate_css(a,"gantt_hor_scroll")||h._locate_css(a,"gantt_ver_scroll")||(n=!0);var v=u();l=setTimeout(function(){var b=h.locate(a);v&&b&&!h._locate_css(a,"gantt_link_control")&&!h._locate_css(a,"gantt_grid_data")&&(v.on_mouse_down(a),v.drag&&v.drag.start_drag&&(function(k){var $=h._getTaskLayers(),w=h.getTask(k);if(w&&h.isTaskVisible(k)){d=k;for(var x=0;x<$.length;x++)if((w=$[x].rendered[k])&&w.getAttribute(h.config.task_attribute)&&w.getAttribute(h.config.task_attribute)==k){var T=w.cloneNode(!0);f.push(w),$[x].rendered[k]=T,w.style.display="none",T.className+=" gantt_drag_move ",w.parentNode.appendChild(T)}}}(b),v._start_dnd(a),h._touch_drag=!0,h.refreshTask(b),h._touch_feedback())),l=null},h.config.touch_drag)}}]),s.push([this.$container,c[2],function(y){if(document&&document.body&&document.body.classList.remove("gantt_touch_active"),!r(y)){l&&clearTimeout(l),h._touch_drag=!1,n=!1;var v=i(y),b=u();if(b&&b.on_mouse_up(v),d&&h.isTaskExists(d)&&(h.refreshTask(d),f.length&&(f.forEach(function($){$.parentNode&&$.parentNode.removeChild($)}),h._touch_feedback())),n=o=!1,f=[],d=null,a&&t){var k=new Date;k-t<500?(h.$services.getService("mouseEvents").onDoubleClick(a),m(y)):t=k}else t=new Date}}]),p=0;p<s.length;p++)h.event(s[p][0],s[p][1],s[p][2]);function m(y){return y&&y.preventDefault&&y.preventDefault(),y.cancelBubble=!0,!1}}}},function(A,E,h){Object.defineProperty(E,"__esModule",{value:!0});var _=h(11),u=h(5),s=["ctrlKey","altKey","shiftKey","metaKey"],c=[[{unit:"month",date:"%M",step:1},{unit:"day",date:"%d",step:1}],[{unit:"day",date:"%d %M",step:1}],[{unit:"day",date:"%d %M",step:1},{unit:"hour",date:"%H:00",step:8}],[{unit:"day",date:"%d %M",step:1},{unit:"hour",date:"%H:00",step:1}]],i=function(){function r(e){var t=this;this.zoomIn=function(){var n=t.getCurrentLevel()-1;n<0||t.setLevel(n)},this.zoomOut=function(){var n=t.getCurrentLevel()+1;n>t._levels.length-1||t.setLevel(n)},this.getCurrentLevel=function(){return t._activeLevelIndex},this.getLevels=function(){return t._levels},this.setLevel=function(n){var o=t._getZoomIndexByName(n);o===-1&&t.$gantt.assert(o!==-1,"Invalid zoom level for gantt.ext.zoom.setLevel. "+n+" is not an expected value."),t._setLevel(o,0)},this._getZoomIndexByName=function(n){var o=-1;if(typeof n=="string"){if(!isNaN(Number(n))&&t._levels[Number(n)])o=Number(n);else for(var a=0;a<t._levels.length;a++)if(t._levels[a].name===n){o=a;break}}else o=n;return o},this._getVisibleDate=function(){if(!t.$gantt.$task)return null;var n=t.$gantt.getScrollState().x,o=t.$gantt.$task.offsetWidth;t._visibleDate=t.$gantt.dateFromPos(n+o/2)},this._setLevel=function(n,o){t._activeLevelIndex=n;var a=t.$gantt,l=a.copy(t._levels[t._activeLevelIndex]),d=a.copy(l);if(delete d.name,a.mixin(a.config,d,!0),!!a.$root&&!!a.$task){if(o){var f=t.$gantt.dateFromPos(o+t.$gantt.getScrollState().x);t.$gantt.render();var g=t.$gantt.posFromDate(f);t.$gantt.scrollTo(g-o)}else{var p=t.$gantt.$task.offsetWidth;t._visibleDate||t._getVisibleDate();var m=t._visibleDate;t.$gantt.render(),g=t.$gantt.posFromDate(m),t.$gantt.scrollTo(g-p/2)}t.callEvent("onAfterZoom",[t._activeLevelIndex,l])}},this._attachWheelEvent=function(n){var o,a=_.isFF?"wheel":"mousewheel";(o=typeof n.element=="function"?n.element():n.element)&&t._domEvents.attach(o,a,t.$gantt.bind(function(l){if(this._useKey&&(s.indexOf(this._useKey)<0||!l[this._useKey]))return!1;if(typeof this._handler=="function")return this._handler.apply(this,[l]),!0},t),{passive:!1})},this._defaultHandler=function(n){var o=t.$gantt.$task.getBoundingClientRect().x,a=n.clientX-o,l=!1;(t.$gantt.env.isFF?-40*n.deltaY:n.wheelDelta)>0&&(l=!0),n.preventDefault(),n.stopPropagation(),t._setScaleSettings(l,a)},this._setScaleDates=function(){t._initialStartDate&&t._initialEndDate&&(t.$gantt.config.start_date=t._initialStartDate,t.$gantt.config.end_date=t._initialEndDate)},this.$gantt=e,this._domEvents=this.$gantt._createDomEventScope()}return r.prototype.init=function(e){var t=this;this.$gantt.env.isNode||(this._initialStartDate=e.startDate,this._initialEndDate=e.endDate,this._activeLevelIndex=e.activeLevelIndex?e.activeLevelIndex:0,this._levels=this._mapScales(e.levels||c),this._handler=e.handler||this._defaultHandler,this._minColumnWidth=e.minColumnWidth||60,this._maxColumnWidth=e.maxColumnWidth||240,this._widthStep=e.widthStep||3/8*e.minColumnWidth,this._useKey=e.useKey,this._initialized||(u(this),this.$gantt.attachEvent("onGanttScroll",function(){t._getVisibleDate()})),this._domEvents.detachAll(),e.trigger==="wheel"&&(this.$gantt.$root?this._attachWheelEvent(e):this.$gantt.attachEvent("onGanttReady",function(){t._attachWheelEvent(e)})),this._initialized=!0,this.setLevel(this._activeLevelIndex))},r.prototype._mapScales=function(e){return e.map(function(t){return Array.isArray(t)?{scales:t}:t})},r.prototype._setScaleSettings=function(e,t){e?this._stepUp(t):this._stepDown(t)},r.prototype._stepUp=function(e){if(!(this._activeLevelIndex>=this._levels.length-1)){var t=this._activeLevelIndex;if(this._setScaleDates(),this._widthStep){var n=this.$gantt.config.min_column_width+this._widthStep;n>this._maxColumnWidth&&(n=this._minColumnWidth,t++),this.$gantt.config.min_column_width=n}else t++;this._setLevel(t,e)}},r.prototype._stepDown=function(e){if(!(this._activeLevelIndex<1)){var t=this._activeLevelIndex;if(this._setScaleDates(),this._widthStep){var n=this.$gantt.config.min_column_width-this._widthStep;n<this._minColumnWidth&&(n=this._maxColumnWidth,t--),this.$gantt.config.min_column_width=n}else t--;this._setLevel(t,e)}},r}();E.default=i},function(A,E){window.dhtmlx&&(window.dhtmlx.attaches||(window.dhtmlx.attaches={}),window.dhtmlx.attaches.attachGantt=function(h,_,u){var s=document.createElement("DIV");u=u||window.gantt,s.id="gantt_"+u.uid(),s.style.width="100%",s.style.height="100%",s.cmp="grid",document.body.appendChild(s),this.attachObject(s.id),this.dataType="gantt",this.dataObj=u;var c=this.vs[this.av];return c.grid=u,u.init(s.id,h,_),s.firstChild.style.border="none",c.gridId=s.id,c.gridObj=s,this.vs[this._viewRestore()].grid}),window.dhtmlXCellObject!==void 0&&(window.dhtmlXCellObject.prototype.attachGantt=function(h,_,u){u=u||window.gantt;var s=document.createElement("DIV");return s.id="gantt_"+u.uid(),s.style.width="100%",s.style.height="100%",s.cmp="grid",document.body.appendChild(s),this.attachObject(s.id),this.dataType="gantt",this.dataObj=u,u.init(s.id,h,_),s.firstChild.style.border="none",s=null,this.callEvent("_onContentAttach",[]),this.dataObj}),A.exports=null},function(A,E){function h(_){"@babel/helpers - typeof";return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(_)}window.jQuery&&function(_){var u=[];_.fn.dhx_gantt=function(s){if(typeof(s=s||{})!="string"){var c=[];return this.each(function(){if(this&&this.getAttribute)if(this.gantt||window.gantt.$root==this)c.push(h(this.gantt)=="object"?this.gantt:window.gantt);else{var i=window.gantt.$container&&window.Gantt?window.Gantt.getGanttInstance():window.gantt;for(var r in s)r!="data"&&(i.config[r]=s[r]);i.init(this),s.data&&i.parse(s.data),c.push(i)}}),c.length===1?c[0]:c}if(u[s])return u[s].apply(this,[]);_.error("Method "+s+" does not exist on jQuery.dhx_gantt")}}(window.jQuery),A.exports=null},function(A,E,h){var _=h(1),u=h(15);A.exports=function(s){var c=50,i=30,r=10,e=50,t=null,n=!1,o=null,a={started:!1},l={};function d(b){return b&&_.isChildOf(b,s.$root)&&b.offsetHeight}function f(){var b=!!document.querySelector(".gantt_drag_marker"),k=!!document.querySelector(".gantt_drag_marker.gantt_grid_resize_area")||!!document.querySelector(".gantt_drag_marker.gantt_row_grid_resize_area"),$=!!document.querySelector(".gantt_link_direction"),w=s.getState(),x=w.autoscroll;return n=b&&!k&&!$,!(!w.drag_mode&&!b||k)||x}function g(b){if(o&&(clearTimeout(o),o=null),b){var k=s.config.autoscroll_speed;k&&k<10&&(k=10),o=setTimeout(function(){t=setInterval(y,k||e)},s.config.autoscroll_delay||r)}}function p(b){b?(g(!0),a.started||(a.x=l.x,a.y=l.y,a.started=!0)):(t&&(clearInterval(t),t=null),g(!1),a.started=!1)}function m(b){var k=f();if(!t&&!o||k||p(!1),!s.config.autoscroll||!k)return!1;l={x:b.clientX,y:b.clientY},b.type=="touchmove"&&(l.x=b.targetTouches[0].clientX,l.y=b.targetTouches[0].clientY),!t&&k&&p(!0)}function y(){if(!f())return p(!1),!1;var b=d(s.$task)?s.$task:d(s.$grid)?s.$grid:s.$root;if(b){var k=!1;[".gantt_drag_marker.gantt_grid_resize_area",".gantt_drag_marker .gantt_row.gantt_row_task",".gantt_drag_marker.gantt_grid_dnd_marker"].forEach(function(N){k=k||!!document.querySelector(N)}),k&&(b=s.$grid);var $=_.getNodePosition(b),w=l.x-$.x,x=l.y-$.y+window.scrollY,T=n?0:v(w,$.width,a.x-$.x),D=v(x,$.height,a.y-$.y+window.scrollY),I=s.getScrollState(),P=I.y,R=I.inner_height,H=I.height,F=I.x,Y=I.inner_width,q=I.width;(D&&!R||D<0&&!P||D>0&&P+R>=H+2)&&(D=0),(T&&!Y||T<0&&!F||T>0&&F+Y>=q)&&(T=0);var L=s.config.autoscroll_step;L&&L<2&&(L=2),T*=L||i,D*=L||i,(T||D)&&function(N,G){var O=s.getScrollState(),V=null,K=null;N&&(V=O.x+N,V=Math.min(O.width,V),V=Math.max(0,V)),G&&(K=O.y+G,K=Math.min(O.height,K),K=Math.max(0,K)),s.scrollTo(V,K)}(T,D)}}function v(b,k,$){return b-c<0&&b<$?-1:b>k-c&&b>$?1:0}s.attachEvent("onGanttReady",function(){if(!u(s)){var b=_.getRootNode(s.$root)||document.body;s.eventRemove(b,"mousemove",m),s.event(b,"mousemove",m),s.eventRemove(b,"touchmove",m),s.event(b,"touchmove",m),s.eventRemove(b,"pointermove",m),s.event(b,"pointermove",m)}}),s.attachEvent("onDestroy",function(){p(!1)})}},function(A,E,h){A.exports=function(_){_.ext||(_.ext={});for(var u=[h(84),h(83),h(82)],s=0;s<u.length;s++)u[s]&&u[s](_);var c=h(81).default;_.ext.zoom=new c(_)}},function(A,E){A.exports=function(h){h.skins.contrast_white={config:{grid_width:360,row_height:35,scale_height:35,link_line_width:2,link_arrow_size:6,lightbox_additional_height:75},_second_column_width:100,_third_column_width:80}}},function(A,E){A.exports=function(h){h.skins.contrast_black={config:{grid_width:360,row_height:35,scale_height:35,link_line_width:2,link_arrow_size:6,lightbox_additional_height:75},_second_column_width:100,_third_column_width:80}}},function(A,E){A.exports=function(h){h.skins.material={config:{grid_width:411,row_height:34,task_height_offset:6,scale_height:36,link_line_width:2,link_arrow_size:6,lightbox_additional_height:80},_second_column_width:110,_third_column_width:75,_redefine_lightbox_buttons:{buttons_left:["dhx_delete_btn"],buttons_right:["dhx_save_btn","dhx_cancel_btn"]}},h.attachEvent("onAfterTaskDrag",function(_){var u=h.getTaskNode(_);u&&(u.className+=" gantt_drag_animation",setTimeout(function(){var s=u.className.indexOf(" gantt_drag_animation");s>-1&&(u.className=u.className.slice(0,s))},200))})}},function(A,E){A.exports=function(h){h.skins.broadway={config:{grid_width:360,row_height:35,scale_height:35,link_line_width:1,link_arrow_size:7,lightbox_additional_height:86},_second_column_width:90,_third_column_width:80,_lightbox_template:"<div class='gantt_cal_ltitle'><span class='gantt_mark'>&nbsp;</span><span class='gantt_time'></span><span class='gantt_title'></span><div class='gantt_cancel_btn'></div></div><div class='gantt_cal_larea'></div>",_config_buttons_left:{},_config_buttons_right:{gantt_delete_btn:"icon_delete",gantt_save_btn:"icon_save"}}}},function(A,E){A.exports=function(h){h.skins.terrace={config:{grid_width:360,row_height:35,scale_height:35,link_line_width:2,link_arrow_size:6,lightbox_additional_height:75},_second_column_width:90,_third_column_width:70}}},function(A,E){A.exports=function(h){h.skins.meadow={config:{grid_width:350,row_height:27,scale_height:30,link_line_width:2,link_arrow_size:6,lightbox_additional_height:72},_second_column_width:95,_third_column_width:80}}},function(A,E){A.exports=function(h){h.skins.skyblue={config:{grid_width:350,row_height:27,scale_height:27,link_line_width:1,link_arrow_size:8,lightbox_additional_height:75},_second_column_width:95,_third_column_width:80}}},function(A,E){function h(_,u){var s=u.skin;if(!s||_)for(var c=document.getElementsByTagName("link"),i=0;i<c.length;i++){var r=c[i].href.match("dhtmlxgantt_([a-z_]+).css");if(r&&(u.skins[r[1]]||!s)){s=r[1];break}}u.skin=s||"terrace";var e=u.skins[u.skin]||u.skins.terrace;(function(o,a,l){for(var d in a)(o[d]===void 0||l)&&(o[d]=a[d])})(u.config,e.config,_);var t=u.getGridColumns();for(t[1]&&!u.defined(t[1].width)&&(t[1].width=e._second_column_width),t[2]&&!u.defined(t[2].width)&&(t[2].width=e._third_column_width),i=0;i<t.length;i++){var n=t[i];n.name=="add"&&(n.width||(n.width=44),u.defined(n.min_width)&&u.defined(n.max_width)||(n.min_width=n.min_width||n.width,n.max_width=n.max_width||n.width),n.min_width&&(n.min_width=+n.min_width),n.max_width&&(n.max_width=+n.max_width),n.width&&(n.width=+n.width,n.width=n.min_width&&n.min_width>n.width?n.min_width:n.width,n.width=n.max_width&&n.max_width<n.width?n.max_width:n.width))}e.config.task_height&&(u.config.task_height=e.config.task_height||"full"),e.config.bar_height&&(u.config.bar_height=e.config.bar_height||"full"),e._lightbox_template&&(u._lightbox_template=e._lightbox_template),e._redefine_lightbox_buttons&&(u.config.buttons_right=e._redefine_lightbox_buttons.buttons_right,u.config.buttons_left=e._redefine_lightbox_buttons.buttons_left),u.resetLightbox()}A.exports=function(_){_.resetSkin||(_.resetSkin=function(){this.skin="",h(!0,this)},_.skins={},_.attachEvent("onGanttLayoutReady",function(){h(!1,this)}))}},function(A,E){A.exports=function(){function h(t){return t.$ui.getView("timeline")}function _(t){return t.$ui.getView("grid")}function u(t){var n=h(t);if(n&&!n.$config.hidden)return n;var o=_(t);return o&&!o.$config.hidden?o:null}function s(t){var n=null,o=!1;return[".gantt_drag_marker.gantt_grid_resize_area",".gantt_drag_marker .gantt_row.gantt_row_task",".gantt_drag_marker.gantt_grid_dnd_marker"].forEach(function(a){o=o||!!document.querySelector(a)}),(n=o?_(t):u(t))?i(t,n,"scrollY"):null}function c(t){var n=u(t);return n&&n.id!="grid"?i(t,n,"scrollX"):null}function i(t,n,o){var a=n.$config[o];return t.$ui.getView(a)}var r="DEFAULT_VALUE";function e(t,n,o,a){var l=t(this);return l&&l.isVisible()?l[n].apply(l,o):a?a():r}return{getColumnIndex:function(t){var n=e.call(this,_,"getColumnIndex",[t]);return n===r?0:n},dateFromPos:function(t){var n=e.call(this,h,"dateFromPos",Array.prototype.slice.call(arguments));return n===r?this.getState().min_date:n},posFromDate:function(t){var n=e.call(this,h,"posFromDate",[t]);return n===r?0:n},getRowTop:function(t){var n=this,o=e.call(n,h,"getRowTop",[t],function(){return e.call(n,_,"getRowTop",[t])});return o===r?0:o},getTaskTop:function(t){var n=this,o=e.call(n,h,"getItemTop",[t],function(){return e.call(n,_,"getItemTop",[t])});return o===r?0:o},getTaskPosition:function(t,n,o){var a=e.call(this,h,"getItemPosition",[t,n,o]);return a===r?{left:0,top:this.getTaskTop(t.id),height:this.getTaskBarHeight(t.id),width:0}:a},getTaskBarHeight:function(t,n){var o=this,a=e.call(o,h,"getBarHeight",[t,n],function(){return e.call(o,_,"getItemHeight",[t])});return a===r?0:a},getTaskHeight:function(t){var n=this,o=e.call(n,h,"getItemHeight",[t],function(){return e.call(n,_,"getItemHeight",[t])});return o===r?0:o},columnIndexByDate:function(t){var n=e.call(this,h,"columnIndexByDate",[t]);return n===r?0:n},roundTaskDates:function(){e.call(this,h,"roundTaskDates",[])},getScale:function(){var t=e.call(this,h,"getScale",[]);return t===r?null:t},getTaskNode:function(t){var n=h(this);if(n&&n.isVisible()){var o=n._taskRenderer.rendered[t];if(!o){var a=n.$config.item_attribute;o=n.$task_bars.querySelector("["+a+"='"+t+"']")}return o||null}return null},getLinkNode:function(t){var n=h(this);return n.isVisible()?n._linkRenderer.rendered[t]:null},scrollTo:function(t,n){var o=s(this),a=c(this),l={position:0},d={position:0};o&&(d=o.getScrollState()),a&&(l=a.getScrollState());var f=a&&1*t==t,g=o&&1*n==n;if(f&&g)for(var p=o._getLinkedViews(),m=a._getLinkedViews(),y=[],v=0;v<p.length;v++)for(var b=0;b<m.length;b++)p[v].$config.id&&m[b].$config.id&&p[v].$config.id===m[b].$config.id&&y.push(p[v].$config.id);f&&(y&&y.forEach((function(w){this.$ui.getView(w).$config.$skipSmartRenderOnScroll=!0}).bind(this)),a.scroll(t),y&&y.forEach((function(w){this.$ui.getView(w).$config.$skipSmartRenderOnScroll=!1}).bind(this))),g&&o.scroll(n);var k={position:0},$={position:0};o&&(k=o.getScrollState()),a&&($=a.getScrollState()),this.callEvent("onGanttScroll",[l.position,d.position,$.position,k.position])},showDate:function(t){var n=this.posFromDate(t),o=Math.max(n-this.config.task_scroll_offset,0);this.scrollTo(o)},showTask:function(t){var n=this.getTaskPosition(this.getTask(t)),o=n.left;this.config.rtl&&(o=n.left+n.width);var a,l=Math.max(o-this.config.task_scroll_offset,0),d=this._scroll_state().y;a=d?n.top-(d-this.getTaskBarHeight(t))/2:n.top,this.scrollTo(l,a);var f=_(this),g=h(this);f&&g&&f.$config.scrollY!=g.$config.scrollY&&i(this,f,"scrollY").scrollTo(null,a)},_scroll_state:function(){var t={x:!1,y:!1,x_pos:0,y_pos:0,scroll_size:this.config.scroll_size+1,x_inner:0,y_inner:0},n=s(this),o=c(this);if(o){var a=o.getScrollState();a.visible&&(t.x=a.size,t.x_inner=a.scrollSize),t.x_pos=a.position||0}if(n){var l=n.getScrollState();l.visible&&(t.y=l.size,t.y_inner=l.scrollSize),t.y_pos=l.position||0}return t},getScrollState:function(){var t=this._scroll_state();return{x:t.x_pos,y:t.y_pos,inner_width:t.x,inner_height:t.y,width:t.x_inner,height:t.y_inner}},getLayoutView:function(t){return this.$ui.getView(t)},scrollLayoutCell:function(t,n,o){var a=this.$ui.getView(t);if(!a)return!1;if(n!==null){var l=this.$ui.getView(a.$config.scrollX);l&&l.scrollTo(n,null)}if(o!==null){var d=this.$ui.getView(a.$config.scrollY);d&&d.scrollTo(null,o)}}}}},function(A,E){A.exports=function(h){delete h.addTaskLayer,delete h.addLinkLayer}},function(A,E,h){var _=h(1),u=function(s){return{getVerticalScrollbar:function(){return s.$ui.getView("scrollVer")},getHorizontalScrollbar:function(){return s.$ui.getView("scrollHor")},_legacyGridResizerClass:function(c){for(var i=c.getCellsByType("resizer"),r=0;r<i.length;r++){var e=i[r],t=!1,n=e.$parent.getPrevSibling(e.$id);if(n&&n.$config&&n.$config.id==="grid")t=!0;else{var o=e.$parent.getNextSibling(e.$id);o&&o.$config&&o.$config.id==="grid"&&(t=!0)}t&&(e.$config.css=(e.$config.css?e.$config.css+" ":"")+"gantt_grid_resize_wrap")}},onCreated:function(c){var i=!0;this._legacyGridResizerClass(c),c.attachEvent("onBeforeResize",function(){var r=s.$ui.getView("timeline");r&&(r.$config.hidden=r.$parent.$config.hidden=!s.config.show_chart);var e=s.$ui.getView("grid");if(e){var t=e._getColsTotalWidth(),n=!s.config.show_grid||!s.config.grid_width||t===0;if(i&&!n&&t!==!1&&(s.config.grid_width=t),e.$config.hidden=e.$parent.$config.hidden=n,!e.$config.hidden){var o=e._getGridWidthLimits();if(o[0]&&s.config.grid_width<o[0]&&(s.config.grid_width=o[0]),o[1]&&s.config.grid_width>o[1]&&(s.config.grid_width=o[1]),r&&s.config.show_chart){if(e.$config.width=s.config.grid_width-1,!e.$config.scrollable&&e.$config.scrollY&&s.$root.offsetWidth){var a=e.$gantt.$layout.$container.offsetWidth,l=s.$ui.getView(e.$config.scrollY).$config.width,d=a-(e.$config.width+l);d<0&&(e.$config.width+=d,s.config.grid_width+=d)}if(i)e.$parent.$config.width=s.config.grid_width,e.$parent.$config.group&&s.$layout._syncCellSizes(e.$parent.$config.group,{value:e.$parent.$config.width,isGravity:!1});else if(r&&!_.isChildOf(r.$task,c.$view)){if(!e.$config.original_grid_width){var f=s.skins[s.skin];f&&f.config&&f.config.grid_width?e.$config.original_grid_width=f.config.grid_width:e.$config.original_grid_width=0}s.config.grid_width=e.$config.original_grid_width,e.$parent.$config.width=s.config.grid_width}else e.$parent._setContentSize(e.$config.width,null),s.$layout._syncCellSizes(e.$parent.$config.group,{value:s.config.grid_width,isGravity:!1})}else r&&_.isChildOf(r.$task,c.$view)&&(e.$config.original_grid_width=s.config.grid_width),i||(e.$parent.$config.width=0)}i=!1}}),this._initScrollStateEvents(c)},_initScrollStateEvents:function(c){s._getVerticalScrollbar=this.getVerticalScrollbar,s._getHorizontalScrollbar=this.getHorizontalScrollbar;var i=this.getVerticalScrollbar(),r=this.getHorizontalScrollbar();i&&i.attachEvent("onScroll",function(e,t,n){var o=s.getScrollState();s.callEvent("onGanttScroll",[o.x,e,o.x,t])}),r&&r.attachEvent("onScroll",function(e,t,n){var o=s.getScrollState();s.callEvent("onGanttScroll",[e,o.y,t,o.y]);var a=s.$ui.getView("grid");a&&a.$grid_data&&!a.$config.scrollable&&(a.$grid_data.style.left=a.$grid.scrollLeft+"px",a.$grid_data.scrollLeft=a.$grid.scrollLeft)}),c.attachEvent("onResize",function(){i&&!s.$scroll_ver&&(s.$scroll_ver=i.$scroll_ver),r&&!s.$scroll_hor&&(s.$scroll_hor=r.$scroll_hor)})},_findGridResizer:function(c,i){for(var r,e=c.getCellsByType("resizer"),t=!0,n=0;n<e.length;n++){var o=e[n];o._getSiblings();var a=o._behind,l=o._front;if(a&&a.$content===i||a.isChild&&a.isChild(i)){r=o,t=!0;break}if(l&&l.$content===i||l.isChild&&l.isChild(i)){r=o,t=!1;break}}return{resizer:r,gridFirst:t}},onInitialized:function(c){var i=s.$ui.getView("grid"),r=this._findGridResizer(c,i);if(r.resizer){var e,t=r.gridFirst,n=r.resizer;if(n.$config.mode!=="x")return;n.attachEvent("onResizeStart",function(o,a){var l=s.$ui.getView("grid"),d=l?l.$parent:null;if(d){var f=l._getGridWidthLimits();l.$config.scrollable||(d.$config.minWidth=f[0]),d.$config.maxWidth=f[1]}return e=t?o:a,s.callEvent("onGridResizeStart",[e])}),n.attachEvent("onResize",function(o,a){var l=t?o:a;return s.callEvent("onGridResize",[e,l])}),n.attachEvent("onResizeEnd",function(o,a,l,d){var f=t?o:a,g=t?l:d,p=s.$ui.getView("grid"),m=p?p.$parent:null;m&&(m.$config.minWidth=void 0);var y=s.callEvent("onGridResizeEnd",[f,g]);return y&&g!==0&&(s.config.grid_width=g),y})}},onDestroyed:function(c){}}};A.exports=u},function(A,E,h){var _=h(1),u=function(s,c){var i,r,e,t,n,o=10,a=18;function l(){return{link_source_id:t,link_target_id:r,link_from_start:n,link_to_start:e,link_landing_area:i}}var d=c.$services,f=d.getService("state"),g=d.getService("dnd");f.registerProvider("linksDnD",l);var p=new g(s.$task_bars,{sensitivity:0,updates_per_second:60,mousemoveContainer:c.$root,selector:".gantt_link_point",preventDefault:!0});function m(w,x,T,D,I){var P=function(F,Y,q){var L=Y(F),N={x:L.left,y:L.top,width:L.width,height:L.height};if(q.rtl?(N.xEnd=N.x,N.x=N.xEnd+N.width):N.xEnd=N.x+N.width,N.yEnd=N.y+N.height,c.getTaskType(F.type)==c.config.types.milestone){var G=function(O){var V=s.getBarHeight(O,!0);return Math.round(Math.sqrt(2*V*V))-2}(F.id);N.x+=(q.rtl?1:-1)*(G/2),N.xEnd+=(q.rtl?-1:1)*(G/2),N.width=L.xEnd-L.x}return N}(w,function(F){return c.getTaskPosition(F)},D),R={x:P.x,y:P.y};x||(R.x=P.xEnd),R.y+=c.getTaskHeight(w.id)/2;var H=function(F){return c.getTaskType(F.type)==c.config.types.milestone}(w)&&I?2:0;return T=T||0,D.rtl&&(T*=-1),R.x+=(x?-1:1)*T-H,R}function y(w,x){var T=p.getPosition(w),D=function(q){var L=0,N=0;return q&&(L=q.offsetWidth||0,N=q.offsetHeight||0),{width:L,height:N}}(x),I=function(){var q=c.$root;return{right:q.offsetWidth,bottom:q.offsetHeight}}(),P=c.config.tooltip_offset_x||o,R=c.config.tooltip_offset_y||o,H=c.config.scroll_size||a,F=c.$container.getBoundingClientRect().y+window.scrollY,Y={y:T.y+R,x:T.x+P,bottom:T.y+D.height+R+H,right:T.x+D.width+P+H};return Y.bottom>I.bottom+F&&(Y.y=I.bottom+F-D.height-R),Y.right>I.right&&(Y.x=I.right-D.width-P),Y}function v(w){var x=l(),T=["gantt_link_tooltip"];x.link_source_id&&x.link_target_id&&(c.isLinkAllowed(x.link_source_id,x.link_target_id,x.link_from_start,x.link_to_start)?T.push("gantt_allowed_link"):T.push("gantt_invalid_link"));var D=c.templates.drag_link_class(x.link_source_id,x.link_from_start,x.link_target_id,x.link_to_start);D&&T.push(D);var I="<div class='"+D+"'>"+c.templates.drag_link(x.link_source_id,x.link_from_start,x.link_target_id,x.link_to_start)+"</div>";w.innerHTML=I}function b(){t=n=r=null,e=!0}function k(w,x,T,D){var I=function(){return p._direction&&p._direction.parentNode||(p._direction=document.createElement("div"),s.$task_links.appendChild(p._direction)),p._direction}(),P=l(),R=["gantt_link_direction"];c.templates.link_direction_class&&R.push(c.templates.link_direction_class(P.link_source_id,P.link_from_start,P.link_target_id,P.link_to_start));var H=Math.sqrt(Math.pow(T-w,2)+Math.pow(D-x,2));if(H=Math.max(0,H-3)){I.className=R.join(" ");var F=(D-x)/(T-w),Y=Math.atan(F);$(w,T,x,D)==2?Y+=Math.PI:$(w,T,x,D)==3&&(Y-=Math.PI);var q=Math.sin(Y),L=Math.cos(Y),N=Math.round(x),G=Math.round(w),O=["-webkit-transform: rotate("+Y+"rad)","-moz-transform: rotate("+Y+"rad)","-ms-transform: rotate("+Y+"rad)","-o-transform: rotate("+Y+"rad)","transform: rotate("+Y+"rad)","width:"+Math.round(H)+"px"];if(window.navigator.userAgent.indexOf("MSIE 8.0")!=-1){O.push('-ms-filter: "'+function(J,z){return"progid:DXImageTransform.Microsoft.Matrix(M11 = "+z+",M12 = -"+J+",M21 = "+J+",M22 = "+z+",SizingMethod = 'auto expand')"}(q,L)+'"');var V=Math.abs(Math.round(w-T)),K=Math.abs(Math.round(D-x));switch($(w,T,x,D)){case 1:N-=K;break;case 2:G-=V,N-=K;break;case 3:G-=V}}O.push("top:"+N+"px"),O.push("left:"+G+"px"),I.style.cssText=O.join(";")}}function $(w,x,T,D){return x>=w?D<=T?1:4:D<=T?2:3}p.attachEvent("onBeforeDragStart",c.bind(function(w,x){var T=x.target||x.srcElement;if(b(),c.getState("tasksDnd").drag_id)return!1;if(_.locateClassName(T,"gantt_link_point")){_.locateClassName(T,"task_start_date")&&(n=!0);var D=c.locate(x);t=D;var I=c.getTask(D);return c.isReadonly(I)?(b(),!1):(this._dir_start=m(I,!!n,0,s.$getConfig(),!0),!0)}return!1},this)),p.attachEvent("onAfterDragStart",c.bind(function(w,x){c.config.touch&&c.refreshData(),v(p.config.marker)},this)),p.attachEvent("onDragMove",c.bind(function(w,x){var T=p.config,D=y(x,T.marker);(function(K,J){K.style.left=J.x+"px",K.style.top=J.y+"px"})(T.marker,D);var I=!!_.locateClassName(x,"gantt_link_control"),P=r,R=i,H=e,F=c.locate(x),Y=!0,q=_.getTargetNode(x);if(_.isChildOf(q,c.$root)||(I=!1,F=null),I&&(Y=!_.locateClassName(x,"task_end_date"),I=!!F),r=F,i=I,e=Y,I){var L=c.getTask(F),N=s.$getConfig(),G=_.locateClassName(x,"gantt_link_control"),O=0;G&&(O=Math.floor(G.offsetWidth/2)),this._dir_end=m(L,!!e,O,N)}else this._dir_end=_.getRelativeEventPosition(x,s.$task_data),c.env.isEdge&&(this._dir_end.y+=window.scrollY);var V=!(R==I&&P==F&&H==Y);return V&&(P&&c.refreshTask(P,!1),F&&c.refreshTask(F,!1)),V&&v(T.marker),k(this._dir_start.x,this._dir_start.y,this._dir_end.x,this._dir_end.y),!0},this)),p.attachEvent("onDragEnd",c.bind(function(){var w=l();if(w.link_source_id&&w.link_target_id&&w.link_source_id!=w.link_target_id){var x=c._get_link_type(w.link_from_start,w.link_to_start),T={source:w.link_source_id,target:w.link_target_id,type:x};T.type&&c.isLinkAllowed(T)&&c.callEvent("onLinkCreated",[T])&&c.addLink(T)}b(),c.config.touch?c.refreshData():(w.link_source_id&&c.refreshTask(w.link_source_id,!1),w.link_target_id&&c.refreshTask(w.link_target_id,!1)),p._direction&&(p._direction.parentNode&&p._direction.parentNode.removeChild(p._direction),p._direction=null)},this)),c.attachEvent("onGanttRender",c.bind(function(){p._direction&&k(this._dir_start.x,this._dir_start.y,this._dir_end.x,this._dir_end.y)},this))};A.exports={createLinkDND:function(){return{init:u}}}},function(A,E,h){var _=h(1),u=h(0),s=h(50),c=h(2);A.exports={createTaskDND:function(){var i;return{extend:function(r){r.roundTaskDates=function(e){i.round_task_dates(e)}},init:function(r,e){return i=function(t,n){var o=n.$services;return{drag:null,dragMultiple:{},_events:{before_start:{},before_finish:{},after_finish:{}},_handlers:{},init:function(){this._domEvents=n._createDomEventScope(),this.clear_drag_state();var a=n.config.drag_mode;this.set_actions(),o.getService("state").registerProvider("tasksDnd",u.bind(function(){return{drag_id:this.drag?this.drag.id:void 0,drag_mode:this.drag?this.drag.mode:void 0,drag_from_start:this.drag?this.drag.left:void 0}},this));var l={before_start:"onBeforeTaskDrag",before_finish:"onBeforeTaskChanged",after_finish:"onAfterTaskDrag"};for(var d in this._events)for(var f in a)this._events[d][f]=l[d];this._handlers[a.move]=this._move,this._handlers[a.resize]=this._resize,this._handlers[a.progress]=this._resize_progress},set_actions:function(){var a=t.$task_data;this._domEvents.attach(a,"mousemove",n.bind(function(l){this.on_mouse_move(l)},this)),this._domEvents.attach(a,"mousedown",n.bind(function(l){this.on_mouse_down(l)},this)),this._domEvents.attach(document.body,"mouseup",n.bind(function(l){this.on_mouse_up(l)},this))},clear_drag_state:function(){this.drag={id:null,mode:null,pos:null,start_x:null,start_y:null,obj:null,left:null},this.dragMultiple={}},_resize:function(a,l,d){var f=t.$getConfig(),g=this._drag_task_coords(a,d);d.left?(a.start_date=n.dateFromPos(g.start+l),a.start_date||(a.start_date=new Date(n.getState().min_date))):(a.end_date=n.dateFromPos(g.end+l),a.end_date||(a.end_date=new Date(n.getState().max_date)));var p=this._calculateMinDuration(f.min_duration,f.duration_unit);a.end_date-a.start_date<f.min_duration&&(d.left?a.start_date=n.calculateEndDate(a.end_date,-p,f.duration_unit,a):a.end_date=n.calculateEndDate(a.start_date,p,f.duration_unit,a)),n._init_task_timing(a)},_calculateMinDuration:function(a,l){return Math.ceil(a/{minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:31356e6}[l])},_resize_progress:function(a,l,d){var f=this._drag_task_coords(a,d),g=t.$getConfig().rtl?f.start-d.pos.x:d.pos.x-f.start,p=Math.max(0,g);a.progress=Math.min(1,p/Math.abs(f.end-f.start))},_find_max_shift:function(a,l){var d;for(var f in a){var g=a[f],p=n.getTask(g.id),m=this._drag_task_coords(p,g),y=n.posFromDate(new Date(n.getState().min_date)),v=n.posFromDate(new Date(n.getState().max_date));if(m.end+l>v){var b=v-m.end;(b<d||d===void 0)&&(d=b)}else if(m.start+l<y){var k=y-m.start;(k>d||d===void 0)&&(d=k)}}return d},_move:function(a,l,d,f){var g=this._drag_task_coords(a,d),p=null,m=null;f?(p=new Date(+d.obj.start_date+f),m=new Date(+d.obj.end_date+f)):(p=n.dateFromPos(g.start+l),m=n.dateFromPos(g.end+l)),p?m?(a.start_date=p,a.end_date=m):(a.end_date=new Date(n.getState().max_date),a.start_date=n.dateFromPos(n.posFromDate(a.end_date)-(g.end-g.start))):(a.start_date=new Date(n.getState().min_date),a.end_date=n.dateFromPos(n.posFromDate(a.start_date)+(g.end-g.start)))},_drag_task_coords:function(a,l){return{start:l.obj_s_x=l.obj_s_x||n.posFromDate(a.start_date),end:l.obj_e_x=l.obj_e_x||n.posFromDate(a.end_date)}},_mouse_position_change:function(a,l){var d=a.x-l.x,f=a.y-l.y;return Math.sqrt(d*d+f*f)},_is_number:function(a){return!isNaN(parseFloat(a))&&isFinite(a)},on_mouse_move:function(a){if(this.drag.start_drag){var l=_.getRelativeEventPosition(a,n.$task_data),d=this.drag.start_drag.start_x,f=this.drag.start_drag.start_y;(Date.now()-this.drag.timestamp>50||this._is_number(d)&&this._is_number(f)&&this._mouse_position_change({x:d,y:f},l)>20)&&this._start_dnd(a)}if(this.drag.mode){if(!s(this,40))return;this._update_on_move(a)}},_update_item_on_move:function(a,l,d,f,g,p){var m=n.getTask(l),y=n.mixin({},m),v=n.mixin({},m);this._handlers[d].apply(this,[v,a,f,p]),n.mixin(m,v,!0),n.callEvent("onTaskDrag",[m.id,d,v,y,g]),n.mixin(m,v,!0),n.refreshTask(l)},_update_on_move:function(a){var l=this.drag,d=t.$getConfig();if(l.mode){var f=_.getRelativeEventPosition(a,t.$task_data);if(l.pos&&l.pos.x==f.x)return;l.pos=f;var g=n.dateFromPos(f.x);if(!g||isNaN(g.getTime()))return;var p=f.x-l.start_x,m=n.getTask(l.id);if(this._handlers[l.mode]){if(l.mode===d.drag_mode.move){var y={};this._isMultiselect()&&n.getSelectedTasks().indexOf(l.id)>=0&&(y=this.dragMultiple);var v=!1;if(n.isSummaryTask(m)&&n.config.drag_project){var b={};b[l.id]=u.copy(l),v=!0,y=u.mixin(b,this.dragMultiple)}var k=this._find_max_shift(y,p);for(var $ in k!==void 0&&(p=k),this._update_item_on_move(p,l.id,l.mode,l,a),y){var w=y[$];if(v&&w.id!=l.id&&(n._bulk_dnd=!0),k===void 0&&(v||Object.keys(y).length>1))var x=g-n.dateFromPos(l.start_x);this._update_item_on_move(p,w.id,w.mode,w,a,x)}n._bulk_dnd=!1}else this._update_item_on_move(p,l.id,l.mode,l,a);n._update_parents(l.id)}}},on_mouse_down:function(a,l){if(a.button!=2||a.button===void 0){var d=t.$getConfig(),f=n.locate(a),g=null;if(n.isTaskExists(f)&&(g=n.getTask(f)),!n.isReadonly(g)&&!this.drag.mode){this.clear_drag_state(),l=l||a.target||a.srcElement;var p=_.getClassName(l),m=this._get_drag_mode(p,l);if(!p||!m)return l.parentNode?this.on_mouse_down(a,l.parentNode):void 0;if(m)if(m.mode&&m.mode!=d.drag_mode.ignore&&d["drag_"+m.mode]){if(f=n.locate(l),g=n.copy(n.getTask(f)||{}),n.isReadonly(g))return this.clear_drag_state(),!1;if(n.isSummaryTask(g)&&!d.drag_project&&m.mode!=d.drag_mode.progress)return void this.clear_drag_state();m.id=f;var y=_.getRelativeEventPosition(a,n.$task_data);m.start_x=y.x,m.start_y=y.y,m.obj=g,this.drag.start_drag=m,this.drag.timestamp=Date.now()}else this.clear_drag_state();else if(n.checkEvent("onMouseDown")&&n.callEvent("onMouseDown",[p.split(" ")[0]])&&l.parentNode)return this.on_mouse_down(a,l.parentNode)}}},_fix_dnd_scale_time:function(a,l){var d=t.$getConfig(),f=n.getScale().unit,g=n.getScale().step;function p(m){if(n.config.correct_work_time){var y=t.$getConfig();n.isWorkTime(m.start_date,void 0,m)||(m.start_date=n.calculateEndDate({start_date:m.start_date,duration:-1,unit:y.duration_unit,task:m}))}}d.round_dnd_dates||(f="minute",g=d.time_step),l.mode==d.drag_mode.resize?l.left?(a.start_date=n.roundDate({date:a.start_date,unit:f,step:g}),p(a)):(a.end_date=n.roundDate({date:a.end_date,unit:f,step:g}),function(m){if(n.config.correct_work_time){var y=t.$getConfig();n.isWorkTime(new Date(m.end_date-1),void 0,m)||(m.end_date=n.calculateEndDate({start_date:m.end_date,duration:1,unit:y.duration_unit,task:m}))}}(a)):l.mode==d.drag_mode.move&&(a.start_date=n.roundDate({date:a.start_date,unit:f,step:g}),p(a),a.end_date=n.calculateEndDate(a))},_fix_working_times:function(a,l){var d=t.$getConfig();(l=l||{mode:d.drag_mode.move}).mode==d.drag_mode.resize?l.left?a.start_date=n.getClosestWorkTime({date:a.start_date,dir:"future",task:a}):a.end_date=n.getClosestWorkTime({date:a.end_date,dir:"past",task:a}):l.mode==d.drag_mode.move&&n.correctTaskWorkTime(a)},_finalize_mouse_up:function(a,l,d,f){var g=n.getTask(a);if(l.work_time&&l.correct_work_time&&this._fix_working_times(g,d),this._fix_dnd_scale_time(g,d),this._fireEvent("before_finish",d.mode,[a,d.mode,n.copy(d.obj),f])){var p=a;n._init_task_timing(g),this.clear_drag_state(),n.updateTask(g.id),this._fireEvent("after_finish",d.mode,[p,d.mode,f])}else this.clear_drag_state(),a==d.id&&(d.obj._dhx_changed=!1,n.mixin(g,d.obj,!0)),n.refreshTask(g.id)},on_mouse_up:function(a){var l=this.drag;if(l.mode&&l.id){var d=t.$getConfig(),f=n.getTask(l.id),g=this.dragMultiple,p=!1,m=0;l.mode===d.drag_mode.move&&(n.isSummaryTask(f)&&d.drag_project||this._isMultiselect())&&(p=!0,m=Object.keys(g).length);var y=function(){if(p)for(var v in g)this._finalize_mouse_up(g[v].id,d,g[v],a);this._finalize_mouse_up(l.id,d,l,a)};p&&m>10?n.batchUpdate((function(){y.call(this)}).bind(this)):y.call(this)}this.clear_drag_state()},_get_drag_mode:function(a,l){var d=t.$getConfig().drag_mode,f={mode:null,left:null};switch((a||"").split(" ")[0]){case"gantt_task_line":case"gantt_task_content":f.mode=d.move;break;case"gantt_task_drag":f.mode=d.resize;var g=l.getAttribute("data-bind-property");f.left=g=="start_date";break;case"gantt_task_progress_drag":f.mode=d.progress;break;case"gantt_link_control":case"gantt_link_point":f.mode=d.ignore;break;default:f=null}return f},_start_dnd:function(a){var l=this.drag=this.drag.start_drag;delete l.start_drag;var d=t.$getConfig(),f=l.id;if(d["drag_"+l.mode]&&n.callEvent("onBeforeDrag",[f,l.mode,a])&&this._fireEvent("before_start",l.mode,[f,l.mode,a])){delete l.start_drag;var g=n.getTask(f);if(n.isReadonly(g))return void this.clear_drag_state();if(this._isMultiselect()){var p=n.getSelectedTasks();p.indexOf(l.id)>=0&&c.forEach(p,n.bind(function(m){var y=n.getTask(m);n.isSummaryTask(y)&&n.config.drag_project&&l.mode==d.drag_mode.move&&this._addSubtasksToDragMultiple(y.id),this.dragMultiple[m]=n.mixin({id:y.id,obj:n.copy(y)},this.drag)},this))}n.isSummaryTask(g)&&n.config.drag_project&&l.mode==d.drag_mode.move&&this._addSubtasksToDragMultiple(g.id),n.callEvent("onTaskDragStart",[])}else this.clear_drag_state()},_fireEvent:function(a,l,d){n.assert(this._events[a],"Invalid stage:{"+a+"}");var f=this._events[a][l];return n.assert(f,"Unknown after drop mode:{"+l+"}"),n.assert(d,"Invalid event arguments"),!n.checkEvent(f)||n.callEvent(f,d)},round_task_dates:function(a){var l=this.drag,d=t.$getConfig();l||(l={mode:d.drag_mode.move}),this._fix_dnd_scale_time(a,l)},destructor:function(){this._domEvents.detachAll()},_isMultiselect:function(){return n.config.drag_multiple&&!!(n.getSelectedTasks&&n.getSelectedTasks().length>0)},_addSubtasksToDragMultiple:function(a){n.eachTask(function(l){this.dragMultiple[l.id]=n.mixin({id:l.id,obj:n.copy(l)},this.drag)},a,this)}}}(r,e),r._tasks_dnd=i,i.init(e)},destructor:function(){i&&(i.destructor(),i=null)}}}}},function(A,E,h){var _=h(0),u=h(98),s=h(97),c=h(1),i=function(r){var e=r.$services;return{onCreated:function(t){var n=t.$config;n.bind=_.defined(n.bind)?n.bind:"task",n.bindLinks=_.defined(n.bindLinks)?n.bindLinks:"link",t._linksDnD=s.createLinkDND(),t._tasksDnD=u.createTaskDND(),t._tasksDnD.extend(t),this._mouseDelegates=h(31)(r)},onInitialized:function(t){this._attachDomEvents(r),this._attachStateProvider(r,t),t._tasksDnD.init(t,r),t._linksDnD.init(t,r),t.$config.id=="timeline"&&this.extendDom(t)},onDestroyed:function(t){this._clearDomEvents(r),this._clearStateProvider(r),t._tasksDnD&&t._tasksDnD.destructor()},extendDom:function(t){r.$task=t.$task,r.$task_scale=t.$task_scale,r.$task_data=t.$task_data,r.$task_bg=t.$task_bg,r.$task_links=t.$task_links,r.$task_bars=t.$task_bars},_clearDomEvents:function(){this._mouseDelegates.destructor(),this._mouseDelegates=null},_attachDomEvents:function(t){function n(o,a){if(o&&this.callEvent("onLinkDblClick",[o,a])){var l=this.getLink(o);if(this.isReadonly(l))return;var d=this.locale.labels.link+" "+this.templates.link_description(this.getLink(o))+" "+this.locale.labels.confirm_link_deleting;window.setTimeout(function(){t._simple_confirm(d,"",function(){t.deleteLink(o)})},this.config.touch?300:1)}}this._mouseDelegates.delegate("click","gantt_task_link",t.bind(function(o,a){var l=this.locate(o,this.config.link_attribute);l&&this.callEvent("onLinkClick",[l,o])},t),this.$task),this._mouseDelegates.delegate("click","gantt_scale_cell",t.bind(function(o,a){var l=c.getRelativeEventPosition(o,t.$task_data),d=t.dateFromPos(l.x),f=Math.floor(t.columnIndexByDate(d)),g=t.getScale().trace_x[f];t.callEvent("onScaleClick",[o,g])},t),this.$task),this._mouseDelegates.delegate("doubleclick","gantt_task_link",t.bind(function(o,a,l){a=this.locate(o,t.config.link_attribute),n.call(this,a,o)},t),this.$task),this._mouseDelegates.delegate("doubleclick","gantt_link_point",t.bind(function(o,a,l){a=this.locate(o);var d=this.getTask(a),f=null;return l.parentNode&&c.getClassName(l.parentNode)&&(f=c.getClassName(l.parentNode).indexOf("_left")>-1?d.$target[0]:d.$source[0]),f&&n.call(this,f,o),!1},t),this.$task)},_attachStateProvider:function(t,n){var o=n;e.getService("state").registerProvider("tasksTimeline",function(){return{scale_unit:o._tasks?o._tasks.unit:void 0,scale_step:o._tasks?o._tasks.step:void 0}})},_clearStateProvider:function(){e.getService("state").unregisterProvider("tasksTimeline")}}};A.exports=i},function(A,E,h){var _=h(1);function u(c,i){var r=_.getNodePosition(i.$grid_data);return c.x+=r.x+i.$grid.scrollLeft,c.y+=r.y-i.$grid_data.scrollTop,c}function s(c,i){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,e=_.getNodePosition(c.$root);return i>e.width&&(i=e.width-r-2),i}A.exports={removeLineHighlight:function(c){c.markerLine&&c.markerLine.parentNode&&c.markerLine.parentNode.removeChild(c.markerLine),c.markerLine=null},highlightPosition:function(c,i,r){var e=function(n,o){var a=_.getNodePosition(o.$grid_data),l=_.getRelativeEventPosition(n,o.$grid_data),d=a.x+o.$grid.scrollLeft,f=l.y-10,g=o.getItemHeight(n.targetId);f<a.y&&(f=a.y);var p=o.getTotalHeight();return f>a.y+p-g&&(f=a.y+p-g),a.x=d,a.y=f,a.width=s(o.$gantt,a.width,9),a}(c,r);i.marker.style.left=e.x+9+"px",i.marker.style.width=e.width+"px",i.marker.style.overflow="hidden";var t=i.markerLine;t||((t=document.createElement("div")).className="gantt_drag_marker gantt_grid_dnd_marker",t.innerHTML="<div class='gantt_grid_dnd_marker_line'></div>",t.style.pointerEvents="none"),c.child?function(n,o,a){var l=n.targetParent,d=u({x:0,y:a.getItemTop(l)},a),f=a.$grid_data.getBoundingClientRect().bottom+window.scrollY,g=s(a.$gantt,a.$grid_data.offsetWidth);o.innerHTML="<div class='gantt_grid_dnd_marker_folder'></div>",o.style.width=g+"px",o.style.top=d.y+"px",o.style.left=d.x+"px",o.style.height=a.getItemHeight(l)+"px",d.y>f&&(o.style.top=f+"px")}(c,t,r):function(n,o,a){var l=function(g,p){var m=p.$config.rowStore,y={x:0,y:0},v=p.$grid_data.querySelector(".gantt_tree_indent"),b=15,k=0;if(v&&(b=v.offsetWidth),g.targetId!==m.$getRootId()){var $=p.getItemTop(g.targetId),w=p.getItemHeight(g.targetId);if(k=m.exists(g.targetId)?m.calculateItemLevel(m.getItem(g.targetId)):0,g.prevSibling)y.y=$;else if(g.nextSibling){var x=0;m.eachItem(function(T){m.getIndexById(T.id)!==-1&&x++},g.targetId),y.y=$+w+x*w}else y.y=$+w,k+=1}return y.x=40+k*b,y.width=s(p.$gantt,Math.max(p.$grid_data.offsetWidth-y.x,0),y.x),u(y,p)}(n,a),d=a.$grid_data.getBoundingClientRect().bottom+window.scrollY;o.innerHTML="<div class='gantt_grid_dnd_marker_line'></div>",o.style.left=l.x+"px",o.style.height="4px";var f=l.y-2;o.style.top=f+"px",o.style.width=l.width+"px",f>d&&(o.style.top=d+"px")}(c,t,r),i.markerLine||(document.body.appendChild(t),i.markerLine=t)}}},function(A,E,h){var _=h(24);A.exports=function(u,s,c,i,r){var e;if(s!==r.$getRootId())e=c<.25?_.prevSiblingTarget(u,s,r):!(c>.6)||r.hasChild(s)&&r.getItem(s).$open?_.firstChildTarget(u,s,r):_.nextSiblingTarget(u,s,r);else{var t=r.$getRootId();e=r.hasChild(t)&&i>=0?_.lastChildTarget(u,t,r):_.firstChildTarget(u,t,r)}return e}},function(A,E,h){var _=h(24);function u(i,r,e,t,n){for(var o=r;t.exists(o);){var a=t.calculateItemLevel(t.getItem(o));if((a===e||a===e-1)&&t.getBranchIndex(o)>-1)break;o=n?t.getPrev(o):t.getNext(o)}return t.exists(o)?t.calculateItemLevel(t.getItem(o))===e?n?_.nextSiblingTarget(i,o,t):_.prevSiblingTarget(i,o,t):_.firstChildTarget(i,o,t):null}function s(i,r,e,t){return u(i,r,e,t,!0)}function c(i,r,e,t){return u(i,r,e,t,!1)}A.exports=function(i,r,e,t,n,o){var a;if(r!==n.$getRootId()){var l=n.getItem(r),d=n.calculateItemLevel(l);if(d===o){var f=n.getPrevSibling(r);e<.5&&!f?a=_.prevSiblingTarget(i,r,n):(e<.5&&(r=f),a=_.nextSiblingTarget(i,r,n))}else if(d>o)n.eachParent(function(v){n.calculateItemLevel(v)===o&&(r=v.id)},l),a=s(i,r,o,n);else{var g=s(i,r,o,n),p=c(i,r,o,n);a=e<.5?g:p}}else{var m=n.$getRootId(),y=n.getChildren(m);a=_.createDropTargetObject(),a=y.length&&t>=0?s(i,function(v){for(var b=v.getNext();v.exists(b);){var k=v.getNext(b);if(!v.exists(k))return b;b=k}return null}(n),o,n):c(i,m,o,n)}return a}},function(A,E,h){var _=h(1),u=h(24),s=h(102),c=h(101),i=h(100),r=h(16);A.exports={init:function(e,t){var n=e.$services.getService("dnd");if(t.$config.bind&&e.getDatastore(t.$config.bind)){var o=new n(t.$grid_data,{updates_per_second:60});e.defined(t.$getConfig().dnd_sensitivity)&&(o.config.sensitivity=t.$getConfig().dnd_sensitivity),o.attachEvent("onBeforeDragStart",e.bind(function(f,g){var p=a(g);if(!p||(e.hideQuickInfo&&e._hideQuickInfo(),_.closest(g.target,".gantt_grid_editor_placeholder")))return!1;var m=p.getAttribute(t.$config.item_attribute),y=t.$config.rowStore.getItem(m);return!e.isReadonly(y)&&!l(m)&&(o.config.initial_open_state=y.$open,!!e.callEvent("onRowDragStart",[m,g.target||g.srcElement,g])&&void 0)},e)),o.attachEvent("onAfterDragStart",e.bind(function(f,g){var p=a(g);o.config.marker.innerHTML=p.outerHTML;var m=o.config.marker.firstChild;m&&(o.config.marker.style.opacity=.4,m.style.position="static",m.style.pointerEvents="none"),o.config.id=p.getAttribute(t.$config.item_attribute);var y=t.$config.rowStore,v=y.getItem(o.config.id);o.config.level=y.calculateItemLevel(v),o.config.drop_target=u.createDropTargetObject({targetParent:y.getParent(v.id),targetIndex:y.getBranchIndex(v.id),targetId:v.id,nextSibling:!0}),v.$open=!1,v.$transparent=!0,this.refreshData()},e)),o.attachEvent("onDragMove",e.bind(function(f,g){var p=d(g);return p&&e.callEvent("onBeforeRowDragMove",[o.config.id,p.targetParent,p.targetIndex])!==!1||(p=u.createDropTargetObject(o.config.drop_target)),i.highlightPosition(p,o.config,t),o.config.drop_target=p,e._waiAria.reorderMarkerAttr(o.config.marker),this.callEvent("onRowDragMove",[o.config.id,p.targetParent,p.targetIndex]),!0},e)),o.attachEvent("onDragEnd",e.bind(function(){var f=t.$config.rowStore,g=f.getItem(o.config.id);i.removeLineHighlight(o.config),g.$transparent=!1,g.$open=o.config.initial_open_state;var p=o.config.drop_target;this.callEvent("onBeforeRowDragEnd",[o.config.id,p.targetParent,p.targetIndex])===!1?g.$drop_target=null:(f.move(o.config.id,p.targetIndex,p.targetParent),e.render(),this.callEvent("onRowDragEnd",[o.config.id,p.targetParent,p.targetIndex])),f.refresh(g.id)},e))}function a(f){return _.locateAttribute(f,t.$config.item_attribute)}function l(f){return r(f,e,e.getDatastore(t.$config.bind))}function d(f){var g,p=function(k){var $=_.getRelativeEventPosition(k,t.$grid_data).y,w=t.$config.rowStore;document.doctype||($+=window.scrollY),$=$||0;var x=t.$state.scrollTop||0,T=e.$grid_data.getBoundingClientRect().height+x+window.scrollY,D=x,I=t.getItemIndexByTopPosition(t.$state.scrollTop);if(w.exists(I)||(I=w.countVisible()-1),I<0)return w.$getRootId();var P=w.getIdByIndex(I),R=t.$state.scrollTop/t.getItemHeight(P),H=R-Math.floor(R);H>.1&&H<.9&&(T-=t.getItemHeight(P)*H,D+=t.getItemHeight(P)*(1-H));var F=_.getNodePosition(t.$grid_data),Y=F.y+F.height,q=o.config.marker.offsetHeight;$+q+window.scrollY>=T&&(o.config.marker.style.top=Y-q+"px"),$>=T?$=T:$<=D&&($=D,o.config.marker.style.top=F.y+"px");var L=t.getItemIndexByTopPosition($);if(L>w.countVisible()-1||L<0)return w.$getRootId();var N=w.getIdByIndex(L);return l(N)?w.getPrevSibling(N):w.getIdByIndex(L)}(f),m=null,y=t.$config.rowStore,v=!t.$getConfig().order_branch_free,b=_.getRelativeEventPosition(f,t.$grid_data).y;return document.doctype||(b+=window.scrollY),p!==y.$getRootId()&&(m=(b-t.getItemTop(p))/t.getItemHeight(p)),v?(g=s(o.config.id,p,m,b,y,o.config.level))&&g.targetParent&&l(g.targetParent)&&(p=y.getPrevSibling(g.targetParent),g=s(o.config.id,p,m,b,y,o.config.level)):g=c(o.config.id,p,m,b,y),g}}}},function(A,E,h){var _=h(1),u=h(16);A.exports={init:function(s,c){var i=s.$services.getService("dnd");if(c.$config.bind&&s.getDatastore(c.$config.bind)){var r=new i(c.$grid_data,{updates_per_second:60});s.defined(c.$getConfig().dnd_sensitivity)&&(r.config.sensitivity=c.$getConfig().dnd_sensitivity),r.attachEvent("onBeforeDragStart",s.bind(function(o,a){var l=e(a);if(!l||(s.hideQuickInfo&&s._hideQuickInfo(),_.closest(a.target,".gantt_grid_editor_placeholder")))return!1;var d=l.getAttribute(c.$config.item_attribute);if(n(d))return!1;var f=t().getItem(d);return!s.isReadonly(f)&&(r.config.initial_open_state=f.$open,!!s.callEvent("onRowDragStart",[d,a.target||a.srcElement,a])&&void 0)},s)),r.attachEvent("onAfterDragStart",s.bind(function(o,a){var l=e(a);r.config.marker.innerHTML=l.outerHTML;var d=r.config.marker.firstChild;d&&(d.style.position="static"),r.config.id=l.getAttribute(c.$config.item_attribute);var f=t(),g=f.getItem(r.config.id);r.config.index=f.getBranchIndex(r.config.id),r.config.parent=g.parent,g.$open=!1,g.$transparent=!0,this.refreshData()},s)),r.lastTaskOfLevel=function(o){for(var a=null,l=t().getItems(),d=0,f=l.length;d<f;d++)l[d].$level==o&&(a=l[d]);return a?a.id:null},r._getGridPos=s.bind(function(o){var a=_.getNodePosition(c.$grid_data),l=a.x+c.$grid.scrollLeft,d=o.pos.y-10,f=c.getItemHeight(r.config.id);d<a.y&&(d=a.y);var g=c.getTotalHeight();d>a.y+g-f&&(d=a.y+g-f);var p=a.y+a.height;return d>p-f&&(d=p-f),a.x=l,a.y=d,a},s),r._getTargetY=s.bind(function(o){var a=_.getNodePosition(c.$grid_data),l=c.$state.scrollTop||0,d=s.$grid_data.getBoundingClientRect().height+l,f=o.pageY-a.y+l;return f>d?f=d:f<l&&(f=l),f},s),r._getTaskByY=s.bind(function(o,a){var l=t();o=o||0;var d=c.getItemIndexByTopPosition(o);return(d=a<d?d-1:d)>l.countVisible()-1?null:l.getIdByIndex(d)},s),r.attachEvent("onDragMove",s.bind(function(o,a){var l=s.$grid_data.getBoundingClientRect(),d=l.height+l.y+(c.$state.scrollTop||0)+window.scrollY,f=r.config,g=r._getGridPos(a);s._waiAria.reorderMarkerAttr(f.marker);var p=c.$getConfig(),m=t();g.y<d?f.marker.style.top=g.y+"px":f.marker.style.top=d+"px",f.marker.style.left=g.x+10+"px";var y=_.getNodePosition(s.$root);g.width>y.width&&(f.marker.style.width=y.width-10-2+"px",f.marker.style.overflow="hidden");var v=m.getItem(r.config.id),b=r._getTargetY(a),k=r._getTaskByY(b,m.getIndexById(v.id));function $(Y,q){return!m.isChildOf(w.id,q.id)&&(Y.$level==q.$level||p.order_branch_free)}if(m.exists(k)||(k=r.lastTaskOfLevel(p.order_branch_free?v.$level:0))==r.config.id&&(k=null),m.exists(k)){var w=m.getItem(k),x=c.getItemTop(w.id),T=c.getItemHeight(w.id);if(x+T/2<b){var D=m.getIndexById(w.id),I=m.getNext(w.id),P=m.getItem(I);if(n(I)){var R=m.getPrev(P.id);P=m.getItem(R)}if(P){if(P.id==v.id)return p.order_branch_free&&m.isChildOf(v.id,w.id)&&m.getChildren(w.id).length==1?void m.move(v.id,m.getBranchIndex(w.id)+1,m.getParent(w.id)):void 0;w=P}else if(I=m.getIdByIndex(D),P=m.getItem(I),n(I)&&(R=m.getPrev(P.id),P=m.getItem(R)),$(P,v)&&P.id!=v.id)return void m.move(v.id,-1,m.getParent(P.id))}else if(p.order_branch_free&&w.id!=v.id&&$(w,v)&&!n(w.id)){if(!m.hasChild(w.id))return w.$open=!0,void m.move(v.id,-1,w.id);if(m.getIndexById(w.id)||T/3<b)return}D=m.getIndexById(w.id),R=m.getIdByIndex(D-1);for(var H=m.getItem(R),F=1;(!H||H.id==w.id)&&D-F>=0;)R=m.getIdByIndex(D-F),H=m.getItem(R),F++;if(v.id==w.id||n(w.id))return;$(w,v)&&v.id!=w.id?m.move(v.id,0,0,w.id):w.$level!=v.$level-1||m.getChildren(w.id).length?H&&$(H,v)&&v.id!=H.id&&m.move(v.id,-1,m.getParent(H.id)):m.move(v.id,0,w.id)}return!0},s)),r.attachEvent("onDragEnd",s.bind(function(){var o=t(),a=o.getItem(r.config.id);a.$transparent=!1,a.$open=r.config.initial_open_state,this.callEvent("onBeforeRowDragEnd",[r.config.id,r.config.parent,r.config.index])===!1?(o.move(r.config.id,r.config.index,r.config.parent),a.$drop_target=null):this.callEvent("onRowDragEnd",[r.config.id,a.$drop_target]),s.render(),this.refreshData()},s))}function e(o){return _.locateAttribute(o,c.$config.item_attribute)}function t(){return s.getDatastore(c.$config.bind)}function n(o){return u(o,s,t())}}}},function(A,E,h){var _=h(0),u=h(104),s=h(103),c=function(i){return{onCreated:function(r){r.$config=_.mixin(r.$config,{bind:"task"}),r.$config.id=="grid"&&(this.extendGantt(r),i.ext.inlineEditors=i.ext._inlineEditors.createEditors(r),i.ext.inlineEditors.init()),this._mouseDelegates=h(31)(i)},onInitialized:function(r){var e=r.$getConfig();e.order_branch&&(e.order_branch=="marker"?s.init(r.$gantt,r):u.init(r.$gantt,r)),this.initEvents(r,i),r.$config.id=="grid"&&this.extendDom(r)},onDestroyed:function(r){r.$config.id=="grid"&&i.ext.inlineEditors.destructor(),this.clearEvents(r,i)},initEvents:function(r,e){this._mouseDelegates.delegate("click","gantt_row",e.bind(function(t,n,o){var a=r.$getConfig();if(n!==null){var l=this.getTask(n);a.scroll_on_click&&!e._is_icon_open_click(t)&&this.showDate(l.start_date),e.callEvent("onTaskRowClick",[n,o])}},e),r.$grid),this._mouseDelegates.delegate("click","gantt_grid_head_cell",e.bind(function(t,n,o){var a=o.getAttribute("data-column-id");if(e.callEvent("onGridHeaderClick",[a,t])){var l=r.$getConfig();if(a!="add"){if(l.sort&&a){for(var d,f=a,g=0;g<l.columns.length;g++)if(l.columns[g].name==a){d=l.columns[g];break}if(d&&d.sort!==void 0&&d.sort!==!0&&!(f=d.sort))return;var p=this._sort&&this._sort.direction&&this._sort.name==a?this._sort.direction:"desc";p=p=="desc"?"asc":"desc",this._sort={name:a,direction:p},this.sort(f,p=="desc")}}else e.$services.getService("mouseEvents").callHandler("click","gantt_add",r.$grid,[t,l.root_id])}},e),r.$grid),this._mouseDelegates.delegate("click","gantt_add",e.bind(function(t,n,o){if(!r.$getConfig().readonly)return this.createTask({},n||e.config.root_id),!1},e),r.$grid)},clearEvents:function(r,e){this._mouseDelegates.destructor(),this._mouseDelegates=null},extendDom:function(r){i.$grid=r.$grid,i.$grid_scale=r.$grid_scale,i.$grid_data=r.$grid_data},extendGantt:function(r){i.getGridColumns=i.bind(r.getGridColumns,r),r.attachEvent("onColumnResizeStart",function(){return i.callEvent("onColumnResizeStart",arguments)}),r.attachEvent("onColumnResize",function(){return i.callEvent("onColumnResize",arguments)}),r.attachEvent("onColumnResizeEnd",function(){return i.callEvent("onColumnResizeEnd",arguments)}),r.attachEvent("onColumnResizeComplete",function(e,t){i.config.grid_width=t}),r.attachEvent("onBeforeRowResize",function(){return i.callEvent("onBeforeRowResize",arguments)}),r.attachEvent("onRowResize",function(){return i.callEvent("onRowResize",arguments)}),r.attachEvent("onBeforeRowResizeEnd",function(){return i.callEvent("onBeforeRowResizeEnd",arguments)}),r.attachEvent("onAfterRowResize",function(){return i.callEvent("onAfterRowResize",arguments)})}}};A.exports=c},function(A,E,h){var _=h(30),u=h(6);A.exports=function(s){return{render:function(c,i,r){var e=i.$getConfig(),t=document.createElement("div");return t.className="gantt_task_grid_row_resize_wrap",t.style.top=i.getItemTop(c.id)+i.getItemHeight(c.id)+"px",t.innerHTML="<div class='gantt_task_grid_row_resize' role='cell'></div>",t.setAttribute(e.task_grid_row_resizer_attribute,c.id),s._waiAria.rowResizerAttr(t),t},update:null,getRectangle:_,getVisibleRange:u}}},function(A,E,h){var _=h(27),u=h(6),s=h(26),c=h(25),i=h(37);function r(t,n,o,a){var l=100*(1-(1*t||0)),d=a.posFromDate(n),f=a.posFromDate(o),g=document.createElement("div");return g.className="gantt_histogram_hor_bar",g.style.top=l+"%",g.style.left=d+"px",g.style.width=f-d+1+"px",g}function e(t,n,o){if(t===n)return null;var a=1-Math.max(t,n),l=Math.abs(t-n),d=document.createElement("div");return d.className="gantt_histogram_vert_bar",d.style.top=100*a+"%",d.style.height=100*l+"%",d.style.left=o+"px",d}A.exports=function(t){var n=i(t),o={},a={},l={};function d(p,m){var y=o[p];y&&y[m]&&y[m].parentNode&&y[m].parentNode.removeChild(y[m])}function f(p,m,y,v,b,k,$){var w=l[p.id];w&&w.parentNode&&w.parentNode.removeChild(w);var x=function(T,D,I,P){for(var R=D.getScale(),H=document.createElement("div"),F=s(R,P),Y=F.start;Y<=F.end;Y++){var q=R.trace_x[Y],L=R.trace_x[Y+1]||t.date.add(q,R.step,R.unit),N=R.trace_x[Y].valueOf(),G=Math.min(T[N]/I,1)||0;if(G<0)return null;var O=Math.min(T[L.valueOf()]/I,1)||0,V=r(G,q,L,D);V&&H.appendChild(V);var K=e(G,O,D.posFromDate(L));K&&H.appendChild(K)}return H}(y,b,k,$);return x&&m&&(x.setAttribute("data-resource-id",p.id),x.setAttribute(b.$config.item_attribute,p.id),x.style.position="absolute",x.style.top=m.top+1+"px",x.style.height=b.getItemHeight(p.id)-1+"px",x.style.left=0),x}function g(p,m,y,v,b,k,$){var w=b.histogram_cell_class(k.start_date,k.end_date,p,k.tasks,k.assignments),x=b.histogram_cell_label(k.start_date,k.end_date,p,k.tasks,k.assignments),T=b.histogram_cell_allocated(k.start_date,k.end_date,p,k.tasks,k.assignments),D=$.getItemHeight(p.id)-1;if(w||x){var I=document.createElement("div");return I.className=["gantt_histogram_cell",w].join(" "),I.setAttribute($.$config.item_attribute,p.id),I.style.cssText=["left:"+m.left+"px","width:"+m.width+"px","height:"+D+"px","line-height:"+D+"px","top:"+(m.top+1)+"px"].join(";"),x&&(x="<div class='gantt_histogram_label'>"+x+"</div>"),T&&(x="<div class='gantt_histogram_fill' style='height:"+100*Math.min(T/y||0,1)+"%;'></div>"+x),x&&(I.innerHTML=x),I}return null}return{render:function(p,m,y,v){var b=m.$getTemplates(),k=m.getScale(),$=n(p,y.resource_property,k,m),w=[],x={},T=p.capacity||m.$config.capacity||24;o[p.id]={},a[p.id]=null,l[p.id]=null;for(var D=!!v,I=s(k,v),P=I.start;P<=I.end;P++){var R=$[P];if(R&&(!D||c(P,k,v,t))){var H=b.histogram_cell_capacity(R.start_date,R.end_date,p,R.tasks,R.assignments);x[R.start_date.valueOf()]=H||0;var F=m.getItemPosition(p,R.start_date,R.end_date),Y=g(p,F,T,0,b,R,m);Y&&(w.push(Y),o[p.id][P]=Y)}}var q=null;if(w.length){q=document.createElement("div");for(var L=0;L<w.length;L++)q.appendChild(w[L]);var N=f(p,F,x,0,m,T,v);N&&(q.appendChild(N),l[p.id]=N),a[p.id]=q}return q},update:function(p,m,y,v,b){var k=y.$getTemplates(),$=y.getScale(),w=n(p,v.resource_property,$,y),x=p.capacity||y.$config.capacity||24,T={},D=!!b,I=s($,b),P={};if(o&&o[p.id])for(var R in o[p.id])P[R]=R;for(var H=I.start;H<=I.end;H++){var F=w[H];if(P[H]=!1,F){var Y=k.histogram_cell_capacity(F.start_date,F.end_date,p,F.tasks,F.assignments);T[F.start_date.valueOf()]=Y||0;var q=y.getItemPosition(p,F.start_date,F.end_date);if(!D||c(H,$,b,t)){var L=o[p.id];if(L&&L[H])L&&L[H]&&!L[H].parentNode&&m.appendChild(L[H]);else{var N=g(p,q,x,0,k,F,y);N&&(m.appendChild(N),o[p.id][H]=N)}}else d(p.id,H)}}for(var R in P)P[R]!==!1&&d(p.id,R);var G=f(p,q,T,0,y,x,b);G&&(m.appendChild(G),l[p.id]=G)},getRectangle:_,getVisibleRange:u}}},function(A,E,h){var _=h(27),u=h(6),s=h(26),c=h(25),i=h(37);A.exports=function(r){var e=i(r),t={};function n(a,l,d,f,g){var p=d.resource_cell_class(l.start_date,l.end_date,a,l.tasks,l.assignments),m=d.resource_cell_value(l.start_date,l.end_date,a,l.tasks,l.assignments),y=g.getItemHeight(a.id)-1;if(p||m){var v=g.getItemPosition(a,l.start_date,l.end_date),b=document.createElement("div");return b.setAttribute(g.$config.item_attribute,a.id),b.className=["gantt_resource_marker",p].join(" "),b.style.cssText=["left:"+v.left+"px","width:"+v.width+"px","height:"+y+"px","line-height:"+y+"px","top:"+v.top+"px"].join(";"),m&&(b.innerHTML=m),b}return null}function o(a,l){t[a]&&t[a][l]&&t[a][l].parentNode&&t[a][l].parentNode.removeChild(t[a][l])}return{render:function(a,l,d,f){var g=l.$getTemplates(),p=l.getScale(),m=e(a,d.resource_property,l.getScale(),l),y=!!f,v=[];t[a.id]={};for(var b=s(p,f),k=b.start;k<=b.end;k++){var $=m[k];if($&&(!y||c(k,p,f,r))){var w=n(a,$,g,0,l);w&&(v.push(w),t[a.id][k]=w)}}var x=null;if(v.length){x=document.createElement("div");for(var T=0;T<v.length;T++)x.appendChild(v[T])}return x},update:function(a,l,d,f,g){var p=d.$getTemplates(),m=d.getScale(),y=e(a,f.resource_property,d.getScale(),d),v=s(m,g),b={};if(t&&t[a.id])for(var k in t[a.id])b[k]=k;for(var $=v.start;$<=v.end;$++){var w=y[$];if(b[$]=!1,w)if(c($,m,g,r))if(t[a.id]&&t[a.id][$])t[a.id]&&t[a.id][$]&&!t[a.id][$].parentNode&&l.appendChild(t[a.id][$]);else{var x=n(a,w,p,0,d);x&&(l.appendChild(x),t[a.id][$]=x)}else o(a.id,$)}for(var k in b)b[k]!==!1&&o(a.id,k)},getRectangle:_,getVisibleRange:u}}},function(A,E,h){function _(i){"@babel/helpers - typeof";return(_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(i)}var u=h(2),s=h(30),c=h(6);A.exports=function(i){return{render:function(r,e,t,n){for(var o=e.getGridColumns(),a=e.$getTemplates(),l=e.$config.rowStore,d=[],f=0;f<o.length;f++){var g,p,m,y=f==o.length-1,v=o[f];v.name=="add"?(p="<div "+(T=i._waiAria.gridAddButtonAttrString(v))+" class='gantt_add'></div>",m=""):(p=v.template?v.template(r):r[v.name],u.isDate(p)&&(p=a.date_grid(p,r,v.name)),p!=null||(p=""),m=p,p="<div class='gantt_tree_content'>"+p+"</div>");var b="gantt_cell"+(y?" gantt_last_cell":""),k=[];if(v.tree){b+=" gantt_cell_tree";for(var $=0;$<r.$level;$++)k.push(a.grid_indent(r));!l.hasChild(r.id)||i.isSplitTask(r)&&!i.config.open_split_tasks?(k.push(a.grid_blank(r)),k.push(a.grid_file(r))):(k.push(a.grid_open(r)),k.push(a.grid_folder(r)))}var w="width:"+(v.width-(y?1:0))+"px;";if(this.defined(v.align)){var x={right:"flex-end",left:"flex-start",center:"center"}[v.align];w+="text-align:"+v.align+";justify-content:"+x+";"}var T=i._waiAria.gridCellAttrString(v,m,r);k.push(p),g="<div class='"+b+"' data-column-index='"+f+"' data-column-name='"+v.name+"' style='"+w+"' "+T+">"+k.join("")+"</div>",d.push(g)}switch(b="",l.$config.name){case"task":b=i.getGlobalTaskIndex(r.id)%2==0?"":" odd";break;case"resource":b=l.visibleOrder.indexOf(r.id)%2==0?"":" odd"}if(b+=r.$transparent?" gantt_transparent":"",b+=r.$dataprocessor_class?" "+r.$dataprocessor_class:"",a.grid_row_class){var D=a.grid_row_class.call(i,r.start_date,r.end_date,r);D&&(b+=" "+D)}l.isSelected(r.id)&&(b+=" gantt_selected");var I=document.createElement("div");I.className="gantt_row"+b+" gantt_row_"+i.getTaskType(r.type);var P=e.getItemHeight(r.id);return I.style.height=P+"px",I.style.lineHeight=P+"px",t.smart_rendering&&(I.style.position="absolute",I.style.left="0px",I.style.top=e.getItemTop(r.id)+"px"),e.$config.item_attribute&&(I.setAttribute(e.$config.item_attribute,r.id),I.setAttribute(e.$config.bind+"_id",r.id)),i._waiAria.taskRowAttr(r,I),I.innerHTML=d.join(""),I},update:null,getRectangle:s,getVisibleRange:c,onrender:function(r,e,t){for(var n=t.getGridColumns(),o=0;o<n.length;o++){var a=n[o];if(a.onrender){var l=e.querySelector("[data-column-name="+a.name+"]");if(l){var d=a.onrender(r,l);if(d&&typeof d=="string")l.innerHTML=d;else if(d&&_(d)==="object"&&i.config.external_render){var f=i.config.external_render;f.isElement(d)&&f.renderElement(d,l)}}}}}}}},function(A,E,h){var _=h(39),u=h(40);A.exports=function(s){var c={current_pos:null,dirs:{left:"left",right:"right",up:"up",down:"down"},path:[],clear:function(){this.current_pos=null,this.path=[]},point:function(e){this.current_pos=s.copy(e)},get_lines:function(e){this.clear(),this.point(e[0]);for(var t=1;t<e.length;t++)this.line_to(e[t]);return this.get_path()},line_to:function(e){var t=s.copy(e),n=this.current_pos,o=this._get_line(n,t);this.path.push(o),this.current_pos=t},get_path:function(){return this.path},get_wrapper_sizes:function(e,t,n){var o,a=t.$getConfig().link_wrapper_width,l=e.y-a/2;switch(e.direction){case this.dirs.left:o={top:l,height:a,lineHeight:a,left:e.x-e.size-a/2,width:e.size+a};break;case this.dirs.right:o={top:l,lineHeight:a,height:a,left:e.x-a/2,width:e.size+a};break;case this.dirs.up:o={top:l-e.size,lineHeight:e.size+a,height:e.size+a,left:e.x-a/2,width:a};break;case this.dirs.down:o={top:l,lineHeight:e.size+a,height:e.size+a,left:e.x-a/2,width:a}}return o},get_line_sizes:function(e,t){var n,o=t.$getConfig(),a=o.link_line_width,l=o.link_wrapper_width,d=e.size+a;switch(e.direction){case this.dirs.left:case this.dirs.right:n={height:a,width:d,marginTop:(l-a)/2,marginLeft:(l-a)/2};break;case this.dirs.up:case this.dirs.down:n={height:d,width:a,marginTop:(l-a)/2,marginLeft:(l-a)/2}}return n},render_line:function(e,t,n,o){var a=this.get_wrapper_sizes(e,n,o),l=document.createElement("div");l.style.cssText=["top:"+a.top+"px","left:"+a.left+"px","height:"+a.height+"px","width:"+a.width+"px"].join(";"),l.className="gantt_line_wrapper";var d=this.get_line_sizes(e,n),f=document.createElement("div");return f.style.cssText=["height:"+d.height+"px","width:"+d.width+"px","margin-top:"+d.marginTop+"px","margin-left:"+d.marginLeft+"px"].join(";"),f.className="gantt_link_line_"+e.direction,l.appendChild(f),l},_get_line:function(e,t){var n=this.get_direction(e,t),o={x:e.x,y:e.y,direction:this.get_direction(e,t)};return n==this.dirs.left||n==this.dirs.right?o.size=Math.abs(e.x-t.x):o.size=Math.abs(e.y-t.y),o},get_direction:function(e,t){return t.x<e.x?this.dirs.left:t.x>e.x?this.dirs.right:t.y>e.y?this.dirs.down:this.dirs.up}},i={path:[],clear:function(){this.path=[]},current:function(){return this.path[this.path.length-1]},point:function(e){return e?(this.path.push(s.copy(e)),e):this.current()},point_to:function(e,t,n){n=n?{x:n.x,y:n.y}:s.copy(this.point());var o=c.dirs;switch(e){case o.left:n.x-=t;break;case o.right:n.x+=t;break;case o.up:n.y-=t;break;case o.down:n.y+=t}return this.point(n)},get_points:function(e,t,n,o){var a=this.get_endpoint(e,t,n,o),l=s.config,d=a.e_y-a.y,f=a.e_x-a.x,g=c.dirs,p=t.getItemHeight(e.source);this.clear(),this.point({x:a.x,y:a.y});var m=2*l.link_arrow_size,y=this.get_line_type(e,t.$getConfig()),v=a.e_x>a.x;if(y.from_start&&y.to_start)this.point_to(g.left,m),v?(this.point_to(g.down,d),this.point_to(g.right,f)):(this.point_to(g.right,f),this.point_to(g.down,d)),this.point_to(g.right,m);else if(!y.from_start&&y.to_start)if(v=a.e_x>a.x+2*m,this.point_to(g.right,m),v)f-=m,this.point_to(g.down,d),this.point_to(g.right,f);else{f-=2*m;var b=d>0?1:-1;this.point_to(g.down,b*(p/2)),this.point_to(g.right,f),this.point_to(g.down,b*(Math.abs(d)-p/2)),this.point_to(g.right,m)}else y.from_start||y.to_start?y.from_start&&!y.to_start&&(v=a.e_x>a.x-2*m,this.point_to(g.left,m),v?(f+=2*m,b=d>0?1:-1,this.point_to(g.down,b*(p/2)),this.point_to(g.right,f),this.point_to(g.down,b*(Math.abs(d)-p/2)),this.point_to(g.left,m)):(f+=m,this.point_to(g.down,d),this.point_to(g.right,f))):(this.point_to(g.right,m),v?(this.point_to(g.right,f),this.point_to(g.down,d)):(this.point_to(g.down,d),this.point_to(g.right,f)),this.point_to(g.left,m));return this.path},get_line_type:function(e,t){var n=t.links,o=!1,a=!1;return e.type==n.start_to_start?o=a=!0:e.type==n.finish_to_finish?o=a=!1:e.type==n.finish_to_start?(o=!1,a=!0):e.type==n.start_to_finish?(o=!0,a=!1):s.assert(!1,"Invalid link type"),t.rtl&&(o=!o,a=!a),{from_start:o,to_start:a}},get_endpoint:function(e,t,n,o){var a=t.$getConfig(),l=this.get_line_type(e,a),d=l.from_start,f=l.to_start,g=r(n,t,a),p=r(o,t,a);return{x:d?g.left:g.left+g.width,e_x:f?p.left:p.left+p.width,y:g.top+g.rowHeight/2-1,e_y:p.top+p.rowHeight/2-1}}};function r(e,t,n){var o=t.getItemPosition(e);if(s.getTaskType(e.type)==n.types.milestone){var a=t.getBarHeight(e.id,!0),l=Math.sqrt(2*a*a);o.left-=l/2,o.width=l}return o}return{render:function(e,t,n){var o=s.getTask(e.source);if(!o.hide_bar){var a=s.getTask(e.target);if(!a.hide_bar){var l=i.get_endpoint(e,t,o,a),d=l.e_y-l.y;if(!(l.e_x-l.x||d))return null;var f=i.get_points(e,t,o,a),g=c.get_lines(f,t),p=document.createElement("div"),m="gantt_task_link";e.color&&(m+=" gantt_link_inline_color");var y=s.templates.link_class?s.templates.link_class(e):"";y&&(m+=" "+y),n.highlight_critical_path&&s.isCriticalLink&&s.isCriticalLink(e)&&(m+=" gantt_critical_link"),p.className=m,t.$config.link_attribute&&(p.setAttribute(t.$config.link_attribute,e.id),p.setAttribute("link_id",e.id));for(var v=0;v<g.length;v++){v==g.length-1&&(g[v].size-=n.link_arrow_size);var b=c.render_line(g[v],g[v+1],t,e.source);e.color&&(b.firstChild.style.backgroundColor=e.color),p.appendChild(b)}var k=g[g.length-1].direction,$=function(w,x,T,D){var I=T.$getConfig(),P=document.createElement("div"),R=w.y,H=w.x,F=I.link_arrow_size,Y="gantt_link_arrow gantt_link_arrow_"+x;switch(x){case c.dirs.right:R-=F/2,H-=F;break;case c.dirs.left:R-=F/2;break;case c.dirs.up:H-=F;break;case c.dirs.down:R+=2*F,H-=F}return P.style.cssText=["top:"+R+"px","left:"+H+"px"].join(";"),P.className=Y,P}(f[f.length-1],k,t,e.source);return e.color&&($.style.borderColor=e.color),p.appendChild($),s._waiAria.linkAttr(e,p),p}}},update:null,isInViewPort:_,getVisibleRange:u()}}},function(A,E){A.exports=function(h,_){var u=_.config.timeline_placeholder;if(h=h||[],u&&h.filter(function(t){return t.id==="timeline_placeholder_task"}).length===0){var s=_.getState(),c=null,i=s.min_date,r=s.max_date;h.length&&(c=h[h.length-1].id);var e={start_date:i,end_date:r,row_height:u.height||0,id:"timeline_placeholder_task",unscheduled:!0,lastTaskId:c,calendar_id:u.calendar||"global",$source:[],$target:[]};h.push(e)}}},function(A,E,h){var _=h(27),u=h(20),s=h(6),c=h(26),i=h(25),r=h(111);A.exports=function(e){var t={},n={};function o(g,p){return!(!t[g.id][p]||!t[g.id][p].parentNode)}function a(g,p){t[g]&&t[g][p]&&t[g][p].parentNode&&t[g][p].parentNode.removeChild(t[g][p])}function l(g){var p,m=g.$getTemplates();return m.task_cell_class!==void 0?(p=m.task_cell_class,(console.warn||console.log)("gantt.templates.task_cell_class template is deprecated and will be removed soon. Please use gantt.templates.timeline_cell_class instead.")):p=m.timeline_cell_class,p}function d(g){return g.$getTemplates().timeline_cell_content}function f(g,p,m,y,v,b,k,$){var w=g.width[p],x="";if(i(p,g,y,e)){var T=b(m,g.trace_x[p]),D="";if(k&&(D=k(m,g.trace_x[p])),$.static_background){var I=!(!T&&!D);if(!$.static_background_cells||!I)return null}if(t[m.id][p])return n[m.id][p]=p,t[m.id][p];var P=document.createElement("div");return P.style.width=w+"px",x="gantt_task_cell"+(p==v-1?" gantt_last_cell":""),T&&(x+=" "+T),P.className=x,D&&(P.innerHTML=D),P.style.position="absolute",P.style.left=g.left[p]+"px",t[m.id][p]=P,n[m.id][p]=p,P}return null}return{render:function(g,p,m,y){var v=p.$getTemplates(),b=p.getScale(),k=b.count;if(m.static_background&&!m.static_background_cells)return null;var $,w=document.createElement("div"),x=l(p),T=d(p);if($=y&&m.smart_rendering&&!u(e)?c(b,y.x):{start:0,end:k-1},m.show_task_cells){t[g.id]={},n[g.id]={};for(var D=$.start;D<=$.end;D++){var I=f(b,D,g,y,k,x,T,m);I&&w.appendChild(I)}}var P=p.$config.rowStore,R=P.getIndexById(g.id)%2!=0,H=v.task_row_class(g.start_date,g.end_date,g),F="gantt_task_row"+(R?" odd":"")+(H?" "+H:"");if(P.isSelected(g.id)&&(F+=" gantt_selected"),w.className=F,m.smart_rendering?(w.style.position="absolute",w.style.top=p.getItemTop(g.id)+"px",w.style.width="100%"):w.style.position="relative",w.style.height=p.getItemHeight(g.id)+"px",g.id=="timeline_placeholder_task"){var Y=0;g.lastTaskId&&(Y=p.getItemTop(g.lastTaskId)+p.getItemHeight(g.lastTaskId));var q=(g.row_height||p.$task_data.offsetHeight)-Y;q<0&&(q=0),m.smart_rendering&&(w.style.top=Y+"px"),w.style.height=q+"px"}return p.$config.item_attribute&&(w.setAttribute(p.$config.item_attribute,g.id),w.setAttribute(p.$config.bind+"_id",g.id)),w},update:function(g,p,m,y,v){var b=m.getScale(),k=b.count,$=l(m),w=d(m);if(y.show_task_cells){t[g.id]||(t[g.id]={}),n[g.id]||(n[g.id]={});var x=c(b,v);for(var T in n[g.id]){var D=n[g.id][T];(Number(D)<x.start||Number(D)>x.end)&&a(g.id,D)}n[g.id]={};for(var I=x.start;I<=x.end;I++){var P=f(b,I,g,v,k,$,w,y);!P&&o(g,I)?a(g.id,I):P&&!P.parentNode&&p.appendChild(P)}}},getRectangle:_,getVisibleRange:s,prepareData:r}}},function(A,E,h){var _=h(28),u=h(19),s=h(6);A.exports=function(c){var i=_(c),r={};function e(o,a,l,d,f){var g=!0;return d.smart_rendering&&(g=u(o,a,l,d,f)),g}function t(o,a,l,d){var f=c.copy(c.getTask(a.id));if(f.$rendered_at=o.id,c.callEvent("onBeforeRollupTaskDisplay",[f.id,f,o.id])!==!1){var g=i(f,l);if(g){var p=l.getBarHeight(o.id,a.type==c.config.types.milestone),m=Math.floor((l.getItemHeight(o.id)-p)/2);return g.style.top=d.top+m+"px",g.classList.add("gantt_rollup_child"),g.setAttribute("data-rollup-parent-id",o.id),g}}}function n(o,a){return o+"_"+a}return{render:function(o,a,l,d){if(o.rollup!==!1&&o.$rollup&&o.$rollup.length){var f=document.createElement("div"),g=c.getTaskPosition(o);return d.y=0,d.y_end=c.$task_bg.scrollHeight,o.$rollup.forEach(function(p){if(c.isTaskExists(p)){var m=c.getTask(p);if(e(m,d,a,l,c)){var y=t(o,m,a,g);y?(r[n(m.id,o.id)]=y,f.appendChild(y)):r[n(m.id,o.id)]=!1}}}),f}return!1},update:function(o,a,l,d,f){var g=document.createElement("div"),p=c.getTaskPosition(o);f.y=0,f.y_end=c.$task_bg.scrollHeight,o.$rollup.forEach(function(m){var y=c.getTask(m),v=n(y.id,o.id),b=e(y,f,l,d,c);if(b!==!!r[v])if(b){var k=t(o,y,l,p);r[v]=k||!1}else r[v]=!1;r[v]&&g.appendChild(r[v]),a.innerHTML="",a.appendChild(g)})},isInViewPort:u,getVisibleRange:s}}},function(A,E,h){var _=h(19);A.exports=function(u,s,c,i,r){if(!r.isSplitTask(u))return!1;var e=r.getSubtaskDates(u.id);return _({id:u.id,start_date:e.start_date,end_date:e.end_date,parent:u.parent},s,c,r)}},function(A,E,h){var _=h(28),u=h(6),s=h(114),c=h(19);A.exports=function(i){var r=_(i),e={};function t(l,d,f,g,p){var m=!l.hide_bar;return g.smart_rendering&&m&&(m=c(l,d,f,g,p)),m}function n(l,d,f,g){if(!d.hide_bar){var p=i.isSummaryTask(d);p&&i.resetProjectDates(d);var m=i.copy(i.getTask(d.id));if(m.$rendered_at=l.id,i.callEvent("onBeforeSplitTaskDisplay",[m.id,m,l.id])!==!1){var y=r(m,f);if(y){var v=f.getBarHeight(l.id,d.type==i.config.types.milestone),b=Math.floor((f.getItemHeight(l.id)-v)/2);return y.style.top=g.top+b+"px",y.classList.add("gantt_split_child"),p&&y.classList.add("gantt_split_subproject"),y}}}}function o(l,d){return l+"_"+d}function a(l,d){return i.isSplitTask(l)&&(d.open_split_tasks&&!l.$open||!d.open_split_tasks)&&i.hasChild(l.id)}return{render:function(l,d,f,g){if(a(l,f)){var p=document.createElement("div"),m=i.getTaskPosition(l);return i.hasChild(l.id)&&i.eachTask(function(y){if(t(y,g,d,f,i)){var v=n(l,y,d,m);v?(e[o(y.id,l.id)]=v,p.appendChild(v)):e[o(y.id,l.id)]=!1}},l.id),p}return!1},update:function(l,d,f,g,p){if(a(l,g)){var m=document.createElement("div"),y=i.getTaskPosition(l);i.eachTask(function(v){var b=o(v.id,l.id),k=t(v,p,f,g,i);if(k!==!!e[b])if(k){var $=n(l,v,f,y);e[b]=$||!1}else e[b]=!1;e[b]&&m.appendChild(e[b]),d.innerHTML="",d.appendChild(m)},l.id)}},isInViewPort:s,getVisibleRange:u}}},function(A,E,h){var _=h(19),u=h(6),s=h(28);A.exports=function(c){return{render:s(c),update:null,isInViewPort:_,getVisibleRange:u}}},function(A,E){A.exports=function(h){return function(u,s,c){c=="keepDates"?function(i,r){r=="duration"?i.end_date=h.calculateEndDate(i):r!="end_date"&&r!="start_date"||(i.duration=h.calculateDuration(i))}(u,s):c=="keepDuration"?function(i,r){r=="end_date"?i.start_date=_(i):r!="start_date"&&r!="duration"||(i.end_date=h.calculateEndDate(i))}(u,s):function(i,r){h.config.schedule_from_end?r=="end_date"||r=="duration"?i.start_date=_(i):r=="start_date"&&(i.duration=h.calculateDuration(i)):r=="start_date"||r=="duration"?i.end_date=h.calculateEndDate(i):r=="end_date"&&(i.duration=h.calculateDuration(i))}(u,s)};function _(u){return h.calculateEndDate({start_date:u.end_date,duration:-u.duration,task:u})}}},function(A,E,h){A.exports=function(_){var u=h(10)(_),s=h(0);function c(){return u.apply(this,arguments)||this}function i(r){return r.formatter||_.ext.formatters.durationFormatter()}return h(3)(c,u),s.mixin(c.prototype,{show:function(r,e,t,n){var o="<div role='cell'><input type='text' name='".concat(e.name,"' title='").concat(e.name,"'></div>");n.innerHTML=o},set_value:function(r,e,t,n){this.get_input(n).value=i(t.editor).format(r)},get_value:function(r,e,t){return i(e.editor).parse(this.get_input(t).value||"")}},!0),c}},function(A,E,h){A.exports=function(_){var u=h(10)(_),s=h(0);function c(){return u.apply(this,arguments)||this}function i(o){return o.formatter||_.ext.formatters.linkFormatter()}function r(o,a){for(var l=(o||"").split(a.delimiter||","),d=0;d<l.length;d++){var f=l[d].trim();f?l[d]=f:(l.splice(d,1),d--)}return l.sort(),l}function e(o,a,l){for(var d=o.$target,f=[],g=0;g<d.length;g++){var p=l.getLink(d[g]);f.push(i(a).format(p))}return f.join((a.delimiter||",")+" ")}function t(o){return o.source+"_"+o.target+"_"+o.type+"_"+(o.lag||0)}function n(o,a,l){var d=function(y,v,b){var k=[];return v.forEach(function($){var w=i(b).parse($);w&&(w.target=y,w.id="predecessor_generated",_.isLinkAllowed(w)&&(w.id=void 0,k.push(w)))}),k}(o.id,a,l),f={};o.$target.forEach(function(y){var v=_.getLink(y);f[t(v)]=v.id});var g=[];d.forEach(function(y){var v=t(y);f[v]?delete f[v]:g.push(y)});var p=[];for(var m in f)p.push(f[m]);return{add:g,remove:p}}return h(3)(c,u),s.mixin(c.prototype,{show:function(o,a,l,d){var f="<div role='cell'><input type='text' name='".concat(a.name,"' title='").concat(a.name,"'></div>");d.innerHTML=f},hide:function(){},set_value:function(o,a,l,d){this.get_input(d).value=e(o,l.editor,_)},get_value:function(o,a,l){return r(this.get_input(l).value||"",a.editor)},save:function(o,a,l){var d=n(_.getTask(o),this.get_value(o,a,l),a.editor);(d.add.length||d.remove.length)&&_.batchUpdate(function(){d.add.forEach(function(f){_.addLink(f)}),d.remove.forEach(function(f){_.deleteLink(f)}),_.autoSchedule&&_.autoSchedule()})},is_changed:function(o,a,l,d){var f=this.get_value(a,l,d),g=r(e(o,l.editor,_),l.editor);return f.join()!==g.join()}},!0),c}},function(A,E,h){A.exports=function(_){var u=h(10)(_),s=h(0),c="%Y-%m-%d",i=null,r=null;function e(){return u.apply(this,arguments)||this}return h(3)(e,u),s.mixin(e.prototype,{show:function(t,n,o,a){i||(i=_.date.date_to_str(c)),r||(r=_.date.str_to_date(c));var l=null,d=null;l=typeof o.min=="function"?o.min(t,n):o.min,d=typeof o.max=="function"?o.max(t,n):o.max;var f=l?" min='"+i(l)+"' ":"",g=d?" max='"+i(d)+"' ":"",p="<div style='width:140px' role='cell'><input type='date' ".concat(f," ").concat(g," name='").concat(n.name,"' title='").concat(n.name,"'></div>");a.innerHTML=p},set_value:function(t,n,o,a){t&&t.getFullYear?this.get_input(a).value=i(t):this.get_input(a).value=t},is_valid:function(t,n,o,a){return!(!t||isNaN(t.getTime()))},get_value:function(t,n,o){var a;try{a=r(this.get_input(o).value||"")}catch{a=null}return a}},!0),e}},function(A,E,h){A.exports=function(_){var u=h(10)(_),s=h(0);function c(){return u.apply(this,arguments)||this}return h(3)(c,u),s.mixin(c.prototype,{show:function(i,r,e,t){for(var n="<div role='cell'><select name='".concat(r.name,"' title='").concat(r.name,"'>"),o=[],a=e.options||[],l=0;l<a.length;l++)o.push("<option value='"+e.options[l].key+"'>"+a[l].label+"</option>");n+=o.join("")+"</select></div>",t.innerHTML=n},get_input:function(i){return i.querySelector("select")}},!0),c}},function(A,E,h){A.exports=function(_){var u=h(10)(_),s=h(0);function c(){return u.apply(this,arguments)||this}return h(3)(c,u),s.mixin(c.prototype,{show:function(i,r,e,t){var n=e.min||0,o=e.max||100,a="<div role='cell'><input type='number' min='".concat(n,"' max='").concat(o,"' name='").concat(r.name,"' title='").concat(r.name,"'></div>");t.innerHTML=a},get_value:function(i,r,e){return this.get_input(e).value||""},is_valid:function(i,r,e,t){return!isNaN(parseInt(i,10))}},!0),c}},function(A,E,h){A.exports=function(_){var u=h(10)(_),s=h(0);function c(){return u.apply(this,arguments)||this}return h(3)(c,u),s.mixin(c.prototype,{show:function(i,r,e,t){var n="<div role='cell'><input type='text' name='".concat(r.name,"' title='").concat(r.name,"'></div>");t.innerHTML=n}},!0),c}},function(A,E){A.exports={init:function(h,_){var u=h,s=_.$gantt,c=null,i=s.ext.keyboardNavigation;i.attachEvent("onBeforeFocus",function(r){var e=h.locateCell(r);if(clearTimeout(c),e){var t=e.columnName,n=e.id,o=u.getState();if(u.isVisible()&&o.id==n&&o.columnName===t)return!1}return!0}),i.attachEvent("onFocus",function(r){var e=h.locateCell(r),t=h.getState();return clearTimeout(c),!e||e.id==t.id&&e.columnName==t.columnName||u.isVisible()&&u.save(),!0}),h.attachEvent("onHide",function(){clearTimeout(c)}),i.attachEvent("onBlur",function(){return c=setTimeout(function(){u.save()}),!0}),s.attachEvent("onTaskDblClick",function(r,e){var t=h.getState(),n=h.locateCell(e.target);return!n||!h.isVisible()||n.columnName!=t.columnName}),s.attachEvent("onTaskClick",function(r,e){if(s._is_icon_open_click(e))return!0;var t=h.getState(),n=h.locateCell(e.target);return!n||!h.getEditorConfig(n.columnName)||(h.isVisible()&&t.id==n.id&&t.columnName==n.columnName||h.startEdit(n.id,n.columnName),!1)}),s.attachEvent("onEmptyClick",function(){return u.save(),!0}),i.attachEvent("onKeyDown",function(r,e){var t=h.locateCell(e.target),n=!!t&&h.getEditorConfig(t.columnName),o=h.getState(),a=s.constants.KEY_CODES,l=e.keyCode,d=!1;switch(l){case a.ENTER:h.isVisible()?(h.save(),e.preventDefault(),d=!0):n&&!(e.ctrlKey||e.metaKey||e.shiftKey)&&(u.startEdit(t.id,t.columnName),e.preventDefault(),d=!0);break;case a.ESC:h.isVisible()&&(h.hide(),e.preventDefault(),d=!0);break;case a.UP:case a.DOWN:break;case a.LEFT:case a.RIGHT:(n&&h.isVisible()||o.editorType==="date")&&(d=!0);break;case a.SPACE:h.isVisible()&&(d=!0),n&&!h.isVisible()&&(u.startEdit(t.id,t.columnName),e.preventDefault(),d=!0);break;case a.DELETE:n&&!h.isVisible()?(u.startEdit(t.id,t.columnName),d=!0):n&&h.isVisible()&&(d=!0);break;case a.TAB:if(h.isVisible()){e.shiftKey?h.editPrevCell(!0):h.editNextCell(!0);var f=h.getState();f.id&&i.focus({type:"taskCell",id:f.id,column:f.columnName}),e.preventDefault(),d=!0}break;default:if(h.isVisible())d=!0;else if(l>=48&&l<=57||l>95&&l<112||l>=64&&l<=91||l>185&&l<193||l>218&&l<223){var g=r.modifiers,p=g.alt||g.ctrl||g.meta||g.shift;g.alt||p&&i.getCommandHandler(r,"taskCell")||n&&!h.isVisible()&&(u.startEdit(t.id,t.columnName),d=!0)}}return!d})},onShow:function(h,_,u){},onHide:function(h,_,u){u.$gantt.focus()},destroy:function(){}}},function(A,E){A.exports={init:function(h,_){var u=_.$gantt;u.attachEvent("onTaskClick",function(s,c){if(u._is_icon_open_click(c))return!0;var i=h.getState(),r=h.locateCell(c.target);return!r||!h.getEditorConfig(r.columnName)||(h.isVisible()&&i.id==r.id&&i.columnName==r.columnName||h.startEdit(r.id,r.columnName),!1)}),u.attachEvent("onEmptyClick",function(){return h.isVisible()&&h.isChanged()?h.save():h.hide(),!0}),u.attachEvent("onTaskDblClick",function(s,c){var i=h.getState(),r=h.locateCell(c.target);return!r||!h.isVisible()||r.columnName!=i.columnName})},onShow:function(h,_,u){var s=u.$gantt;s.ext&&s.ext.keyboardNavigation&&s.ext.keyboardNavigation.attachEvent("onKeyDown",function(c,i){var r=s.constants.KEY_CODES,e=!1;switch(i.keyCode){case r.SPACE:h.isVisible()&&(e=!0)}return!e}),_.onkeydown=function(c){c=c||window.event;var i=s.constants.KEY_CODES;if(!(c.defaultPrevented||c.shiftKey&&c.keyCode!=i.TAB)){var r=!0;switch(c.keyCode){case s.keys.edit_save:h.save();break;case s.keys.edit_cancel:h.hide();break;case i.UP:case i.DOWN:h.isVisible()&&(h.hide(),r=!1);break;case i.TAB:c.shiftKey?h.editPrevCell(!0):h.editNextCell(!0);break;default:r=!1}r&&c.preventDefault()}}},onHide:function(){},destroy:function(){}}},function(A,E,h){var _=h(125),u=h(124);A.exports=function(s){var c=null;return{setMapping:function(i){c=i},getMapping:function(){return c||(s.config.keyboard_navigation_cells&&s.ext.keyboardNavigation?u:_)}}}},function(A,E,h){var _=h(126),u=h(123),s=h(122),c=h(121),i=h(120),r=h(119),e=h(118),t=h(0),n=h(1),o=h(5),a=h(117);function l(d){d.config.editor_types={text:new(u(d)),number:new(s(d)),select:new(c(d)),date:new(i(d)),predecessor:new(r(d)),duration:new(e(d))}}A.exports=function(d){var f=_(d),g={};o(g);var p={init:l,createEditors:function(m){function y(x,T){var D=m.$getConfig(),I=function(H,F){for(var Y=m.$getConfig(),q=m.getItemTop(H),L=m.getItemHeight(H),N=m.getGridColumns(),G=0,O=0,V=0,K=0;K<N.length;K++){if(N[K].name==F){V=N[K].width;break}Y.rtl?O+=N[K].width:G+=N[K].width}return Y.rtl?{top:q,right:O,height:L,width:V}:{top:q,left:G,height:L,width:V}}(x,T),P=document.createElement("div");P.className="gantt_grid_editor_placeholder",P.setAttribute(m.$config.item_attribute,x),P.setAttribute(m.$config.bind+"_id",x),P.setAttribute("data-column-name",T);var R=function(H,F){for(var Y=H.getGridColumns(),q=0;q<Y.length;q++)if(Y[q].name==F)return q;return 0}(m,T);return P.setAttribute("data-column-index",R),d._waiAria.inlineEditorAttr(P),D.rtl?P.style.cssText=["top:"+I.top+"px","right:"+I.right+"px","width:"+I.width+"px","height:"+I.height+"px"].join(";"):P.style.cssText=["top:"+I.top+"px","left:"+I.left+"px","width:"+I.width+"px","height:"+I.height+"px"].join(";"),P}var v=a(d),b=[],k=[],$=null,w={_itemId:null,_columnName:null,_editor:null,_editorType:null,_placeholder:null,locateCell:function(x){if(!n.isChildOf(x,m.$grid))return null;var T=n.locateAttribute(x,m.$config.item_attribute),D=n.locateAttribute(x,"data-column-name");if(T&&D){var I=D.getAttribute("data-column-name");return{id:T.getAttribute(m.$config.item_attribute),columnName:I}}return null},getEditorConfig:function(x){return m.getColumn(x).editor},init:function(){var x=f.getMapping();x.init&&x.init(this,m),$=m.$gantt.getDatastore(m.$config.bind);var T=this;b.push($.attachEvent("onIdChange",function(D,I){T._itemId==D&&(T._itemId=I)})),b.push($.attachEvent("onStoreUpdated",function(){m.$gantt.getState("batchUpdate").batch_update||T.isVisible()&&!$.isVisible(T._itemId)&&T.hide()})),k.push(d.attachEvent("onDataRender",function(){T._editor&&T._placeholder&&!n.isChildOf(T._placeholder,d.$root)&&m.$grid_data.appendChild(T._placeholder)})),this.init=function(){}},getState:function(){return{editor:this._editor,editorType:this._editorType,placeholder:this._placeholder,id:this._itemId,columnName:this._columnName}},startEdit:function(x,T){if(this.isVisible()&&this.save(),$.exists(x)){var D={id:x,columnName:T};d.isReadonly($.getItem(x))?this.callEvent("onEditPrevent",[D]):this.callEvent("onBeforeEditStart",[D])!==!1?(this.show(D.id,D.columnName),this.setValue(),this.callEvent("onEditStart",[D])):this.callEvent("onEditPrevent",[D])}},isVisible:function(){return!(!this._editor||!n.isChildOf(this._placeholder,d.$root))},show:function(x,T){this.isVisible()&&this.save();var D={id:x,columnName:T},I=m.getColumn(D.columnName),P=this.getEditorConfig(I.name);if(P){var R=m.$getConfig().editor_types[P.type],H=y(D.id,D.columnName);m.$grid_data.appendChild(H),R.show(D.id,I,P,H),this._editor=R,this._placeholder=H,this._itemId=D.id,this._columnName=D.columnName,this._editorType=P.type;var F=f.getMapping();F.onShow&&F.onShow(this,H,m)}},setValue:function(){var x=this.getState(),T=x.id,D=x.columnName,I=m.getColumn(D),P=$.getItem(T),R=this.getEditorConfig(D);if(R){var H=P[R.map_to];R.map_to=="auto"&&(H=$.getItem(T)),this._editor.set_value(H,T,I,this._placeholder),this.focus()}},focus:function(){this._editor.focus(this._placeholder)},getValue:function(){var x=m.getColumn(this._columnName);return this._editor.get_value(this._itemId,x,this._placeholder)},_getItemValue:function(){var x=this.getEditorConfig(this._columnName);if(x){var T=d.getTask(this._itemId)[x.map_to];return x.map_to=="auto"&&(T=$.getItem(this._itemId)),T}},isChanged:function(){var x=m.getColumn(this._columnName),T=this._getItemValue();return this._editor.is_changed(T,this._itemId,x,this._placeholder)},hide:function(){if(this._itemId){var x=this._itemId,T=this._columnName,D=f.getMapping();D.onHide&&D.onHide(this,this._placeholder,m),this._itemId=null,this._columnName=null,this._editorType=null,this._placeholder&&(this._editor&&this._editor.hide&&this._editor.hide(this._placeholder),this._editor=null,this._placeholder.parentNode&&this._placeholder.parentNode.removeChild(this._placeholder),this._placeholder=null,this.callEvent("onEditEnd",[{id:x,columnName:T}]))}},save:function(){if(this.isVisible()&&$.exists(this._itemId)&&this.isChanged()){var x=this._itemId,T=this._columnName;if($.exists(x)){var D=$.getItem(x),I=this.getEditorConfig(T),P={id:x,columnName:T,newValue:this.getValue(),oldValue:this._getItemValue()};if(this.callEvent("onBeforeSave",[P])!==!1&&(!this._editor.is_valid||this._editor.is_valid(P.newValue,P.id,m.getColumn(T),this._placeholder))){var R=I.map_to,H=P.newValue;R!="auto"?(D[R]=H,v(D,R,d.config.inline_editors_date_processing),$.updateItem(x)):this._editor.save(x,m.getColumn(T),this._placeholder),this.callEvent("onSave",[P])}this.hide()}}else this.hide()},_findEditableCell:function(x,T){var D=x,I=m.getGridColumns()[D],P=I?I.name:null;if(P){for(;P&&!this.getEditorConfig(P);)P=this._findEditableCell(x+T,T);return P}return null},getNextCell:function(x){return this._findEditableCell(m.getColumnIndex(this._columnName,!0)+x,x)},getFirstCell:function(){return this._findEditableCell(0,1)},getLastCell:function(){return this._findEditableCell(m.getGridColumns().length-1,-1)},editNextCell:function(x){var T=this.getNextCell(1);if(T){var D=this.getNextCell(1);D&&this.getEditorConfig(D)&&this.startEdit(this._itemId,D)}else if(x&&this.moveRow(1)){var I=this.moveRow(1);(T=this.getFirstCell())&&this.getEditorConfig(T)&&this.startEdit(I,T)}},editPrevCell:function(x){var T=this.getNextCell(-1);if(T){var D=this.getNextCell(-1);D&&this.getEditorConfig(D)&&this.startEdit(this._itemId,D)}else if(x&&this.moveRow(-1)){var I=this.moveRow(-1);(T=this.getLastCell())&&this.getEditorConfig(T)&&this.startEdit(I,T)}},moveRow:function(x){for(var T=x>0?d.getNext:d.getPrev,D=(T=d.bind(T,d))(this._itemId);d.isTaskExists(D)&&d.isReadonly(d.getTask(D));)D=T(D);return D},editNextRow:function(x){var T=this.getState().id;if(d.isTaskExists(T)){var D=null;D=x?this.moveRow(1):d.getNext(T),d.isTaskExists(D)&&this.startEdit(D,this._columnName)}},editPrevRow:function(x){var T=this.getState().id;if(d.isTaskExists(T)){var D=null;D=x?this.moveRow(-1):d.getPrev(T),d.isTaskExists(D)&&this.startEdit(D,this._columnName)}},destructor:function(){b.forEach(function(x){$.detachEvent(x)}),k.forEach(function(x){d.detachEvent(x)}),b=[],k=[],$=null,this.hide(),this.detachAllEvents()}};return t.mixin(w,f),t.mixin(w,g),w}};return t.mixin(p,f),t.mixin(p,g),p}},function(A,E){A.exports={create:function(){return{render:function(){},destroy:function(){}}}}},function(A,E,h){var _=h(3),u=h(1),s=h(0),c=h(11),i=function(r){var e=["altKey","shiftKey","metaKey"];function t(n,o,a,l){var d=r.apply(this,arguments)||this;this.$config=s.mixin(o,{scroll:"x"}),d._scrollHorizontalHandler=s.bind(d._scrollHorizontalHandler,d),d._scrollVerticalHandler=s.bind(d._scrollVerticalHandler,d),d._outerScrollVerticalHandler=s.bind(d._outerScrollVerticalHandler,d),d._outerScrollHorizontalHandler=s.bind(d._outerScrollHorizontalHandler,d),d._mouseWheelHandler=s.bind(d._mouseWheelHandler,d),this.$config.hidden=!0;var f=l.config.scroll_size;return l.env.isIE&&(f+=1),this._isHorizontal()?(d.$config.height=f,d.$parent.$config.height=f):(d.$config.width=f,d.$parent.$config.width=f),this.$config.scrollPosition=0,d.$name="scroller",d}return _(t,r),t.prototype.init=function(n){n.innerHTML=this.$toHTML(),this.$view=n.firstChild,this.$view||this.init(),this._isVertical()?this._initVertical():this._initHorizontal(),this._initMouseWheel(),this._initLinkedViews()},t.prototype.$toHTML=function(){return"<div class='gantt_layout_cell "+(this._isHorizontal()?"gantt_hor_scroll":"gantt_ver_scroll")+"'><div style='"+(this._isHorizontal()?"width:2000px":"height:2000px")+"'></div></div>"},t.prototype._getRootParent=function(){for(var n=this.$parent;n&&n.$parent;)n=n.$parent;if(n)return n},t.prototype._eachView=function(){var n=[];return function o(a,l){if(l.push(a),a.$cells)for(var d=0;d<a.$cells.length;d++)o(a.$cells[d],l)}(this._getRootParent(),n),n},t.prototype._getLinkedViews=function(){for(var n=this._eachView(),o=[],a=0;a<n.length;a++)n[a].$config&&(this._isVertical()&&n[a].$config.scrollY==this.$id||this._isHorizontal()&&n[a].$config.scrollX==this.$id)&&o.push(n[a]);return o},t.prototype._initHorizontal=function(){this.$scroll_hor=this.$view,this.$domEvents.attach(this.$view,"scroll",this._scrollHorizontalHandler)},t.prototype._initLinkedViews=function(){for(var n=this._getLinkedViews(),o=this._isVertical()?"gantt_layout_outer_scroll gantt_layout_outer_scroll_vertical":"gantt_layout_outer_scroll gantt_layout_outer_scroll_horizontal",a=0;a<n.length;a++)u.addClassName(n[a].$view||n[a].getNode(),o)},t.prototype._initVertical=function(){this.$scroll_ver=this.$view,this.$domEvents.attach(this.$view,"scroll",this._scrollVerticalHandler)},t.prototype._updateLinkedViews=function(){},t.prototype._initMouseWheel=function(){c.isFF?this.$domEvents.attach(this._getRootParent().$view,"wheel",this._mouseWheelHandler,{passive:!1}):this.$domEvents.attach(this._getRootParent().$view,"mousewheel",this._mouseWheelHandler,{passive:!1})},t.prototype.scrollHorizontally=function(n){if(!this._scrolling){this._scrolling=!0,this.$scroll_hor.scrollLeft=n,this.$config.codeScrollLeft=n,n=this.$scroll_hor.scrollLeft;for(var o=this._getLinkedViews(),a=0;a<o.length;a++)o[a].scrollTo&&o[a].scrollTo(n,void 0);var l=this.$config.scrollPosition;this.$config.scrollPosition=n,this.callEvent("onScroll",[l,n,this.$config.scroll]),this._scrolling=!1}},t.prototype.scrollVertically=function(n){if(!this._scrolling){this._scrolling=!0,this.$scroll_ver.scrollTop=n,n=this.$scroll_ver.scrollTop;for(var o=this._getLinkedViews(),a=0;a<o.length;a++)o[a].scrollTo&&o[a].scrollTo(void 0,n);var l=this.$config.scrollPosition;this.$config.scrollPosition=n,this.callEvent("onScroll",[l,n,this.$config.scroll]),this._scrolling=!1}},t.prototype._isVertical=function(){return this.$config.scroll=="y"},t.prototype._isHorizontal=function(){return this.$config.scroll=="x"},t.prototype._scrollHorizontalHandler=function(n){if(!this._isVertical()&&!this._scrolling){if(new Date-(this._wheel_time||0)<100)return!0;var o=this.$scroll_hor.scrollLeft;this.scrollHorizontally(o),this._oldLeft=this.$scroll_hor.scrollLeft}},t.prototype._outerScrollHorizontalHandler=function(n){this._isVertical()},t.prototype.show=function(){this.$parent.show()},t.prototype.hide=function(){this.$parent.hide()},t.prototype._getScrollSize=function(){for(var n,o=0,a=0,l=this._isHorizontal(),d=this._getLinkedViews(),f=l?"scrollWidth":"scrollHeight",g=l?"contentX":"contentY",p=l?"x":"y",m=this._getScrollOffset(),y=0;y<d.length;y++)if((n=d[y])&&n.$content&&n.$content.getSize&&!n.$config.hidden){var v,b=n.$content.getSize();if(v=b.hasOwnProperty(f)?b[f]:b[g],m)b[g]>b[p]&&b[g]>o&&v>b[p]-m+2&&(o=v+(l?0:2),a=b[p]);else{var k=Math.max(b[g]-v,0);(v+=k)>Math.max(b[p]-k,0)&&v>o&&(o=v,a=b[p])}}return{outerScroll:a,innerScroll:o}},t.prototype.scroll=function(n){this._isHorizontal()?this.scrollHorizontally(n):this.scrollVertically(n)},t.prototype.getScrollState=function(){return{visible:this.isVisible(),direction:this.$config.scroll,size:this.$config.outerSize,scrollSize:this.$config.scrollSize||0,position:this.$config.scrollPosition||0}},t.prototype.setSize=function(n,o){r.prototype.setSize.apply(this,arguments);var a=this._getScrollSize(),l=(this._isVertical()?o:n)-this._getScrollOffset()+(this._isHorizontal()?1:0);a.innerScroll&&l>a.outerScroll&&(a.innerScroll+=l-a.outerScroll),this.$config.scrollSize=a.innerScroll,this.$config.width=n,this.$config.height=o,this._setScrollSize(a.innerScroll)},t.prototype.isVisible=function(){return!(!this.$parent||!this.$parent.$view.parentNode)},t.prototype.shouldShow=function(){var n=this._getScrollSize();return!(!n.innerScroll&&this.$parent&&this.$parent.$view.parentNode)&&!(!n.innerScroll||this.$parent&&this.$parent.$view.parentNode)},t.prototype.shouldHide=function(){return!(this._getScrollSize().innerScroll||!this.$parent||!this.$parent.$view.parentNode)},t.prototype.toggleVisibility=function(){this.shouldHide()?this.hide():this.shouldShow()&&this.show()},t.prototype._getScaleOffset=function(n){var o=0;return!n||n.$config.view!="timeline"&&n.$config.view!="grid"||(o=n.$content.$getConfig().scale_height),o},t.prototype._getScrollOffset=function(){var n=0;if(this._isVertical()){var o=this.$parent.$parent;n=Math.max(this._getScaleOffset(o.getPrevSibling(this.$parent.$id)),this._getScaleOffset(o.getNextSibling(this.$parent.$id)))}else for(var a=this._getLinkedViews(),l=0;l<a.length;l++){var d=a[l].$parent.$cells,f=d[d.length-1];if(f&&f.$config.view=="scrollbar"&&f.$config.hidden===!1){n=f.$config.width;break}}return n||0},t.prototype._setScrollSize=function(n){var o=this._isHorizontal()?"width":"height",a=this._isHorizontal()?this.$scroll_hor:this.$scroll_ver,l=this._getScrollOffset(),d=a.firstChild;l?this._isVertical()?(this.$config.outerSize=this.$config.height-l+3,a.style.height=this.$config.outerSize+"px",a.style.top=l-1+"px",u.addClassName(a,this.$parent._borders.top),u.addClassName(a.parentNode,"gantt_task_vscroll")):(this.$config.outerSize=this.$config.width-l+1,a.style.width=this.$config.outerSize+"px"):(a.style.top="auto",u.removeClassName(a,this.$parent._borders.top),u.removeClassName(a.parentNode,"gantt_task_vscroll"),this.$config.outerSize=this.$config.height),d.style[o]=n+"px"},t.prototype._scrollVerticalHandler=function(n){if(!this._scrollHorizontalHandler()&&!this._scrolling){var o=this.$scroll_ver.scrollTop;o!=this._oldTop&&(this.scrollVertically(o),this._oldTop=this.$scroll_ver.scrollTop)}},t.prototype._outerScrollVerticalHandler=function(n){this._scrollHorizontalHandler()},t.prototype._checkWheelTarget=function(n){for(var o=this._getLinkedViews().concat(this),a=0;a<o.length;a++){var l=o[a].$view;if(u.isChildOf(n,l))return!0}return!1},t.prototype._mouseWheelHandler=function(n){var o=n.target||n.srcElement;if(this._checkWheelTarget(o)){this._wheel_time=new Date;var a={},l={x:1,y:1},d=this.$gantt.config.wheel_scroll_sensitivity;typeof d=="number"&&d?l={x:d,y:d}:{}.toString.apply(d)=="[object Object]"&&(l={x:d.x,y:d.y});var f=c.isFF,g=f?n.deltaX:n.wheelDeltaX,p=f?n.deltaY:n.wheelDelta,m=-20;f&&(m=n.deltaMode!==0?-40:-10);var y=f?g*m*l.x:2*g*l.x,v=f?p*m*l.y:p*l.y,b=this.$gantt.config.horizontal_scroll_key;if(b!==!1&&e.indexOf(b)>=0&&(!n[b]||n.deltaX||n.wheelDeltaX||(y=2*v,v=0)),y&&Math.abs(y)>Math.abs(v)){if(this._isVertical())return;if(a.x||!this.$scroll_hor||!this.$scroll_hor.offsetWidth)return!0;var k=y/-40,$=this._oldLeft,w=$+30*k;if(this.scrollHorizontally(w),this.$scroll_hor.scrollLeft=w,$==this.$scroll_hor.scrollLeft)return!0;this._oldLeft=this.$scroll_hor.scrollLeft}else{if(this._isHorizontal())return;if(a.y||!this.$scroll_ver||!this.$scroll_ver.offsetHeight)return!0;k=v/-40,v===void 0&&(k=n.detail);var x=this._oldTop,T=this.$scroll_ver.scrollTop+30*k;if(this.scrollVertically(T),this.$scroll_ver.scrollTop=T,x==this.$scroll_ver.scrollTop)return!0;this._oldTop=this.$scroll_ver.scrollTop}return n.preventDefault&&n.preventDefault(),n.cancelBubble=!0,!1}},t}(h(14));A.exports=i},function(A,E){A.exports=null},function(A,E,h){var _=h(3),u=h(0),s=function(c){function i(r,e,t){var n=c.apply(this,arguments)||this;if(e.view){e.id&&(this.$id=u.uid());var o=u.copy(e);if(delete o.config,delete o.templates,this.$content=this.$factory.createView(e.view,this,o,this),!this.$content)return!1}return n.$name="viewCell",n}return _(i,c),i.prototype.destructor=function(){this.clear(),c.prototype.destructor.call(this)},i.prototype.clear=function(){if(this.$initialized=!1,this.$content){var r=this.$content.unload||this.$content.destructor;r&&r.call(this.$content)}c.prototype.clear.call(this)},i.prototype.scrollTo=function(r,e){this.$content&&this.$content.scrollTo?this.$content.scrollTo(r,e):c.prototype.scrollTo.call(this,r,e)},i.prototype._setContentSize=function(r,e){var t=this._getBorderSizes();if(typeof r=="number"){var n=r+t.horizontal;this.$config.width=n}if(typeof e=="number"){var o=e+t.vertical;this.$config.height=o}},i.prototype.setSize=function(r,e){if(c.prototype.setSize.call(this,r,e),!this.$preResize&&this.$content&&!this.$initialized){this.$initialized=!0;var t=this.$view.childNodes[0],n=this.$view.childNodes[1];n||(n=t),this.$content.init(n)}},i.prototype.setContentSize=function(){!this.$preResize&&this.$content&&this.$initialized&&this.$content.setSize(this.$lastSize.contentX,this.$lastSize.contentY)},i.prototype.getContentSize=function(){var r=c.prototype.getContentSize.call(this);if(this.$content&&this.$initialized){var e=this.$content.getSize();r.width=e.contentX===void 0?e.width:e.contentX,r.height=e.contentY===void 0?e.height:e.contentY}var t=this._getBorderSizes();return r.width+=t.horizontal,r.height+=t.vertical,r},i}(h(14));A.exports=s},function(A,E,h){var _=h(3),u=h(38),s=h(14),c=function(i){function r(e,t,n){for(var o=i.apply(this,arguments)||this,a=0;a<o.$cells.length;a++)o.$cells[a].$config.hidden=a!==0;return o.$cell=o.$cells[0],o.$name="viewLayout",o}return _(r,i),r.prototype.cell=function(e){var t=i.prototype.cell.call(this,e);return t.$view||this.$fill(null,this),t},r.prototype.moveView=function(e){var t=this.$view;this.$cell&&(this.$cell.$config.hidden=!0,t.removeChild(this.$cell.$view)),this.$cell=e,t.appendChild(e.$view)},r.prototype.setSize=function(e,t){s.prototype.setSize.call(this,e,t)},r.prototype.setContentSize=function(){var e=this.$lastSize;this.$cell.setSize(e.contentX,e.contentY)},r.prototype.getSize=function(){var e=i.prototype.getSize.call(this);if(this.$cell){var t=this.$cell.getSize();if(this.$config.byMaxSize)for(var n=0;n<this.$cells.length;n++){var o=this.$cells[n].getSize();for(var a in t)t[a]=Math.max(t[a],o[a])}for(var l in e)e[l]=e[l]||t[l];e.gravity=Math.max(e.gravity,t.gravity)}return e},r}(u);A.exports=c},function(A,E){A.exports=function(h,_,u){if(!h.start_date||!h.end_date)return null;var s=_.posFromDate(h.start_date),c=_.posFromDate(h.end_date),i=Math.min(s,c)-200,r=Math.max(s,c)+200;return{top:_.getItemTop(h.id),height:_.getItemHeight(h.id),left:i,width:r-i}}},function(A,E,h){var _=h(133);A.exports=function(u,s,c,i){if(!i.isTaskExists(u.source)||!i.isTaskExists(u.target))return null;var r=_(i.getTask(u.source),s,i),e=_(i.getTask(u.target),s,i);if(!r||!e)return null;var t=Math.min(r.left,e.left)-100,n=Math.max(r.left+r.width,e.left+e.width)+100,o=Math.min(r.top,e.top)-100,a=Math.max(r.top+r.height,e.top+e.height)+100;return{top:o,height:a-o,bottom:a,left:t,width:n-t,right:n}}},function(A,E){A.exports=function(h,_){return!!_&&!(_.left>h.x_end||_.left+_.width<h.x)&&!(_.top>h.y_end||_.top+_.height<h.y)}},function(A,E,h){var _=h(135),u=h(20),s=h(30),c=h(6);A.exports=function(i){var r={},e={};function t(o){var a=null;return typeof o.view=="string"?a=i.$ui.getView(o.view):o.view&&(a=o.view),a}function n(o,a,l){if(e[o])return e[o];a.renderer||i.assert(!1,"Invalid renderer call");var d=null,f=null,g=null,p=null,m=null;typeof a.renderer=="function"?(d=a.renderer,g=s):(d=a.renderer.render,f=a.renderer.update,p=a.renderer.onrender,a.renderer.isInViewPort?m=a.renderer.isInViewPort:g=a.renderer.getRectangle,g||g===null||(g=s));var y=a.filter;return l&&l.setAttribute(i.config.layer_attribute,!0),e[o]={render_item:function(v,b,k,$,w){if(b=b||l,!y||y(v)){var x=$||t(a),T=w||(x?x.$getConfig():null),D=k;!D&&T&&T.smart_rendering&&(D=x.getViewPort());var I=null;!u(i)&&(g||m)&&D?(m?m(v,D,x,T,i):_(D,g(v,x,T,i)))&&(I=d.call(i,v,x,T,D)):I=d.call(i,v,x,T,D),this.append(v,I,b);var P=b.nodeType==11;p&&!P&&I&&p.call(i,v,I,x)}else this.remove_item(v.id)},clear:function(v){this.rendered=r[o]={},a.append||this.clear_container(v)},clear_container:function(v){(v=v||l)&&(v.innerHTML="")},get_visible_range:function(v){var b,k,$=t(a),w=$?$.$getConfig():null;return w&&w.smart_rendering&&(b=$.getViewPort()),$&&b&&(typeof a.renderer=="function"?k=c(i,$,w,v,b):a.renderer&&a.renderer.getVisibleRange&&(k=a.renderer.getVisibleRange(i,$,w,v,b))),k||(k={start:0,end:v.count()}),k},prepare_data:function(v){if(a.renderer&&a.renderer.prepareData)return a.renderer.prepareData(v,i,a)},render_items:function(v,b){b=b||l;var k=document.createDocumentFragment();this.clear(b);var $=null,w=t(a),x=w?w.$getConfig():null;x&&x.smart_rendering&&($=w.getViewPort());for(var T=0,D=v.length;T<D;T++)this.render_item(v[T],k,$,w,x);b.appendChild(k,b);var I={};v.forEach(function(H){I[H.id]=H});var P={};if(p){var R={};for(var T in this.rendered)P[T]||(R[T]=this.rendered[T],p.call(i,I[T],this.rendered[T],w))}},update_items:function(v,b){var k=t(a),$=k?k.$getConfig():null;if(k&&k.$getConfig().smart_rendering&&!u(i)&&this.rendered&&(g||m)){b=b||l;var w=document.createDocumentFragment(),x=null;k&&(x=k.getViewPort());var T={};v.forEach(function(L){T[L.id]=L});var D={},I={};for(var P in this.rendered)I[P]=!0,D[P]=!0;for(var R={},H=(P=0,v.length);P<H;P++){var F=v[P],Y=this.rendered[F.id];I[F.id]=!1,Y&&Y.parentNode?(m?m(F,x,k,$,i):_(x,g(F,k,$,i)))?(f&&f.call(i,F,Y,k,$,x),this.restore(F,w)):I[F.id]=!0:(R[v[P].id]=!0,this.render_item(v[P],w,x,k,$))}for(var P in I)I[P]&&this.hide(P);if(w.childNodes.length&&b.appendChild(w,b),p){var q={};for(var P in this.rendered)D[P]&&!R[P]||(q[P]=this.rendered[P],p.call(i,T[P],this.rendered[P],k))}}},append:function(v,b,k){this.rendered&&(b?(this.rendered[v.id]&&this.rendered[v.id].parentNode?this.replace_item(v.id,b):k.appendChild(b),this.rendered[v.id]=b):this.rendered[v.id]&&this.remove_item(v.id))},replace_item:function(v,b){var k=this.rendered[v];k&&k.parentNode&&k.parentNode.replaceChild(b,k),this.rendered[v]=b},remove_item:function(v){this.hide(v),delete this.rendered[v]},hide:function(v){var b=this.rendered[v];b&&b.parentNode&&b.parentNode.removeChild(b)},restore:function(v,b){var k=this.rendered[v.id];k?k.parentNode||this.append(v,k,b||l):this.render_item(v,b||l)},change_id:function(v,b){this.rendered[b]=this.rendered[v],delete this.rendered[v]},rendered:r[o],node:l,destructor:function(){this.clear(),delete e[o],delete r[o]}},e[o]}return{getRenderer:n,clearRenderers:function(){for(var o in e)n(o).destructor()}}}},function(A,E,h){var _=h(136),u=h(0),s=h(1),c=h(20);function i(r){return r instanceof Array||(r=Array.prototype.slice.call(arguments,0)),function(e){for(var t=!0,n=0,o=r.length;n<o;n++){var a=r[n];a&&(t=t&&a(e.id,e)!==!1)}return t}}A.exports=function(r){var e=_(r);return{createGroup:function(t,n,o,a){var l={tempCollection:[],renderers:{},container:t,filters:[],getLayers:function(){this._add();var d=[];for(var f in this.renderers)d.push(this.renderers[f]);return d},getLayer:function(d){return this.renderers[d]},_add:function(d){d&&(d.id=d.id||u.uid(),this.tempCollection.push(d));for(var f=this.container(),g=this.tempCollection,p=0;p<g.length;p++)if(d=g[p],this.container()||d&&d.container&&s.isChildOf(d.container,document.body)){var m=d.container,y=d.id,v=d.topmost;if(!m.parentNode)if(v)f.appendChild(m);else{var b=n?n():f.firstChild;b&&b.parentNode==f?f.insertBefore(m,b):f.appendChild(m)}this.renderers[y]=e.getRenderer(y,d,m),a&&a(d,r),this.tempCollection.splice(p,1),p--}},addLayer:function(d){if(d){typeof d=="function"&&(d={renderer:d}),d.filter===void 0?d.filter=i(o||[]):d.filter instanceof Array&&(d.filter.push(o),d.filter=i(d.filter)),d.container||(d.container=document.createElement("div"));var f=this;d.requestUpdate=function(){r.config.smart_rendering&&!c(r)&&f.renderers[d.id]&&f.onUpdateRequest(f.renderers[d.id])}}return this._add(d),d?d.id:void 0},onUpdateRequest:function(d){},eachLayer:function(d){for(var f in this.renderers)d(this.renderers[f])},removeLayer:function(d){this.renderers[d]&&(this.renderers[d].destructor(),delete this.renderers[d])},clear:function(){for(var d in this.renderers)this.renderers[d].destructor();this.renderers={}}};return r.attachEvent("onDestroy",function(){l.clear(),l=null}),l}}}},function(A,E,h){var _=h(137),u=h(6),s=h(40),c=h(39);function i(r,e){if(r.view){var t=r.view;typeof t=="string"&&(t=e.$ui.getView(t)),t&&t.attachEvent&&t.attachEvent("onScroll",function(){e.$services.getService("state").getState("batchUpdate").batch_update||t.$config.$skipSmartRenderOnScroll||r.requestUpdate&&r.requestUpdate()})}}A.exports=function(r){var e=_(r);return{getDataRender:function(t){return r.$services.getService("layer:"+t)||null},createDataRender:function(t){var n=t.name,o=t.defaultContainer,a=t.defaultContainerSibling,l=e.createGroup(o,a,function(d,f){if(!l.filters)return!0;for(var g=0;g<l.filters.length;g++)if(l.filters[g](d,f)===!1)return!1},i);return r.$services.setService("layer:"+n,function(){return l}),r.attachEvent("onGanttReady",function(){l.addLayer()}),l},init:function(){var t=this.createDataRender({name:"task",defaultContainer:function(){return r.$task_data?r.$task_data:r.$ui.getView("timeline")?r.$ui.getView("timeline").$task_data:void 0},defaultContainerSibling:function(){return r.$task_links?r.$task_links:r.$ui.getView("timeline")?r.$ui.getView("timeline").$task_links:void 0},filter:function(o){}},r),n=this.createDataRender({name:"link",defaultContainer:function(){return r.$task_data?r.$task_data:r.$ui.getView("timeline")?r.$ui.getView("timeline").$task_data:void 0}},r);return{addTaskLayer:function(o){var a=u;return typeof o=="function"?o={renderer:{render:o,getVisibleRange:a}}:o.renderer&&!o.renderer.getVisibleRange&&(o.renderer.getVisibleRange=a),o.view="timeline",t.addLayer(o)},_getTaskLayers:function(){return t.getLayers()},removeTaskLayer:function(o){t.removeLayer(o)},_clearTaskLayers:function(){t.clear()},addLinkLayer:function(o){var a=s();return typeof o=="function"?o={renderer:{render:o,getVisibleRange:a}}:o.renderer&&!o.renderer.getVisibleRange&&(o.renderer.getVisibleRange=a),o.view="timeline",o&&o.renderer&&(o.renderer.getRectangle||o.renderer.isInViewPort||(o.renderer.isInViewPort=c)),n.addLayer(o)},_getLinkLayers:function(){return n.getLayers()},removeLinkLayer:function(o){n.removeLayer(o)},_clearLinkLayers:function(){n.clear()}}}}}},function(A,E,h){var _=function(u){return function(s){var c={click:{},doubleclick:{},contextMenu:{}};function i(f,g,p,m){c[f][g]||(c[f][g]=[]),c[f][g].push({handler:p,root:m})}function r(f){f=f||window.event;var g=s.locate(f),p=t(f,c.click),m=!0;if(g!==null?m=!s.checkEvent("onTaskClick")||s.callEvent("onTaskClick",[g,f]):s.callEvent("onEmptyClick",[f]),m){if(!n(p,f,g))return;switch(f.target.nodeName){case"SELECT":case"INPUT":return}g&&s.getTask(g)&&!s._multiselect&&s.config.select_task&&s.selectTask(g)}}function e(f){var g=(f=f||window.event).target||f.srcElement,p=s.locate(g),m=s.locate(g,s.config.link_attribute),y=!s.checkEvent("onContextMenu")||s.callEvent("onContextMenu",[p,m,f]);return y||(f.preventDefault?f.preventDefault():f.returnValue=!1),y}function t(f,g){for(var p=f.target||f.srcElement,m=[];p;){var y=u.getClassName(p);if(y){y=y.split(" ");for(var v=0;v<y.length;v++)if(y[v]&&g[y[v]])for(var b=g[y[v]],k=0;k<b.length;k++)b[k].root&&!u.isChildOf(p,b[k].root)||m.push(b[k].handler)}p=p.parentNode}return m}function n(f,g,p){for(var m=!0,y=0;y<f.length;y++){var v=f[y].call(s,g,p,g.target||g.srcElement);m=m&&!(v!==void 0&&v!==!0)}return m}function o(f){f=f||window.event;var g=s.locate(f),p=t(f,c.doubleclick),m=!s.checkEvent("onTaskDblClick")||g===null||s.callEvent("onTaskDblClick",[g,f]);if(m){if(!n(p,f,g))return;g!==null&&s.getTask(g)&&m&&s.config.details_on_dblclick&&!s.isReadonly(g)&&s.showLightbox(g)}}function a(f){if(s.checkEvent("onMouseMove")){var g=s.locate(f);s._last_move_event=f,s.callEvent("onMouseMove",[g,f])}}var l=s._createDomEventScope();function d(f){l.detachAll(),f&&(l.attach(f,"click",r),l.attach(f,"dblclick",o),l.attach(f,"mousemove",a),l.attach(f,"contextmenu",e))}return{reset:d,global:function(f,g,p){i(f,g,p,null)},delegate:i,detach:function(f,g,p,m){if(c[f]&&c[f][g]){for(var y=c[f],v=y[g],b=0;b<v.length;b++)v[b].root==m&&(v.splice(b,1),b--);v.length||delete y[g]}},callHandler:function(f,g,p,m){var y=c[f][g];if(y)for(var v=0;v<y.length;v++)(p||y[v].root)&&y[v].root!==p||y[v].handler.apply(this,m)},onDoubleClick:o,onMouseMove:a,onContextMenu:e,onClick:r,destructor:function(){d(),c=null,l=null}}}}(h(1));A.exports={init:_}},function(A,E,h){var _=h(0);function u(s,c){var i=this.$config[s];return i?(i.$extendedConfig||(i.$extendedConfig=!0,Object.setPrototypeOf(i,c)),i):c}A.exports=function(s,c){_.mixin(s,function(i){var r,e;return{$getConfig:function(){return r||(r=i?i.$getConfig():this.$gantt.config),this.$config.config?u.call(this,"config",r):r},$getTemplates:function(){return e||(e=i?i.$getTemplates():this.$gantt.templates),this.$config.templates?u.call(this,"templates",e):e}}}(c))}},function(A,E,h){function _(c){"@babel/helpers - typeof";return(_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(c)}var u=h(0),s=h(140);A.exports={createFactory:function(c){var i={},r={};function e(t,n,o,a){var l=i[t];if(!l||!l.create)return!1;t!="resizer"||o.mode||(a.$config.cols?o.mode="x":o.mode="y"),t!="viewcell"||o.view!="scrollbar"||o.scroll||(a.$config.cols?o.scroll="y":o.scroll="x"),(o=u.copy(o)).id||r[o.view]||(o.id=o.view),o.id&&!o.css&&(o.css=o.id+"_cell");var d=new l.create(n,o,this,c);return l.configure&&l.configure(d),s(d,a),d.$id||(d.$id=o.id||c.uid()),d.$parent||_(n)!="object"||(d.$parent=n),d.$config||(d.$config=o),r[d.$id]&&(d.$id=c.uid()),r[d.$id]=d,d}return{initUI:function(t,n){var o="cell";return t.view?o="viewcell":t.resizer?o="resizer":t.rows||t.cols?o="layout":t.views&&(o="multiview"),e.call(this,o,null,t,n)},reset:function(){r={}},registerView:function(t,n,o){i[t]={create:n,configure:o}},createView:e,getView:function(t){return r[t]}}}}},function(A,E,h){var _=h(141),u=h(139),s=h(138),c=h(14),i=h(38),r=h(132),e=h(131),t=h(130),n=h(129),o=h(29),a=h(32),l=h(32),d=h(29),f=h(29),g=h(127),p=h(116),m=h(115),y=h(113),v=h(112),b=h(110),k=h(109),$=h(108),w=h(107),x=h(106),T=h(105),D=h(99),I=h(96);A.exports={init:function(P){function R(q,L){var N=L(P);N.onCreated&&N.onCreated(q),q.attachEvent("onReady",function(){N.onInitialized&&N.onInitialized(q)}),q.attachEvent("onDestroy",function(){N.onDestroyed&&N.onDestroyed(q)})}var H=_.createFactory(P);H.registerView("cell",c),H.registerView("resizer",t),H.registerView("scrollbar",n),H.registerView("layout",i,function(q){(q.$config?q.$config.id:null)==="main"&&R(q,I)}),H.registerView("viewcell",e),H.registerView("multiview",r),H.registerView("timeline",o,function(q){(q.$config?q.$config.id:null)!=="timeline"&&q.$config.bind!="task"||R(q,D)}),H.registerView("grid",a,function(q){(q.$config?q.$config.id:null)!=="grid"&&q.$config.bind!="task"||R(q,T)}),H.registerView("resourceGrid",l),H.registerView("resourceTimeline",d),H.registerView("resourceHistogram",f);var F=s(P),Y=g(P);return P.ext.inlineEditors=Y,P.ext._inlineEditors=Y,Y.init(P),{factory:H,mouseEvents:u.init(P),layersApi:F.init(),render:{gridLine:function(){return k(P)},taskBg:function(){return v(P)},taskBar:function(){return p(P)},taskRollupBar:function(){return y(P)},taskSplitBar:function(){return m(P)},link:function(){return b(P)},resourceRow:function(){return $(P)},resourceHistogram:function(){return w(P)},gridTaskRowResizer:function(){return x(P)}},layersService:{getDataRender:function(q){return F.getDataRender(q,P)},createDataRender:function(q){return F.createDataRender(q,P)}}}}}},function(A,E,h){function _(c){"@babel/helpers - typeof";return(_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(c)}var u=h(0),s=h(1);A.exports=function(c){var i="data-dhxbox",r=null;function e(w,x){var T=w.callback;b.hide(w.box),r=w.box=null,T&&T(x)}function t(w){if(r){var x=w.which||w.keyCode,T=!1;if(k.keyboard){if(x==13||x==32){var D=w.target||w.srcElement;s.getClassName(D).indexOf("gantt_popup_button")>-1&&D.click?D.click():(e(r,!0),T=!0)}x==27&&(e(r,!1),T=!0)}return T?(w.preventDefault&&w.preventDefault(),!(w.cancelBubble=!0)):void 0}}var n=s.getRootNode(c.$root)||document;function o(w){o.cover||(o.cover=document.createElement("div"),o.cover.onkeydown=t,o.cover.className="dhx_modal_cover",document.body.appendChild(o.cover)),o.cover.style.display=w?"inline-block":"none"}function a(w,x,T){return"<div "+c._waiAria.messageButtonAttrString(w)+" class='gantt_popup_button "+("gantt_"+x.toLowerCase().replace(/ /g,"_")+"_button")+"' data-result='"+T+"' result='"+T+"' ><div>"+w+"</div></div>"}function l(w){k.area||(k.area=document.createElement("div"),k.area.className="gantt_message_area",k.area.style[k.position]="5px",document.body.appendChild(k.area)),k.hide(w.id);var x=document.createElement("div");return x.innerHTML="<div>"+w.text+"</div>",x.className="gantt-info gantt-"+w.type,x.onclick=function(){k.hide(w.id),w=null},c._waiAria.messageInfoAttr(x),k.position=="bottom"&&k.area.firstChild?k.area.insertBefore(x,k.area.firstChild):k.area.appendChild(x),w.expire>0&&(k.timers[w.id]=window.setTimeout(function(){k&&k.hide(w.id)},w.expire)),k.pull[w.id]=x,x=null,w.id}function d(){for(var w=[].slice.apply(arguments,[0]),x=0;x<w.length;x++)if(w[x])return w[x]}function f(w,x,T){var D=w.tagName?w:function(R,H,F){var Y=document.createElement("div"),q=u.uid();c._waiAria.messageModalAttr(Y,q),Y.className=" gantt_modal_box gantt-"+R.type,Y.setAttribute(i,1);var L="";if(R.width&&(Y.style.width=R.width),R.height&&(Y.style.height=R.height),R.title&&(L+='<div class="gantt_popup_title">'+R.title+"</div>"),L+='<div class="gantt_popup_text" id="'+q+'"><span>'+(R.content?"":R.text)+'</span></div><div  class="gantt_popup_controls">',H&&(L+=a(d(R.ok,c.locale.labels.message_ok,"OK"),"ok",!0)),F&&(L+=a(d(R.cancel,c.locale.labels.message_cancel,"Cancel"),"cancel",!1)),R.buttons)for(var N=0;N<R.buttons.length;N++){var G=R.buttons[N];_(G)=="object"?L+=a(G.label,G.css||"gantt_"+G.label.toLowerCase()+"_button",G.value||N):L+=a(G,G,N)}if(L+="</div>",Y.innerHTML=L,R.content){var O=R.content;typeof O=="string"&&(O=document.getElementById(O)),O.style.display=="none"&&(O.style.display=""),Y.childNodes[R.title?1:0].appendChild(O)}return Y.onclick=function(V){var K=V.target||V.srcElement;if(K.className||(K=K.parentNode),s.closest(K,".gantt_popup_button")){var J=K.getAttribute("data-result");e(R,J=J=="true"||J!="false"&&J)}},R.box=Y,(H||F)&&(r=R),Y}(w,x,T);w.hidden||o(!0),document.body.appendChild(D);var I=Math.abs(Math.floor(((window.innerWidth||document.documentElement.offsetWidth)-D.offsetWidth)/2)),P=Math.abs(Math.floor(((window.innerHeight||document.documentElement.offsetHeight)-D.offsetHeight)/2));return w.position=="top"?D.style.top="-3px":D.style.top=P+"px",D.style.left=I+"px",D.onkeydown=t,b.focus(D),w.hidden&&b.hide(D),c.callEvent("onMessagePopup",[D]),D}function g(w){return f(w,!0,!1)}function p(w){return f(w,!0,!0)}function m(w){return f(w)}function y(w,x,T){return _(w)!="object"&&(typeof x=="function"&&(T=x,x=""),w={text:w,type:x,callback:T}),w}function v(w,x,T,D){return _(w)!="object"&&(w={text:w,type:x,expire:T,id:D}),w.id=w.id||u.uid(),w.expire=w.expire||k.expire,w}c.event(n,"keydown",t,!0);var b=function(){var w=y.apply(this,arguments);return w.type=w.type||"alert",m(w)};b.hide=function(w){for(;w&&w.getAttribute&&!w.getAttribute(i);)w=w.parentNode;w&&(w.parentNode.removeChild(w),o(!1),c.callEvent("onAfterMessagePopup",[w]))},b.focus=function(w){setTimeout(function(){var x=s.getFocusableNodes(w);x.length&&x[0].focus&&x[0].focus()},1)};var k=function(w,x,T,D){switch((w=v.apply(this,arguments)).type=w.type||"info",w.type.split("-")[0]){case"alert":return g(w);case"confirm":return p(w);case"modalbox":return m(w);default:return l(w)}};k.seed=new Date().valueOf(),k.uid=u.uid,k.expire=4e3,k.keyboard=!0,k.position="top",k.pull={},k.timers={},k.hideAll=function(){for(var w in k.pull)k.hide(w)},k.hide=function(w){var x=k.pull[w];x&&x.parentNode&&(window.setTimeout(function(){x.parentNode.removeChild(x),x=null},2e3),x.className+=" hidden",k.timers[w]&&window.clearTimeout(k.timers[w]),delete k.pull[w])};var $=[];return c.attachEvent("onMessagePopup",function(w){$.push(w)}),c.attachEvent("onAfterMessagePopup",function(w){for(var x=0;x<$.length;x++)$[x]===w&&($.splice(x,1),x--)}),c.attachEvent("onDestroy",function(){o.cover&&o.cover.parentNode&&o.cover.parentNode.removeChild(o.cover);for(var w=0;w<$.length;w++)$[w].parentNode&&$[w].parentNode.removeChild($[w]);$=null,k.area&&k.area.parentNode&&k.area.parentNode.removeChild(k.area),k=null}),{alert:function(){var w=y.apply(this,arguments);return w.type=w.type||"confirm",g(w)},confirm:function(){var w=y.apply(this,arguments);return w.type=w.type||"alert",p(w)},message:k,modalbox:b}}},function(A,E,h){A.exports=function(_){var u=h(0),s=h(11),c=h(15);if(!s.isNode){var i=h(1),r=h(2);_.utils={arrayFind:r.arrayFind,dom:i};var e=h(51)();_.event=e.attach,_.eventRemove=e.detach,_._eventRemoveAll=e.detachAll,_._createDomEventScope=e.extend,u.mixin(_,h(143)(_));var t=h(142).init(_);_.$ui=t.factory,_.$ui.layers=t.render,_.$mouseEvents=t.mouseEvents,_.$services.setService("mouseEvents",function(){return _.$mouseEvents}),_.mixin(_,t.layersApi),h(95)(_),_.$services.setService("layers",function(){return t.layersService});var n=h(94);_.mixin(_,n()),h(93)(_),h(92)(_),h(91)(_),h(90)(_),h(89)(_),h(88)(_),h(87)(_),h(86)(_),h(85)(_),h(80)(_),h(79)(_),h(69)(_),h(68)(_),_.locate=function(o){var a=i.getTargetNode(o);if(i.closest(a,".gantt_task_row"))return null;var l=arguments[1]||this.config.task_attribute,d=i.locateAttribute(a,l);return d?d.getAttribute(l):null},_._locate_css=function(o,a,l){return i.locateClassName(o,a,l)},_._locateHTML=function(o,a){return i.locateAttribute(o,a||this.config.task_attribute)}}_.attachEvent("onParse",function(){c(_)||_.attachEvent("onGanttRender",function(){if(_.config.initial_scroll){var o=_.getTaskByIndex(0),a=o?o.id:_.config.root_id;_.isTaskExists(a)&&_.$task&&_.utils.dom.isChildOf(_.$task,_.$container)&&_.showTask(a)}},{once:!0})}),_.attachEvent("onBeforeGanttReady",function(){this.config.scroll_size||(this.config.scroll_size=i.getScrollSize()||1),c(_)||(this._eventRemoveAll(),this.$mouseEvents.reset(),this.resetLightbox())}),_.attachEvent("onGanttReady",function(){!c(_)&&_.config.rtl&&_.$layout.getCellsByType("viewCell").forEach(function(o){var a=o.$config.scrollX;if(a){var l=_.$ui.getView(a);l&&l.scrollTo(l.$config.scrollSize,0)}})}),_.attachEvent("onGanttReady",function(){if(!c(_)){var o=_.plugins(),a={auto_scheduling:_.autoSchedule,click_drag:_.ext.clickDrag,critical_path:_.isCriticalTask,drag_timeline:_.ext.dragTimeline,export_api:_.exportToPDF,fullscreen:_.ext.fullscreen,grouping:_.groupBy,keyboard_navigation:_.ext.keyboardNavigation,marker:_.addMarker,multiselect:_.eachSelectedTask,overlay:_.ext.overlay,quick_info:_.templates.quick_info_content,tooltip:_.ext.tooltips,undo:_.undo};for(var l in a)a[l]&&!o[l]&&console.warn("You connected the '".concat(l,`' extension via an obsolete file. 
To fix it, you need to remove the obsolete file and connect the extension via the plugins method: https://docs.dhtmlx.com/gantt/api__gantt_plugins.html`))}})}},function(A,E,h){Object.defineProperty(E,"__esModule",{value:!0}),E.default={date:{month_full:["Січень","Лютий","Березень","Квітень","Травень","Червень","Липень","Серпень","Вересень","Жовтень","Листопад","Грудень"],month_short:["Січ","Лют","Бер","Кві","Тра","Чер","Лип","Сер","Вер","Жов","Лис","Гру"],day_full:["Неділя","Понеділок","Вівторок","Середа","Четвер","П'ятниця","Субота"],day_short:["Нед","Пон","Вів","Сер","Чет","Птн","Суб"]},labels:{new_task:"Нове завдання",icon_save:"Зберегти",icon_cancel:"Відміна",icon_details:"Деталі",icon_edit:"Редагувати",icon_delete:"Вилучити",confirm_closing:"",confirm_deleting:"Подія вилучиться назавжди. Ви впевнені?",section_description:"Опис",section_time:"Часовий проміжок",section_type:"Тип",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Відміна",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(A,E,h){Object.defineProperty(E,"__esModule",{value:!0}),E.default={date:{month_full:["Ocak","Şubat","Mart","Nisan","Mayıs","Haziran","Temmuz","Ağustos","Eylül","Ekim","Kasım","Aralık"],month_short:["Oca","Şub","Mar","Nis","May","Haz","Tem","Ağu","Eyl","Eki","Kas","Ara"],day_full:["Pazar","Pazartesi","Salı","Çarşamba","Perşembe","Cuma","Cumartesi"],day_short:["Paz","Pzt","Sal","Çar","Per","Cum","Cmt"]},labels:{new_task:"Yeni görev",icon_save:"Kaydet",icon_cancel:"İptal",icon_details:"Detaylar",icon_edit:"Düzenle",icon_delete:"Sil",confirm_closing:"",confirm_deleting:"Görev silinecek, emin misiniz?",section_description:"Açıklama",section_time:"Zaman Aralığı",section_type:"Tip",column_wbs:"WBS",column_text:"Görev Adı",column_start_date:"Başlangıç",column_duration:"Süre",column_add:"",link:"Bağlantı",confirm_link_deleting:"silinecek",link_start:" (başlangıç)",link_end:" (bitiş)",type_task:"Görev",type_project:"Proje",type_milestone:"Kilometretaşı",minutes:"Dakika",hours:"Saat",days:"Gün",weeks:"Hafta",months:"Ay",years:"Yıl",message_ok:"OK",message_cancel:"Ýptal",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(A,E,h){Object.defineProperty(E,"__esModule",{value:!0}),E.default={date:{month_full:["Januari","Februari","Mars","April","Maj","Juni","Juli","Augusti","September","Oktober","November","December"],month_short:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],day_full:["Söndag","Måndag","Tisdag","Onsdag","Torsdag","Fredag","Lördag"],day_short:["Sön","Mån","Tis","Ons","Tor","Fre","Lör"]},labels:{new_task:"Ny uppgift",icon_save:"Spara",icon_cancel:"Avbryt",icon_details:"Detajer",icon_edit:"Ändra",icon_delete:"Ta bort",confirm_closing:"",confirm_deleting:"Är du säker på att du vill ta bort händelsen permanent?",section_description:"Beskrivning",section_time:"Tid",section_type:"Typ",column_wbs:"WBS",column_text:"Uppgiftsnamn",column_start_date:"Starttid",column_duration:"Varaktighet",column_add:"",link:"Länk",confirm_link_deleting:"kommer tas bort",link_start:" (start)",link_end:" (slut)",type_task:"Uppgift",type_project:"Projekt",type_milestone:"Milstolpe",minutes:"Minuter",hours:"Timmar",days:"Dagar",weeks:"Veckor",months:"Månader",years:"År",message_ok:"OK",message_cancel:"Avbryt",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(A,E,h){Object.defineProperty(E,"__esModule",{value:!0}),E.default={date:{month_full:["Január","Február","Marec","Apríl","Máj","Jún","Júl","August","September","Október","November","December"],month_short:["Jan","Feb","Mar","Apr","Máj","Jún","Júl","Aug","Sept","Okt","Nov","Dec"],day_full:["Nedeľa","Pondelok","Utorok","Streda","Štvrtok","Piatok","Sobota"],day_short:["Ne","Po","Ut","St","Št","Pi","So"]},labels:{new_task:"Nová úloha",icon_save:"Uložiť",icon_cancel:"Späť",icon_details:"Detail",icon_edit:"Edituj",icon_delete:"Zmazať",confirm_closing:"Vaše zmeny nebudú uložené. Skutočne?",confirm_deleting:"Udalosť bude natrvalo vymazaná. Skutočne?",section_description:"Poznámky",section_time:"Doba platnosti",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Späť",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(A,E,h){Object.defineProperty(E,"__esModule",{value:!0}),E.default={date:{month_full:["Januar","Februar","Marec","April","Maj","Junij","Julij","Avgust","September","Oktober","November","December"],month_short:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],day_full:["Nedelja","Ponedeljek","Torek","Sreda","Četrtek","Petek","Sobota"],day_short:["Ned","Pon","Tor","Sre","Čet","Pet","Sob"]},labels:{new_task:"Nova naloga",icon_save:"Shrani",icon_cancel:"Prekliči",icon_details:"Podrobnosti",icon_edit:"Uredi",icon_delete:"Izbriši",confirm_closing:"",confirm_deleting:"Dogodek bo izbrisan. Želite nadaljevati?",section_description:"Opis",section_time:"Časovni okvir",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Prekliči",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(A,E,h){Object.defineProperty(E,"__esModule",{value:!0}),E.default={date:{month_full:["Январь","Февраль","Март","Апрель","Maй","Июнь","Июль","Август","Сентябрь","Oктябрь","Ноябрь","Декабрь"],month_short:["Янв","Фев","Maр","Aпр","Maй","Июн","Июл","Aвг","Сен","Окт","Ноя","Дек"],day_full:["Воскресенье","Понедельник","Вторник","Среда","Четверг","Пятница","Суббота"],day_short:["Вс","Пн","Вт","Ср","Чт","Пт","Сб"]},labels:{new_task:"Новое задание",icon_save:"Сохранить",icon_cancel:"Отменить",icon_details:"Детали",icon_edit:"Изменить",icon_delete:"Удалить",confirm_closing:"",confirm_deleting:"Событие будет удалено безвозвратно, продолжить?",section_description:"Описание",section_time:"Период времени",section_type:"Тип",column_wbs:"ИСР",column_text:"Задача",column_start_date:"Начало",column_duration:"Длительность",column_add:"",link:"Связь",confirm_link_deleting:"будет удалена",link_start:" (начало)",link_end:" (конец)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Минута",hours:"Час",days:"День",weeks:"Неделя",months:"Месяц",years:"Год",message_ok:"OK",message_cancel:"Отменить",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"начните вводить слово для фильтрации",resources_filter_label:"спрятать не установленные",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(A,E,h){Object.defineProperty(E,"__esModule",{value:!0}),E.default={date:{month_full:["Ianuarie","Februarie","Martie","Aprilie","Mai","Iunie","Iulie","August","Septembrie","Octombrie","November","December"],month_short:["Ian","Feb","Mar","Apr","Mai","Iun","Iul","Aug","Sep","Oct","Nov","Dec"],day_full:["Duminica","Luni","Marti","Miercuri","Joi","Vineri","Sambata"],day_short:["Du","Lu","Ma","Mi","Jo","Vi","Sa"]},labels:{new_task:"Sarcina noua",icon_save:"Salveaza",icon_cancel:"Anuleaza",icon_details:"Detalii",icon_edit:"Editeaza",icon_delete:"Sterge",confirm_closing:"Schimbarile nu vor fi salvate, esti sigur?",confirm_deleting:"Evenimentul va fi sters permanent, esti sigur?",section_description:"Descriere",section_time:"Interval",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Anuleaza",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(A,E,h){Object.defineProperty(E,"__esModule",{value:!0}),E.default={date:{month_full:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],month_short:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],day_full:["Domingo","Segunda","Terça","Quarta","Quinta","Sexta","Sábado"],day_short:["Dom","Seg","Ter","Qua","Qui","Sex","Sab"]},labels:{new_task:"Nova tarefa",icon_save:"Salvar",icon_cancel:"Cancelar",icon_details:"Detalhes",icon_edit:"Editar",icon_delete:"Excluir",confirm_closing:"",confirm_deleting:"As tarefas serão excluidas permanentemente, confirme?",section_description:"Descrição",section_time:"Período",section_type:"Tipo",column_wbs:"EAP",column_text:"Nome tarefa",column_start_date:"Data início",column_duration:"Duração",column_add:"",link:"Link",confirm_link_deleting:"Será excluído!",link_start:" (início)",link_end:" (fim)",type_task:"Task",type_project:"Projeto",type_milestone:"Marco",minutes:"Minutos",hours:"Horas",days:"Dias",weeks:"Semanas",months:"Meses",years:"Anos",message_ok:"OK",message_cancel:"Cancelar",section_constraint:"Restrição",constraint_type:"Tipo Restrição",constraint_date:"Data restrição",asap:"Mais breve possível",alap:"Mais tarde possível",snet:"Não começar antes de",snlt:"Não começar depois de",fnet:"Não terminar antes de",fnlt:"Não terminar depois de",mso:"Precisa começar em",mfo:"Precisa terminar em",resources_filter_placeholder:"Tipo de filtros",resources_filter_label:"Ocultar vazios",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(A,E,h){Object.defineProperty(E,"__esModule",{value:!0}),E.default={date:{month_full:["Styczeń","Luty","Marzec","Kwiecień","Maj","Czerwiec","Lipiec","Sierpień","Wrzesień","Październik","Listopad","Grudzień"],month_short:["Sty","Lut","Mar","Kwi","Maj","Cze","Lip","Sie","Wrz","Paź","Lis","Gru"],day_full:["Niedziela","Poniedziałek","Wtorek","Środa","Czwartek","Piątek","Sobota"],day_short:["Nie","Pon","Wto","Śro","Czw","Pią","Sob"]},labels:{new_task:"Nowe zadanie",icon_save:"Zapisz",icon_cancel:"Anuluj",icon_details:"Szczegóły",icon_edit:"Edytuj",icon_delete:"Usuń",confirm_closing:"",confirm_deleting:"Zdarzenie zostanie usunięte na zawsze, kontynuować?",section_description:"Opis",section_time:"Okres czasu",section_type:"Typ",column_wbs:"WBS",column_text:"Nazwa zadania",column_start_date:"Początek",column_duration:"Czas trwania",column_add:"",link:"Link",confirm_link_deleting:"zostanie usunięty",link_start:" (początek)",link_end:" (koniec)",type_task:"Zadanie",type_project:"Projekt",type_milestone:"Milestone",minutes:"Minuty",hours:"Godziny",days:"Dni",weeks:"Tydzień",months:"Miesiące",years:"Lata",message_ok:"OK",message_cancel:"Anuluj",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(A,E,h){Object.defineProperty(E,"__esModule",{value:!0}),E.default={date:{month_full:["Januar","Februar","Mars","April","Mai","Juni","Juli","August","September","Oktober","November","Desember"],month_short:["Jan","Feb","Mar","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Des"],day_full:["Søndag","Mandag","Tirsdag","Onsdag","Torsdag","Fredag","Lørdag"],day_short:["Søn","Man","Tir","Ons","Tor","Fre","Lør"]},labels:{new_task:"Ny oppgave",icon_save:"Lagre",icon_cancel:"Avbryt",icon_details:"Detaljer",icon_edit:"Endre",icon_delete:"Slett",confirm_closing:"Endringer blir ikke lagret, er du sikker?",confirm_deleting:"Oppføringen vil bli slettet, er du sikker?",section_description:"Beskrivelse",section_time:"Tidsperiode",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Avbryt",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(A,E,h){Object.defineProperty(E,"__esModule",{value:!0}),E.default={date:{month_full:["Januari","Februari","Maart","April","Mei","Juni","Juli","Augustus","September","Oktober","November","December"],month_short:["Jan","Feb","mrt","Apr","Mei","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],day_full:["Zondag","Maandag","Dinsdag","Woensdag","Donderdag","Vrijdag","Zaterdag"],day_short:["Zo","Ma","Di","Wo","Do","Vr","Za"]},labels:{new_task:"Nieuwe taak",icon_save:"Opslaan",icon_cancel:"Annuleren",icon_details:"Details",icon_edit:"Bewerken",icon_delete:"Verwijderen",confirm_closing:"",confirm_deleting:"Item zal permanent worden verwijderd, doorgaan?",section_description:"Beschrijving",section_time:"Tijd periode",section_type:"Type",column_wbs:"WBS",column_text:"Taak omschrijving",column_start_date:"Startdatum",column_duration:"Duur",column_add:"",link:"Koppeling",confirm_link_deleting:"zal worden verwijderd",link_start:" (start)",link_end:" (eind)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"minuten",hours:"uren",days:"dagen",weeks:"weken",months:"maanden",years:"jaren",message_ok:"OK",message_cancel:"Annuleren",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(A,E,h){Object.defineProperty(E,"__esModule",{value:!0}),E.default={date:{month_full:["Januar","Februar","Mars","April","Mai","Juni","Juli","August","September","Oktober","November","Desember"],month_short:["Jan","Feb","Mar","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Des"],day_full:["Søndag","Mandag","Tirsdag","Onsdag","Torsdag","Fredag","Lørdag"],day_short:["Søn","Mon","Tir","Ons","Tor","Fre","Lør"]},labels:{new_task:"Ny oppgave",icon_save:"Lagre",icon_cancel:"Avbryt",icon_details:"Detaljer",icon_edit:"Rediger",icon_delete:"Slett",confirm_closing:"",confirm_deleting:"Hendelsen vil bli slettet permanent. Er du sikker?",section_description:"Beskrivelse",section_time:"Tidsperiode",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Avbryt",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(A,E,h){Object.defineProperty(E,"__esModule",{value:!0});var _=function(){return function(u){var s=this;for(var c in this.addLocale=function(i,r){s._locales[i]=r},this.getLocale=function(i){return s._locales[i]},this._locales={},u)this._locales[c]=u[c]}}();E.default=_},function(A,E,h){Object.defineProperty(E,"__esModule",{value:!0}),E.default={date:{month_full:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],month_short:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],day_full:["일요일","월요일","화요일","수요일","목요일","금요일","토요일"],day_short:["일","월","화","수","목","금","토"]},labels:{new_task:"이름없는 작업",icon_save:"저장",icon_cancel:"취소",icon_details:"세부 사항",icon_edit:"수정",icon_delete:"삭제",confirm_closing:"",confirm_deleting:"작업을 삭제하시겠습니까?",section_description:"설명",section_time:"기간",section_type:"Type",column_wbs:"WBS",column_text:"작업명",column_start_date:"시작일",column_duration:"기간",column_add:"",link:"전제",confirm_link_deleting:"삭제 하시겠습니까?",link_start:" (start)",link_end:" (end)",type_task:"작업",type_project:"프로젝트",type_milestone:"마일스톤",minutes:"분",hours:"시간",days:"일",weeks:"주",months:"달",years:"년",message_ok:"OK",message_cancel:"취소",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(A,E,h){Object.defineProperty(E,"__esModule",{value:!0}),E.default={date:{month_full:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],month_short:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],day_full:["日曜日","月曜日","火曜日","水曜日","木曜日","金曜日","土曜日"],day_short:["日","月","火","水","木","金","土"]},labels:{new_task:"新しい仕事",icon_save:"保存",icon_cancel:"キャンセル",icon_details:"詳細",icon_edit:"編集",icon_delete:"削除",confirm_closing:"",confirm_deleting:"イベント完全に削除されます、宜しいですか？",section_description:"デスクリプション",section_time:"期間",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"キャンセル",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(A,E,h){Object.defineProperty(E,"__esModule",{value:!0}),E.default={date:{month_full:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],month_short:["Gen","Feb","Mar","Apr","Mag","Giu","Lug","Ago","Set","Ott","Nov","Dic"],day_full:["Domenica","Lunedì","Martedì","Mercoledì","Giovedì","Venerdì","Sabato"],day_short:["Dom","Lun","Mar","Mer","Gio","Ven","Sab"]},labels:{new_task:"Nuovo compito",icon_save:"Salva",icon_cancel:"Chiudi",icon_details:"Dettagli",icon_edit:"Modifica",icon_delete:"Elimina",confirm_closing:"",confirm_deleting:"Sei sicuro di confermare l'eliminazione?",section_description:"Descrizione",section_time:"Periodo di tempo",section_type:"Tipo",column_wbs:"WBS",column_text:"Nome Attività",column_start_date:"Inizio",column_duration:"Durata",column_add:"",link:"Link",confirm_link_deleting:"sarà eliminato",link_start:" (inizio)",link_end:" (fine)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minuti",hours:"Ore",days:"Giorni",weeks:"Settimane",months:"Mesi",years:"Anni",message_ok:"OK",message_cancel:"Chiudi",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(A,E,h){Object.defineProperty(E,"__esModule",{value:!0}),E.default={date:{month_full:["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],month_short:["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Ags","Sep","Okt","Nov","Des"],day_full:["Minggu","Senin","Selasa","Rabu","Kamis","Jumat","Sabtu"],day_short:["Ming","Sen","Sel","Rab","Kam","Jum","Sab"]},labels:{new_task:"Tugas baru",icon_save:"Simpan",icon_cancel:"Batal",icon_details:"Detail",icon_edit:"Edit",icon_delete:"Hapus",confirm_closing:"",confirm_deleting:"Acara akan dihapus",section_description:"Keterangan",section_time:"Periode",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Batal",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(A,E,h){Object.defineProperty(E,"__esModule",{value:!0}),E.default={date:{month_full:["Január","Február","Március","Április","Május","Június","Július","Augusztus","Szeptember","Október","November","December"],month_short:["Jan","Feb","Már","Ápr","Máj","Jún","Júl","Aug","Sep","Okt","Nov","Dec"],day_full:["Vasárnap","Hétfõ","Kedd","Szerda","Csütörtök","Péntek","szombat"],day_short:["Va","Hé","Ke","Sze","Csü","Pé","Szo"]},labels:{new_task:"Új feladat",icon_save:"Mentés",icon_cancel:"Mégse",icon_details:"Részletek",icon_edit:"Szerkesztés",icon_delete:"Törlés",confirm_closing:"",confirm_deleting:"Az esemény törölve lesz, biztosan folytatja?",section_description:"Leírás",section_time:"Idõszak",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Mégse",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(A,E,h){Object.defineProperty(E,"__esModule",{value:!0}),E.default={date:{month_full:["Siječanj","Veljača","Ožujak","Travanj","Svibanj","Lipanj","Srpanj","Kolovoz","Rujan","Listopad","Studeni","Prosinac"],month_short:["Sij","Velj","Ožu","Tra","Svi","Lip","Srp","Kol","Ruj","Lis","Stu","Pro"],day_full:["Nedjelja","Ponedjeljak","Utorak","Srijeda","Četvrtak","Petak","Subota"],day_short:["Ned","Pon","Uto","Sri","Čet","Pet","Sub"]},labels:{new_task:"Novi Zadatak",icon_save:"Spremi",icon_cancel:"Odustani",icon_details:"Detalji",icon_edit:"Izmjeni",icon_delete:"Obriši",confirm_closing:"",confirm_deleting:"Zadatak će biti trajno izbrisan, jeste li sigurni?",section_description:"Opis",section_time:"Vremenski Period",section_type:"Tip",column_wbs:"WBS",column_text:"Naziv Zadatka",column_start_date:"Početno Vrijeme",column_duration:"Trajanje",column_add:"",link:"Poveznica",confirm_link_deleting:"će biti izbrisan",link_start:" (početak)",link_end:" (kraj)",type_task:"Zadatak",type_project:"Projekt",type_milestone:"Milestone",minutes:"Minute",hours:"Sati",days:"Dani",weeks:"Tjedni",months:"Mjeseci",years:"Godine",message_ok:"OK",message_cancel:"Odustani",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(A,E,h){Object.defineProperty(E,"__esModule",{value:!0}),E.default={date:{month_full:["ינואר","פברואר","מרץ","אפריל","מאי","יוני","יולי","אוגוסט","ספטמבר","אוקטובר","נובמבר","דצמבר"],month_short:["ינו","פבר","מרץ","אפר","מאי","יונ","יול","אוג","ספט","אוק","נוב","דצמ"],day_full:["ראשון","שני","שלישי","רביעי","חמישי","שישי","שבת"],day_short:["א","ב","ג","ד","ה","ו","ש"]},labels:{new_task:"משימה חדש",icon_save:"שמור",icon_cancel:"בטל",icon_details:"פרטים",icon_edit:"ערוך",icon_delete:"מחק",confirm_closing:"",confirm_deleting:"ארוע ימחק סופית.להמשיך?",section_description:"הסבר",section_time:"תקופה",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"בטל",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(A,E,h){Object.defineProperty(E,"__esModule",{value:!0}),E.default={date:{month_full:["Janvier","Février","Mars","Avril","Mai","Juin","Juillet","Août","Septembre","Octobre","Novembre","Décembre"],month_short:["Jan","Fév","Mar","Avr","Mai","Juin","Juil","Aoû","Sep","Oct","Nov","Déc"],day_full:["Dimanche","Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi"],day_short:["Dim","Lun","Mar","Mer","Jeu","Ven","Sam"]},labels:{new_task:"Nouvelle tâche",icon_save:"Enregistrer",icon_cancel:"Annuler",icon_details:"Détails",icon_edit:"Modifier",icon_delete:"Effacer",confirm_closing:"",confirm_deleting:"L'événement sera effacé sans appel, êtes-vous sûr ?",section_description:"Description",section_time:"Période",section_type:"Type",column_wbs:"OTP",column_text:"Nom de la tâche",column_start_date:"Date initiale",column_duration:"Durée",column_add:"",link:"Le lien",confirm_link_deleting:"sera supprimé",link_start:"(début)",link_end:"(fin)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Heures",days:"Jours",weeks:"Semaines",months:"Mois",years:"Années",message_ok:"OK",message_cancel:"Annuler",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(A,E,h){Object.defineProperty(E,"__esModule",{value:!0}),E.default={date:{month_full:["Tammikuu","Helmikuu","Maaliskuu","Huhtikuu","Toukokuu","Kes&auml;kuu","Hein&auml;kuu","Elokuu","Syyskuu","Lokakuu","Marraskuu","Joulukuu"],month_short:["Tam","Hel","Maa","Huh","Tou","Kes","Hei","Elo","Syy","Lok","Mar","Jou"],day_full:["Sunnuntai","Maanantai","Tiistai","Keskiviikko","Torstai","Perjantai","Lauantai"],day_short:["Su","Ma","Ti","Ke","To","Pe","La"]},labels:{new_task:"Uusi tehtävä",icon_save:"Tallenna",icon_cancel:"Peru",icon_details:"Tiedot",icon_edit:"Muokkaa",icon_delete:"Poista",confirm_closing:"",confirm_deleting:"Haluatko varmasti poistaa tapahtuman?",section_description:"Kuvaus",section_time:"Aikajakso",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Peru",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(A,E,h){Object.defineProperty(E,"__esModule",{value:!0}),E.default={date:{month_full:["ژانویه","فوریه","مارس","آوریل","مه","ژوئن","ژوئیه","اوت","سپتامبر","اکتبر","نوامبر","دسامبر"],month_short:["1","2","3","4","5","6","7","8","9","10","11","12"],day_full:["يکشنبه","دوشنبه","سه‌شنبه","چهارشنبه","پنجشنبه","جمعه","شنبه"],day_short:["ی","د","س","چ","پ","ج","ش"]},labels:{new_task:"وظیفه جدید",icon_save:"ذخیره",icon_cancel:"لغو",icon_details:"جزییات",icon_edit:"ویرایش",icon_delete:"حذف",confirm_closing:"تغییرات شما ازدست خواهد رفت، آیا مطمئن هستید؟",confirm_deleting:"این مورد برای همیشه حذف خواهد شد، آیا مطمئن هستید؟",section_description:"توضیحات",section_time:"مدت زمان",section_type:"نوع",column_wbs:"WBS",column_text:"عنوان",column_start_date:"زمان شروع",column_duration:"مدت",column_add:"",link:"ارتباط",confirm_link_deleting:"حذف خواهد شد",link_start:" (آغاز)",link_end:" (پایان)",type_task:"وظیفه",type_project:"پروژه",type_milestone:"نگارش",minutes:"دقایق",hours:"ساعات",days:"روزها",weeks:"هفته",months:"ماه‌ها",years:"سال‌ها",message_ok:"تایید",message_cancel:"لغو",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(A,E,h){Object.defineProperty(E,"__esModule",{value:!0}),E.default={date:{month_full:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],month_short:["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],day_full:["Domingo","Lunes","Martes","Miércoles","Jueves","Viernes","Sábado"],day_short:["Dom","Lun","Mar","Mié","Jue","Vie","Sáb"]},labels:{new_task:"Nueva tarea",icon_save:"Guardar",icon_cancel:"Cancelar",icon_details:"Detalles",icon_edit:"Editar",icon_delete:"Eliminar",confirm_closing:"",confirm_deleting:"El evento se borrará definitivamente, ¿continuar?",section_description:"Descripción",section_time:"Período",section_type:"Tipo",column_wbs:"EDT",column_text:"Tarea",column_start_date:"Inicio",column_duration:"Duración",column_add:"",link:"Enlace",confirm_link_deleting:"será borrada",link_start:" (inicio)",link_end:" (fin)",type_task:"Tarea",type_project:"Proyecto",type_milestone:"Hito",minutes:"Minutos",hours:"Horas",days:"Días",weeks:"Semanas",months:"Meses",years:"Años",message_ok:"OK",message_cancel:"Cancelar",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(A,E,h){Object.defineProperty(E,"__esModule",{value:!0}),E.default={date:{month_full:["January","February","March","April","May","June","July","August","September","October","November","December"],month_short:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],day_full:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],day_short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},labels:{new_task:"New task",icon_save:"Save",icon_cancel:"Cancel",icon_details:"Details",icon_edit:"Edit",icon_delete:"Delete",confirm_closing:"",confirm_deleting:"Task will be deleted permanently, are you sure?",section_description:"Description",section_time:"Time period",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Cancel",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(A,E,h){Object.defineProperty(E,"__esModule",{value:!0}),E.default={date:{month_full:["Ιανουάριος","Φεβρουάριος","Μάρτιος","Απρίλιος","Μάϊος","Ιούνιος","Ιούλιος","Αύγουστος","Σεπτέμβριος","Οκτώβριος","Νοέμβριος","Δεκέμβριος"],month_short:["ΙΑΝ","ΦΕΒ","ΜΑΡ","ΑΠΡ","ΜΑΙ","ΙΟΥΝ","ΙΟΥΛ","ΑΥΓ","ΣΕΠ","ΟΚΤ","ΝΟΕ","ΔΕΚ"],day_full:["Κυριακή","Δευτέρα","Τρίτη","Τετάρτη","Πέμπτη","Παρασκευή","Κυριακή"],day_short:["ΚΥ","ΔΕ","ΤΡ","ΤΕ","ΠΕ","ΠΑ","ΣΑ"]},labels:{new_task:"Νέα εργασία",icon_save:"Αποθήκευση",icon_cancel:"Άκυρο",icon_details:"Λεπτομέρειες",icon_edit:"Επεξεργασία",icon_delete:"Διαγραφή",confirm_closing:"",confirm_deleting:"Το έργο θα διαγραφεί οριστικά. Θέλετε να συνεχίσετε;",section_description:"Περιγραφή",section_time:"Χρονική περίοδος",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Άκυρο",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(A,E,h){Object.defineProperty(E,"__esModule",{value:!0}),E.default={date:{month_full:[" Januar"," Februar"," März "," April"," Mai"," Juni"," Juli"," August"," September "," Oktober"," November "," Dezember"],month_short:["Jan","Feb","Mär","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],day_full:["Sonntag","Montag","Dienstag"," Mittwoch"," Donnerstag","Freitag","Samstag"],day_short:["So","Mo","Di","Mi","Do","Fr","Sa"]},labels:{new_task:"Neue Aufgabe",icon_save:"Speichern",icon_cancel:"Abbrechen",icon_details:"Details",icon_edit:"Ändern",icon_delete:"Löschen",confirm_closing:"",confirm_deleting:"Der Eintrag wird gelöscht",section_description:"Beschreibung",section_time:"Zeitspanne",section_type:"Type",column_wbs:"PSP",column_text:"Task-Namen",column_start_date:"Startzeit",column_duration:"Dauer",column_add:"",link:"Link",confirm_link_deleting:"werden gelöscht",link_start:"(starten)",link_end:"(ende)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minuten",hours:"Stunden",days:"Tage",weeks:"Wochen",months:"Monate",years:"Jahre",message_ok:"OK",message_cancel:"Abbrechen",section_constraint:"Regel",constraint_type:"Regel",constraint_date:"Regel - Datum",asap:"So bald wie möglich",alap:"So spät wie möglich",snet:"Beginn nicht vor",snlt:"Beginn nicht später als",fnet:"Fertigstellung nicht vor",fnlt:"Fertigstellung nicht später als",mso:"Muss beginnen am",mfo:"Muss fertig sein am",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(A,E,h){Object.defineProperty(E,"__esModule",{value:!0}),E.default={date:{month_full:["Januar","Februar","Marts","April","Maj","Juni","Juli","August","September","Oktober","November","December"],month_short:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],day_full:["Søndag","Mandag","Tirsdag","Onsdag","Torsdag","Fredag","Lørdag"],day_short:["Søn","Man","Tir","Ons","Tor","Fre","Lør"]},labels:{new_task:"Ny opgave",icon_save:"Gem",icon_cancel:"Fortryd",icon_details:"Detaljer",icon_edit:"Tilret",icon_delete:"Slet",confirm_closing:"Dine rettelser vil gå tabt.. Er dy sikker?",confirm_deleting:"Bigivenheden vil blive slettet permanent. Er du sikker?",section_description:"Beskrivelse",section_time:"Tidsperiode",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Fortryd",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(A,E,h){Object.defineProperty(E,"__esModule",{value:!0}),E.default={date:{month_full:["Leden","Únor","Březen","Duben","Květen","Červen","Červenec","Srpen","Září","Říjen","Listopad","Prosinec"],month_short:["Led","Ún","Bře","Dub","Kvě","Čer","Čec","Srp","Září","Říj","List","Pro"],day_full:["Neděle","Pondělí","Úterý","Středa","Čtvrtek","Pátek","Sobota"],day_short:["Ne","Po","Út","St","Čt","Pá","So"]},labels:{new_task:"Nová práce",icon_save:"Uložit",icon_cancel:"Zpět",icon_details:"Detail",icon_edit:"Edituj",icon_delete:"Smazat",confirm_closing:"",confirm_deleting:"Událost bude trvale smazána, opravdu?",section_description:"Poznámky",section_time:"Doba platnosti",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Zpět",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(A,E,h){Object.defineProperty(E,"__esModule",{value:!0}),E.default={date:{month_full:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],month_short:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],day_full:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],day_short:["日","一","二","三","四","五","六"]},labels:{new_task:"新任務",icon_save:"保存",icon_cancel:"关闭",icon_details:"详细",icon_edit:"编辑",icon_delete:"删除",confirm_closing:"请确认是否撤销修改!",confirm_deleting:"是否删除日程?",section_description:"描述",section_time:"时间范围",section_type:"类型",column_wbs:"工作分解结构",column_text:"任务名",column_start_date:"开始时间",column_duration:"持续时间",column_add:"",link:"关联",confirm_link_deleting:"将被删除",link_start:" (开始)",link_end:" (结束)",type_task:"任务",type_project:"项目",type_milestone:"里程碑",minutes:"分钟",hours:"小时",days:"天",weeks:"周",months:"月",years:"年",message_ok:"OK",message_cancel:"关闭",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(A,E,h){Object.defineProperty(E,"__esModule",{value:!0}),E.default={date:{month_full:["Gener","Febrer","Març","Abril","Maig","Juny","Juliol","Agost","Setembre","Octubre","Novembre","Desembre"],month_short:["Gen","Feb","Mar","Abr","Mai","Jun","Jul","Ago","Set","Oct","Nov","Des"],day_full:["Diumenge","Dilluns","Dimarts","Dimecres","Dijous","Divendres","Dissabte"],day_short:["Dg","Dl","Dm","Dc","Dj","Dv","Ds"]},labels:{new_task:"Nova tasca",icon_save:"Guardar",icon_cancel:"Cancel·lar",icon_details:"Detalls",icon_edit:"Editar",icon_delete:"Esborrar",confirm_closing:"",confirm_deleting:"L'esdeveniment s'esborrarà definitivament, continuar ?",section_description:"Descripció",section_time:"Periode de temps",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Cancel·lar",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(A,E,h){Object.defineProperty(E,"__esModule",{value:!0}),E.default={date:{month_full:["Студзень","Люты","Сакавік","Красавік","Maй","Чэрвень","Ліпень","Жнівень","Верасень","Кастрычнік","Лістапад","Снежань"],month_short:["Студз","Лют","Сак","Крас","Maй","Чэр","Ліп","Жнів","Вер","Каст","Ліст","Снеж"],day_full:["Нядзеля","Панядзелак","Аўторак","Серада","Чацвер","Пятніца","Субота"],day_short:["Нд","Пн","Аўт","Ср","Чцв","Пт","Сб"]},labels:{new_task:"Новае заданне",icon_save:"Захаваць",icon_cancel:"Адмяніць",icon_details:"Дэталі",icon_edit:"Змяніць",icon_delete:"Выдаліць",confirm_closing:"",confirm_deleting:"Падзея будзе выдалена незваротна, працягнуць?",section_description:"Апісанне",section_time:"Перыяд часу",section_type:"Тып",column_wbs:"ІСР",column_text:"Задача",column_start_date:"Пачатак",column_duration:"Працяг",column_add:"",link:"Сувязь",confirm_link_deleting:"будзе выдалена",link_start:"(пачатак)",link_end:"(канец)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Хвiлiна",hours:"Гадзiна",days:"Дзень",weeks:"Тыдзень",months:"Месяц",years:"Год",message_ok:"OK",message_cancel:"Адмяніць",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(A,E,h){Object.defineProperty(E,"__esModule",{value:!0}),E.default={date:{month_full:["كانون الثاني","شباط","آذار","نيسان","أيار","حزيران","تموز","آب","أيلول","تشرين الأول","تشرين الثاني","كانون الأول"],month_short:["يناير","فبراير","مارس","أبريل","مايو","يونيو","يوليو","أغسطس","سبتمبر","أكتوبر","نوفمبر","ديسمبر"],day_full:["الأحد","الأثنين","ألثلاثاء","الأربعاء","ألحميس","ألجمعة","السبت"],day_short:["احد","اثنين","ثلاثاء","اربعاء","خميس","جمعة","سبت"]},labels:{new_task:"مهمة جديد",icon_save:"اخزن",icon_cancel:"الغاء",icon_details:"تفاصيل",icon_edit:"تحرير",icon_delete:"حذف",confirm_closing:"التغييرات سوف تضيع, هل انت متأكد؟",confirm_deleting:"الحدث سيتم حذفها نهائيا ، هل أنت متأكد؟",section_description:"الوصف",section_time:"الفترة الزمنية",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"الغاء",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(A,E,h){Object.defineProperty(E,"__esModule",{value:!0});var _=h(177),u=h(176),s=h(175),c=h(174),i=h(173),r=h(172),e=h(171),t=h(170),n=h(169),o=h(168),a=h(167),l=h(166),d=h(165),f=h(164),g=h(163),p=h(162),m=h(161),y=h(160),v=h(159),b=h(158),k=h(157),$=h(156),w=h(155),x=h(154),T=h(153),D=h(152),I=h(151),P=h(150),R=h(149),H=h(148),F=h(147),Y=h(146),q=h(145);E.default=function(){return new k.default({en:n.default,ar:_.default,be:u.default,ca:s.default,cn:c.default,cs:i.default,da:r.default,de:e.default,el:t.default,es:o.default,fa:a.default,fi:l.default,fr:d.default,he:f.default,hr:g.default,hu:p.default,id:m.default,it:y.default,jp:v.default,kr:b.default,nb:$.default,nl:w.default,no:x.default,pl:T.default,pt:D.default,ro:I.default,ru:P.default,si:R.default,sk:H.default,sv:F.default,tr:Y.default,ua:q.default})}},function(A,E,h){Object.defineProperty(E,"__esModule",{value:!0}),E.default=function(){}},function(A,E){A.exports=function(h){h.destructor=function(){for(var _ in this.clearAll(),this.callEvent("onDestroy",[]),this.$root&&delete this.$root.gantt,this._eventRemoveAll&&this._eventRemoveAll(),this.$layout&&this.$layout.destructor(),this.resetLightbox&&this.resetLightbox(),this._dp&&this._dp.destructor&&this._dp.destructor(),this.$services.destructor(),this.detachAllEvents(),this)_.indexOf("$")===0&&delete this[_];this.$destroyed=!0}}},function(A,E){A.exports=function(h){return function(_,u){_||h.config.show_errors&&h.callEvent("onError",[u])!==!1&&(h.message?h.message({type:"error",text:u,expire:-1}):console.log(u))}}},function(A,E){function h(_,u){var s,c=_.config.container_resize_timeout||20;if(_.config.container_resize_method=="timeout")t();else try{_.event(u,"resize",function(){_.$scrollbarRepaint?_.$scrollbarRepaint=null:i()})}catch{t()}function i(){clearTimeout(s),s=setTimeout(function(){_.$destroyed||_.render()},c)}var r=_.$root.offsetHeight,e=_.$root.offsetWidth;function t(){_.$root.offsetHeight==r&&_.$root.offsetWidth==e||i(),r=_.$root.offsetHeight,e=_.$root.offsetWidth,setTimeout(t,c)}}A.exports=function(_){window.getComputedStyle(_.$root).getPropertyValue("position")=="static"&&(_.$root.style.position="relative");var u=document.createElement("iframe");u.className="gantt_container_resize_watcher",u.tabIndex=-1,_.config.wai_aria_attributes&&(u.setAttribute("role","none"),u.setAttribute("aria-hidden",!0)),(window.Sfdc||window.$A||window.Aura)&&(_.config.container_resize_method="timeout"),_.$root.appendChild(u),u.contentWindow?h(_,u.contentWindow):(_.$root.removeChild(u),h(_,window))}},function(A,E,h){function _(r){"@babel/helpers - typeof";return(_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(r)}var u=h(1),s=h(2),c=h(15),i=h(182);A.exports=function(r){var e=h(46);r.assert=h(181)(r);var t="Invalid value of the first argument of `gantt.init`. Supported values: HTMLElement, String (element id).This error means that either invalid object is passed into `gantt.init` or that the element with the specified ID doesn't exist on the page when `gantt.init` is called.";function n(l){if(!l||typeof l=="string"&&document.getElementById(l)||function(d){try{d.cloneNode(!1)}catch{return!1}return!0}(l))return!0;throw r.assert(!1,t),new Error(t)}r.init=function(l,d,f){r.env.isNode?l=null:n(l),d&&f&&(this.config.start_date=this._min_date=new Date(d),this.config.end_date=this._max_date=new Date(f)),this.date.init(),this.init=function(g){r.env.isNode?g=null:n(g),this.$container&&this.$container.parentNode&&(this.$container.parentNode.removeChild(this.$container),this.$container=null),this.$layout&&this.$layout.clear(),this._reinit(g)},this._reinit(l)},r._quickRefresh=function(l){for(var d=this._getDatastores.call(this),f=0;f<d.length;f++)d[f]._quick_refresh=!0;for(l(),f=0;f<d.length;f++)d[f]._quick_refresh=!1};var o=(function(){this._clearTaskLayers&&this._clearTaskLayers(),this._clearLinkLayers&&this._clearLinkLayers(),this.$layout&&(this.$layout.destructor(),this.$layout=null,this.$ui.reset())}).bind(r),a=(function(){c(r)||(this.$root.innerHTML="",this.$root.gantt=this,e(this),this.config.layout.id="main",this.$layout=this.$ui.createView("layout",this.$root,this.config.layout),this.$layout.attachEvent("onBeforeResize",function(){for(var l=r.$services.getService("datastores"),d=0;d<l.length;d++)r.getDatastore(l[d]).filter(),r.$data.tasksStore._skipTaskRecalculation?r.$data.tasksStore._skipTaskRecalculation!="lightbox"&&(r.$data.tasksStore._skipTaskRecalculation=!1):r.getDatastore(l[d]).callEvent("onBeforeRefreshAll",[])}),this.$layout.attachEvent("onResize",function(){r._quickRefresh(function(){r.refreshData()})}),this.callEvent("onGanttLayoutReady",[]),this.$layout.render(),this.$container=this.$layout.$container.firstChild,i(this))}).bind(r);r.resetLayout=function(){o(),a(),this.render()},r._reinit=function(l){this.callEvent("onBeforeGanttReady",[]),this._update_flags(),this.$services.getService("templateLoader").initTemplates(this),o(),this.$root=null,l&&(this.$root=u.toNode(l),a(),this.$mouseEvents.reset(this.$root)),this.callEvent("onTemplatesReady",[]),this.callEvent("onGanttReady",[]),this.render()},r.$click={buttons:{edit:function(l){r.isReadonly(r.getTask(l))||r.showLightbox(l)},delete:function(l){var d=r.getTask(l);if(!r.isReadonly(d)){var f=r.locale.labels.confirm_deleting,g=r.locale.labels.confirm_deleting_title;r._simple_confirm(f,g,function(){r.isTaskExists(l)&&(d.$new?(r.$data.tasksStore._skipTaskRecalculation="lightbox",r.silent(function(){r.deleteTask(l,!0)}),r.$data.tasksStore._skipTaskRecalculation=!1,r.refreshData()):(r.$data.tasksStore._skipTaskRecalculation=!0,r.deleteTask(l))),r.hideLightbox()})}}}},r.render=function(){var l;if(this.callEvent("onBeforeGanttRender",[]),!c(r)){!this.config.sort&&this._sort&&(this._sort=void 0),this.$root&&(this.config.rtl?(this.$root.classList.add("gantt_rtl"),this.$root.firstChild.classList.add("gantt_rtl")):(this.$root.classList.remove("gantt_rtl"),this.$root.firstChild.classList.remove("gantt_rtl")));var d=this.getScrollState(),f=d?d.x:0;this._getHorizontalScrollbar()&&(f=this._getHorizontalScrollbar().$config.codeScrollLeft||f||0),l=null,f&&(l=r.dateFromPos(f+this.config.task_scroll_offset))}if(e(this),c(r))r.refreshData();else{this.$layout.$config.autosize=this.config.autosize;var g=this.config.preserve_scroll;if(this.config.preserve_scroll=!1,this.$layout.resize(),this.config.preserve_scroll=g,this.config.preserve_scroll&&d){if(f||d.y){var p=r.getScrollState();if(+l!=+r.dateFromPos(p.x)||p.y!=d.y){f=null;var m=null;l&&(f=Math.max(r.posFromDate(l)-r.config.task_scroll_offset,0)),d.y&&(m=d.y),r.scrollTo(f,m)}}var y=r.$ui.getView("grid");if(y){var v=y.$config.scrollY,b=r.$ui.getView(v);b&&(r.utils.dom.isChildOf(b.$view,r.$container)||y.scrollTo(void 0,0))}}}this.callEvent("onGanttRender",[])},r.setSizes=r.render,r.getTaskRowNode=function(l){for(var d=this.$grid_data.childNodes,f=this.config.task_attribute,g=0;g<d.length;g++)if(d[g].getAttribute&&d[g].getAttribute(f)==l)return d[g];return null},r.changeLightboxType=function(l){if(this.getLightboxType()==l)return!0;r._silent_redraw_lightbox(l)},r._get_link_type=function(l,d){var f=null;return l&&d?f=r.config.links.start_to_start:!l&&d?f=r.config.links.finish_to_start:l||d?l&&!d&&(f=r.config.links.start_to_finish):f=r.config.links.finish_to_finish,f},r.isLinkAllowed=function(l,d,f,g){var p=null;if(!(p=_(l)=="object"?l:{source:l,target:d,type:this._get_link_type(f,g)})||!(p.source&&p.target&&p.type)||p.source==p.target)return!1;var m=!0;return this.checkEvent("onLinkValidation")&&(m=this.callEvent("onLinkValidation",[p])),m},r._correct_dst_change=function(l,d,f,g){var p=s.getSecondsInUnit(g)*f;if(p>3600&&p<86400){var m=l.getTimezoneOffset()-d;m&&(l=r.date.add(l,m,"minute"))}return l},r.isSplitTask=function(l){return r.assert(l&&l instanceof Object,"Invalid argument <b>task</b>="+l+" of gantt.isSplitTask. Task object was expected"),this.$data.tasksStore._isSplitItem(l)},r._is_icon_open_click=function(l){if(!l)return!1;var d=l.target||l.srcElement;if(!d||!d.className)return!1;var f=u.getClassName(d);return f.indexOf("gantt_tree_icon")!==-1&&(f.indexOf("gantt_close")!==-1||f.indexOf("gantt_open")!==-1)}}},function(A,E){A.exports=function(h){function _(){return h._cached_functions.update_if_changed(h),h._cached_functions.active||h._cached_functions.activate(),!0}h._cached_functions={cache:{},mode:!1,critical_path_mode:!1,wrap_methods:function(s,c){if(c._prefetch_originals)for(var i in c._prefetch_originals)c[i]=c._prefetch_originals[i];for(c._prefetch_originals={},i=0;i<s.length;i++)this.prefetch(s[i],c)},prefetch:function(s,c){var i=c[s];if(i){var r=this;c._prefetch_originals[s]=i,c[s]=function(){for(var e=new Array(arguments.length),t=0,n=arguments.length;t<n;t++)e[t]=arguments[t];if(r.active){var o=r.get_arguments_hash(Array.prototype.slice.call(e));r.cache[s]||(r.cache[s]={});var a=r.cache[s];if(r.has_cached_value(a,o))return r.get_cached_value(a,o);var l=i.apply(this,e);return r.cache_value(a,o,l),l}return i.apply(this,e)}}return i},cache_value:function(s,c,i){this.is_date(i)&&(i=new Date(i)),s[c]=i},has_cached_value:function(s,c){return s.hasOwnProperty(c)},get_cached_value:function(s,c){var i=s[c];return this.is_date(i)&&(i=new Date(i)),i},is_date:function(s){return s&&s.getUTCDate},get_arguments_hash:function(s){for(var c=[],i=0;i<s.length;i++)c.push(this.stringify_argument(s[i]));return"("+c.join(";")+")"},stringify_argument:function(s){return(s.id?s.id:this.is_date(s)?s.valueOf():s)+""},activate:function(){this.clear(),this.active=!0},deactivate:function(){this.clear(),this.active=!1},clear:function(){this.cache={}},setup:function(s){var c=[],i=["_isProjectEnd","_getProjectEnd","_getSlack"];this.mode=="auto"?s.config.highlight_critical_path&&(c=i):this.mode===!0&&(c=i),this.wrap_methods(c,s)},update_if_changed:function(s){(this.critical_path_mode!=s.config.highlight_critical_path||this.mode!==s.config.optimize_render)&&(this.critical_path_mode=s.config.highlight_critical_path,this.mode=s.config.optimize_render,this.setup(s))}},h.attachEvent("onBeforeGanttRender",_),h.attachEvent("onBeforeDataRender",_),h.attachEvent("onBeforeSmartRender",function(){_()}),h.attachEvent("onBeforeParse",_),h.attachEvent("onDataRender",function(){h._cached_functions.deactivate()});var u=null;h.attachEvent("onSmartRender",function(){u&&clearTimeout(u),u=setTimeout(function(){h._cached_functions.deactivate()},1e3)}),h.attachEvent("onBeforeGanttReady",function(){return h._cached_functions.update_if_changed(h),!0})}},function(A,E){function h(_){"@babel/helpers - typeof";return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(_)}A.exports=function(_){_.getTaskType=function(u){var s=u;for(var c in u&&h(u)=="object"&&(s=u.type),this.config.types)if(this.config.types[c]==s)return s;return _.config.types.task}}},function(A,E,h){Object.defineProperty(E,"__esModule",{value:!0}),E.default=function(){}},function(A,E,h){var _=h(2);A.exports=function(u){u.isUnscheduledTask=function(e){return u.assert(e&&e instanceof Object,"Invalid argument <b>task</b>="+e+" of gantt.isUnscheduledTask. Task object was expected"),!!e.unscheduled||!e.start_date},u._isAllowedUnscheduledTask=function(e){return!(!e.unscheduled||!u.config.show_unscheduled)},u._isTaskInTimelineLimits=function(e){var t=e.start_date?e.start_date.valueOf():null,n=e.end_date?e.end_date.valueOf():null;return!!(t&&n&&t<=this._max_date.valueOf()&&n>=this._min_date.valueOf())},u.isTaskVisible=function(e){if(!this.isTaskExists(e))return!1;var t=this.getTask(e);return!(!this._isAllowedUnscheduledTask(t)&&!this._isTaskInTimelineLimits(t))&&this.getGlobalTaskIndex(e)>=0},u._getProjectEnd=function(){if(u.config.project_end)return u.config.project_end;var e=u.getTaskByTime();return(e=e.sort(function(t,n){return+t.end_date>+n.end_date?1:-1})).length?e[e.length-1].end_date:null},u._getProjectStart=function(){if(u.config.project_start)return u.config.project_start;if(u.config.start_date)return u.config.start_date;if(u.getState().min_date)return u.getState().min_date;var e=u.getTaskByTime();return(e=e.sort(function(t,n){return+t.start_date>+n.start_date?1:-1})).length?e[0].start_date:null};var s=function(e,t){var n=!!(t&&t!=u.config.root_id&&u.isTaskExists(t))&&u.getTask(t),o=null;if(n)o=u.config.schedule_from_end?u.calculateEndDate({start_date:n.end_date,duration:-u.config.duration_step,task:e}):n.start_date;else if(u.config.schedule_from_end)o=u.calculateEndDate({start_date:u._getProjectEnd(),duration:-u.config.duration_step,task:e});else{var a=u.getTaskByIndex(0);o=a?a.start_date?a.start_date:a.end_date?u.calculateEndDate({start_date:a.end_date,duration:-u.config.duration_step,task:e}):null:u.config.start_date||u.getState().min_date}return u.assert(o,"Invalid dates"),new Date(o)};u._set_default_task_timing=function(e){e.start_date=e.start_date||s(e,u.getParent(e)),e.duration=e.duration||u.config.duration_step,e.end_date=e.end_date||u.calculateEndDate(e)},u.createTask=function(e,t,n){return e=e||{},u.defined(e.id)||(e.id=u.uid()),e.start_date||(e.start_date=s(e,t)),e.text===void 0&&(e.text=u.locale.labels.new_task),e.duration===void 0&&(e.duration=1),this.isTaskExists(t)&&(this.setParent(e,t,!0),this.getTask(t).$open=!0),this.callEvent("onTaskCreated",[e])?(this.config.details_on_create?(u.isTaskExists(e.id)?u.getTask(e.id).$index!=e.$index&&(e.start_date&&typeof e.start_date=="string"&&(e.start_date=this.date.parseDate(e.start_date,"parse_date")),e.end_date&&typeof e.end_date=="string"&&(e.end_date=this.date.parseDate(e.end_date,"parse_date")),this.$data.tasksStore.updateItem(e.id,e)):(e.$new=!0,this.silent(function(){u.$data.tasksStore.addItem(e,n)})),this.selectTask(e.id),this.refreshData(),this.showLightbox(e.id)):this.addTask(e,t,n)&&(this.showTask(e.id),this.selectTask(e.id)),e.id):null},u._update_flags=function(e,t){var n=u.$data.tasksStore;e===void 0?(this._lightbox_id=null,n.silent(function(){n.unselect()}),this.getSelectedTasks&&this._multiselect.reset(),this._tasks_dnd&&this._tasks_dnd.drag&&(this._tasks_dnd.drag.id=null)):(this._lightbox_id==e&&(this._lightbox_id=t),n.getSelectedId()==e&&n.silent(function(){n.unselect(e),n.select(t)}),this._tasks_dnd&&this._tasks_dnd.drag&&this._tasks_dnd.drag.id==e&&(this._tasks_dnd.drag.id=t))};var c=function(e,t){var n=u.getTaskType(e.type),o={type:n,$no_start:!1,$no_end:!1};return t||n!=e.$rendered_type?(n==u.config.types.project?o.$no_end=o.$no_start=!0:n!=u.config.types.milestone&&(o.$no_end=!(e.end_date||e.duration),o.$no_start=!e.start_date,u._isAllowedUnscheduledTask(e)&&(o.$no_end=o.$no_start=!1)),o):(o.$no_start=e.$no_start,o.$no_end=e.$no_end,o)};function i(e){e.$effective_calendar=u.getTaskCalendar(e).id,e.start_date=u.getClosestWorkTime({dir:"future",date:e.start_date,unit:u.config.duration_unit,task:e}),e.end_date=u.calculateEndDate(e)}function r(e){var t=null,n=null,o=e!==void 0?e:u.config.root_id,a=[];return u.eachTask(function(l){u.getTaskType(l.type)==u.config.types.project||u.isUnscheduledTask(l)||(l.rollup&&a.push(l.id),l.start_date&&!l.$no_start&&(!t||t>l.start_date.valueOf())&&(t=l.start_date.valueOf()),l.end_date&&!l.$no_end&&(!n||n<l.end_date.valueOf())&&(n=l.end_date.valueOf()))},o),{start_date:t?new Date(t):null,end_date:n?new Date(n):null,rollup:a}}u._init_task_timing=function(e){var t=c(e,!0),n=e.$rendered_type!=t.type,o=t.type;n&&(e.$no_start=t.$no_start,e.$no_end=t.$no_end,e.$rendered_type=t.type),n&&o!=this.config.types.milestone&&o==this.config.types.project&&(this._set_default_task_timing(e),e.$calculate_duration=!1),o==this.config.types.milestone&&(e.end_date=e.start_date),e.start_date&&e.end_date&&e.$calculate_duration!==!1&&(e.duration=this.calculateDuration(e)),e.$calculate_duration||(e.$calculate_duration=!0),e.end_date||(e.end_date=e.start_date),e.duration=e.duration||0,this.config.min_duration===0&&e.duration===0&&(e.$no_end=!1);var a=this.getTaskCalendar(e);e.$effective_calendar&&e.$effective_calendar!==a.id&&(i(e),this.config.inherit_calendar&&this.isSummaryTask(e)&&this.eachTask(function(l){i(l)},e.id)),e.$effective_calendar=a.id},u.isSummaryTask=function(e){u.assert(e&&e instanceof Object,"Invalid argument <b>task</b>="+e+" of gantt.isSummaryTask. Task object was expected");var t=c(e);return!(!t.$no_end&&!t.$no_start)},u.resetProjectDates=function(e){var t=c(e);if(t.$no_end||t.$no_start){var n=r(e.id);(function(o,a,l,d){a.$no_start&&(o.start_date=l?new Date(l):s(o,this.getParent(o))),a.$no_end&&(o.end_date=d?new Date(d):this.calculateEndDate({start_date:o.start_date,duration:this.config.duration_step,task:o})),(a.$no_start||a.$no_end)&&this._init_task_timing(o)}).call(this,e,t,n.start_date,n.end_date),e.$rollup=n.rollup}},u.getSubtaskDuration=function(e){var t=0,n=e!==void 0?e:u.config.root_id;return this.eachTask(function(o){this.getTaskType(o.type)==u.config.types.project||this.isUnscheduledTask(o)||(t+=o.duration)},n),t},u.getSubtaskDates=function(e){var t=r(e);return{start_date:t.start_date,end_date:t.end_date}},u._update_parents=function(e,t,n){if(e){var o=this.getTask(e);o.rollup&&(n=!0);var a=this.getParent(o),l=c(o),d=!0;if(n||o.start_date&&o.end_date&&(l.$no_start||l.$no_end)){var f=o.start_date.valueOf(),g=o.end_date.valueOf();u.resetProjectDates(o),n||f!=o.start_date.valueOf()||g!=o.end_date.valueOf()||(d=!1),d&&!t&&this.refreshTask(o.id,!0)}d&&a&&this.isTaskExists(a)&&this._update_parents(a,t,n)}},u.roundDate=function(e){var t=u.getScale();_.isDate(e)&&(e={date:e,unit:t?t.unit:u.config.duration_unit,step:t?t.step:u.config.duration_step});var n,o,a,l=e.date,d=e.step,f=e.unit;if(!t)return l;if(f==t.unit&&d==t.step&&+l>=+t.min_date&&+l<=+t.max_date)a=Math.floor(u.columnIndexByDate(l)),t.trace_x[a]||(a-=1,t.rtl&&(a=0)),o=new Date(t.trace_x[a]),n=u.date.add(o,d,f);else{for(a=Math.floor(u.columnIndexByDate(l)),n=u.date[f+"_start"](new Date(t.min_date)),t.trace_x[a]&&(n=u.date[f+"_start"](t.trace_x[a]));+n<+l;){var g=(n=u.date[f+"_start"](u.date.add(n,d,f))).getTimezoneOffset();n=u._correct_dst_change(n,g,n,f),u.date[f+"_start"]&&(n=u.date[f+"_start"](n))}o=u.date.add(n,-1*d,f)}return e.dir&&e.dir=="future"?n:e.dir&&e.dir=="past"||Math.abs(l-o)<Math.abs(n-l)?o:n},u.correctTaskWorkTime=function(e){u.config.work_time&&u.config.correct_work_time&&(this.isWorkTime(e.start_date,void 0,e)?this.isWorkTime(new Date(+e.end_date-1),void 0,e)||(e.end_date=this.calculateEndDate(e)):(e.start_date=this.getClosestWorkTime({date:e.start_date,dir:"future",task:e}),e.end_date=this.calculateEndDate(e)))},u.attachEvent("onBeforeTaskUpdate",function(e,t){return u._init_task_timing(t),!0}),u.attachEvent("onBeforeTaskAdd",function(e,t){return u._init_task_timing(t),!0}),u.attachEvent("onAfterTaskMove",function(e,t,n){return u._init_task_timing(u.getTask(e)),!0})}},function(A,E,h){var _=h(0);A.exports={create:function(u,s){return{getWorkHours:function(c){return s.getWorkHours(c)},setWorkTime:function(c){return s.setWorkTime(c)},unsetWorkTime:function(c){s.unsetWorkTime(c)},isWorkTime:function(c,i,r){return s.isWorkTime(c,i,r)},getClosestWorkTime:function(c){return s.getClosestWorkTime(c)},calculateDuration:function(c,i,r){return s.calculateDuration(c,i,r)},_hasDuration:function(c,i,r){return s.hasDuration(c,i,r)},calculateEndDate:function(c,i,r,e){return s.calculateEndDate(c,i,r,e)},mergeCalendars:_.bind(u.mergeCalendars,u),createCalendar:_.bind(u.createCalendar,u),addCalendar:_.bind(u.addCalendar,u),getCalendar:_.bind(u.getCalendar,u),getCalendars:_.bind(u.getCalendars,u),getResourceCalendar:_.bind(u.getResourceCalendar,u),getTaskCalendar:_.bind(u.getTaskCalendar,u),deleteCalendar:_.bind(u.deleteCalendar,u)}}}},function(A,E){function h(_,u){this.argumentsHelper=u,this.$gantt=_}h.prototype={getWorkHours:function(){return[0,24]},setWorkTime:function(){return!0},unsetWorkTime:function(){return!0},isWorkTime:function(){return!0},getClosestWorkTime:function(_){return this.argumentsHelper.getClosestWorkTimeArguments.apply(this.argumentsHelper,arguments).date},calculateDuration:function(){var _=this.argumentsHelper.getDurationArguments.apply(this.argumentsHelper,arguments),u=_.start_date,s=_.end_date,c=_.unit,i=_.step;return this._calculateDuration(u,s,c,i)},_calculateDuration:function(_,u,s,c){var i=this.$gantt.date,r={week:6048e5,day:864e5,hour:36e5,minute:6e4},e=0;if(r[s])e=Math.round((u-_)/(c*r[s]));else{for(var t=new Date(_),n=new Date(u);t.valueOf()<n.valueOf();)e+=1,t=i.add(t,c,s);t.valueOf()!=u.valueOf()&&(e+=(n-t)/(i.add(t,c,s)-t))}return Math.round(e)},hasDuration:function(){var _=this.argumentsHelper.getDurationArguments.apply(this.argumentsHelper,arguments),u=_.start_date,s=_.end_date;return!!_.unit&&(u=new Date(u),s=new Date(s),u.valueOf()<s.valueOf())},hasWorkTime:function(){return!0},equals:function(_){return _ instanceof h},calculateEndDate:function(){var _=this.argumentsHelper.calculateEndDateArguments.apply(this.argumentsHelper,arguments),u=_.start_date,s=_.duration,c=_.unit,i=_.step;return this.$gantt.date.add(u,i*s,c)}},A.exports=h},function(A,E,h){var _=h(42),u=h(189);function s(c){this.$gantt=c.$gantt,this.argumentsHelper=_(this.$gantt),this.calendarManager=c,this.$disabledCalendar=new u(this.$gantt,this.argumentsHelper)}s.prototype={_getCalendar:function(c){var i;if(this.$gantt.config.work_time){var r=this.calendarManager;c.task?i=r.getTaskCalendar(c.task):c.id?i=r.getTaskCalendar(c):c.calendar&&(i=c.calendar),i||(i=r.getTaskCalendar())}else i=this.$disabledCalendar;return i},getWorkHours:function(c){return c=this.argumentsHelper.getWorkHoursArguments.apply(this.argumentsHelper,arguments),this._getCalendar(c).getWorkHours(c.date)},setWorkTime:function(c,i){return c=this.argumentsHelper.setWorkTimeArguments.apply(this.argumentsHelper,arguments),i||(i=this.calendarManager.getCalendar()),i.setWorkTime(c)},unsetWorkTime:function(c,i){return c=this.argumentsHelper.unsetWorkTimeArguments.apply(this.argumentsHelper,arguments),i||(i=this.calendarManager.getCalendar()),i.unsetWorkTime(c)},isWorkTime:function(c,i,r,e){var t=this.argumentsHelper.isWorkTimeArguments.apply(this.argumentsHelper,arguments);return this._getCalendar(t).isWorkTime(t)},getClosestWorkTime:function(c){return c=this.argumentsHelper.getClosestWorkTimeArguments.apply(this.argumentsHelper,arguments),this._getCalendar(c).getClosestWorkTime(c)},calculateDuration:function(){var c=this.argumentsHelper.getDurationArguments.apply(this.argumentsHelper,arguments);return this._getCalendar(c).calculateDuration(c)},hasDuration:function(){var c=this.argumentsHelper.hasDurationArguments.apply(this.argumentsHelper,arguments);return this._getCalendar(c).hasDuration(c)},calculateEndDate:function(c){return c=this.argumentsHelper.calculateEndDateArguments.apply(this.argumentsHelper,arguments),this._getCalendar(c).calculateEndDate(c)}},A.exports=s},function(A,E){A.exports=function(){var h={};return{getCalendarIdFromMultipleResources:function(_,u){var s=function(i){return i.map(function(r){return r&&r.resource_id?r.resource_id:r}).sort().join("-")}(_);if(_.length){if(_.length===1)return u.getResourceCalendar(s).id;if(h[s])return h[s].id;var c=function(i,r){return r.mergeCalendars(i.map(function(e){var t=e&&e.resource_id?e.resource_id:e;return r.getResourceCalendar(t)}))}(_,u);return h[s]=c,u.addCalendar(c)}return null}}}},function(A,E){function h(_){"@babel/helpers - typeof";return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(_)}A.exports={isLegacyResourceCalendarFormat:function(_){if(!_)return!1;for(var u in _)if(_[u]&&h(_[u])==="object")return!0;return!1},getResourceProperty:function(_){var u=_.resource_calendars,s=_.resource_property;if(this.isLegacyResourceCalendarFormat(u))for(var c in _){s=c;break}return s},getCalendarIdFromLegacyConfig:function(_,u){if(u)for(var s in u){var c=u[s];if(_[s]){var i=c[_[s]];if(i)return i}}return null}}},function(A,E,h){Object.defineProperty(E,"__esModule",{value:!0});var _=function(){function u(){this.clear()}return u.prototype._getCacheObject=function(s,c,i){var r=this._cache;r[c]||(r[c]=[]);var e=r[c];e||(e=r[c]={});var t=e[i];t||(t=e[i]={});var n=s.getFullYear(),o=t[n];return o||(o=t[n]={durations:{},endDates:{}}),o},u.prototype._endDateCacheKey=function(s,c){return String(s)+"-"+String(c)},u.prototype._durationCacheKey=function(s,c){return String(s)+"-"+String(c)},u.prototype.getEndDate=function(s,c,i,r,e){var t,n=this._getCacheObject(s,i,r),o=s.valueOf(),a=this._endDateCacheKey(o,c);if(n.endDates[a]===void 0){var l=e(),d=l.valueOf();n.endDates[a]=d,n.durations[this._durationCacheKey(o,d)]=c,t=l}else t=new Date(n.endDates[a]);return t},u.prototype.getDuration=function(s,c,i,r,e){var t,n=this._getCacheObject(s,i,r),o=s.valueOf(),a=c.valueOf(),l=this._durationCacheKey(o,a);if(n.durations[l]===void 0){var d=e();n.durations[l]=d.valueOf(),t=d}else t=n.durations[l];return t},u.prototype.clear=function(){this._cache={}},u}();E.DateDurationCache=_},function(A,E,h){Object.defineProperty(E,"__esModule",{value:!0});var _=function(){return function(u){var s=this;this.getMinutesPerWeek=function(c){var i=c.valueOf();if(s._weekCache.has(i))return s._weekCache.get(i);for(var r=s._calendar,e=s._calendar.$gantt,t=0,n=e.date.week_start(new Date(c)),o=0;o<7;o++)t+=60*r.getHoursPerDay(n),n=e.date.add(n,1,"day");return s._weekCache.set(i,t),t},this.getMinutesPerMonth=function(c){var i=c.valueOf();if(s._monthCache.has(i))return s._monthCache.get(i);for(var r=s._calendar,e=s._calendar.$gantt,t=0,n=e.date.week_start(new Date(c)),o=e.date.add(n,1,"month").valueOf();n.valueOf()<o;)t+=60*r.getHoursPerDay(n),n=e.date.add(n,1,"day");return s._monthCache.set(i,t),t},this.clear=function(){s._weekCache=new Map,s._monthCache=new Map},this.clear(),this._calendar=u}}();E.LargerUnitsCache=_},function(A,E,h){Object.defineProperty(E,"__esModule",{value:!0});var _=function(){function u(){this.clear()}return u.prototype.getItem=function(s,c,i){var r=this._cache;if(r&&r[s]){var e=r[s];if(e===void 0)return-1;var t=e[i.getFullYear()];if(t&&t[c]!==void 0)return t[c]}return-1},u.prototype.setItem=function(s,c,i,r){if(s&&c){var e=this._cache;if(e){e[s]||(e[s]=[]);var t=e[s],n=r.getFullYear(),o=t[n];o||(o=t[n]={}),o[c]=i}}},u.prototype.clear=function(){this._cache={}},u}();E.WorkUnitsObjectCache=_},function(A,E,h){Object.defineProperty(E,"__esModule",{value:!0});var _=function(){function u(){this.clear()}return u.prototype.getItem=function(s,c,i){if(this._cache.has(s)){var r=this._cache.get(s)[i.getFullYear()];if(r&&r.has(c))return r.get(c)}return-1},u.prototype.setItem=function(s,c,i,r){if(s&&c){var e,t=this._cache,n=r.getFullYear();t.has(s)?e=t.get(s):(e=[],t.set(s,e));var o=e[n];o||(o=e[n]=new Map),o.set(c,i)}},u.prototype.clear=function(){this._cache=new Map},u}();E.WorkUnitsMapCache=_},function(A,E,h){function _(e){"@babel/helpers - typeof";return(_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}var u=h(41).createCacheObject,s=h(41).LargerUnitsCache,c=h(0),i=h(193).DateDurationCache;function r(e,t){this.argumentsHelper=t,this.$gantt=e,this._workingUnitsCache=u(),this._largeUnitsCache=new s(this),this._dateDurationCache=new i,this._worktime=null,this._cached_timestamps={},this._cached_timestamps_count=0}r.prototype={units:["year","month","week","day","hour","minute"],_clearCaches:function(){this._workingUnitsCache.clear(),this._largeUnitsCache.clear(),this._dateDurationCache.clear()},_getUnitOrder:function(e){for(var t=0,n=this.units.length;t<n;t++)if(this.units[t]==e)return t},_resetTimestampCache:function(){this._cached_timestamps={},this._cached_timestamps_count=0},_timestamp:function(e){this._cached_timestamps_count>1e6&&this._resetTimestampCache();var t=null;if(e.day||e.day===0)t=e.day;else if(e.date){var n=String(e.date.valueOf());this._cached_timestamps[n]?t=this._cached_timestamps[n]:(t=Date.UTC(e.date.getFullYear(),e.date.getMonth(),e.date.getDate()),this._cached_timestamps[n]=t,this._cached_timestamps_count++)}return t},_checkIfWorkingUnit:function(e,t){if(!this["_is_work_"+t]){var n=this.$gantt.date["".concat(t,"_start")](new Date(e)),o=this.$gantt.date.add(n,1,t);return this.hasDuration(n,o)}return this["_is_work_"+t](e)},_is_work_day:function(e){var t=this._getWorkHours(e);return!!Array.isArray(t)&&t.length>0},_is_work_hour:function(e){for(var t=this._getWorkHours(e),n=e.getHours(),o=0;o<t.length;o++)if(n>=t[o].startHour&&n<t[o].endHour)return!0;return!1},_getTimeOfDayStamp:function(e,t){var n=e.getHours();return e.getHours()||e.getMinutes()||!t||(n=24),60*n*60+60*e.getMinutes()},_is_work_minute:function(e){for(var t=this._getWorkHours(e),n=this._getTimeOfDayStamp(e),o=0;o<t.length;o++)if(n>=t[o].start&&n<t[o].end)return!0;return!1},_nextDate:function(e,t,n){return this.$gantt.date.add(e,n,t)},_getWorkUnitsBetweenGeneric:function(e,t,n,o){var a=this.$gantt.date,l=new Date(e),d=new Date(t);o=o||1;var f,g,p=0,m=null,y=!1;(f=a[n+"_start"](new Date(l))).valueOf()!=l.valueOf()&&(y=!0);var v=!1;(g=a[n+"_start"](new Date(t))).valueOf()!=t.valueOf()&&(v=!0);for(var b=!1;l.valueOf()<d.valueOf();){if(b=(m=this._nextDate(l,n,o)).valueOf()>d.valueOf(),this._isWorkTime(l,n))(y||v&&b)&&(f=a[n+"_start"](new Date(l)),g=a.add(f,o,n)),y?(y=!1,m=this._nextDate(f,n,o),p+=(g.valueOf()-l.valueOf())/(g.valueOf()-f.valueOf())):v&&b?(v=!1,p+=(d.valueOf()-l.valueOf())/(g.valueOf()-f.valueOf())):p++;else{var k=this._getUnitOrder(n),$=this.units[k-1];$&&!this._isWorkTime(l,$)&&(m=this._getClosestWorkTimeFuture(l,$))}l=m}return p},_getMinutesPerHour:function(e){var t=this._getTimeOfDayStamp(e),n=this._getTimeOfDayStamp(this._nextDate(e,"hour",1));n===0&&(n=86400);for(var o=this._getWorkHours(e),a=0;a<o.length;a++){var l=o[a];if(t>=l.start&&n<=l.end)return 60;if(t<l.end&&n>l.start)return(Math.min(n,l.end)-Math.max(t,l.start))/60}return 0},_getMinutesPerDay:function(e){var t=0;return this._getWorkHours(e).forEach(function(n){t+=n.durationMinutes}),t},getHoursPerDay:function(e){var t=0;return this._getWorkHours(e).forEach(function(n){t+=n.durationHours}),t},_getWorkUnitsForRange:function(e,t,n,o){var a,l=0,d=new Date(e),f=new Date(t);for(a=n=="minute"?c.bind(this._getMinutesPerDay,this):c.bind(this.getHoursPerDay,this);d.valueOf()<f.valueOf();)if(f-d>27648e5&&d.getDate()===0){var g=this._largeUnitsCache.getMinutesPerMonth(d);n=="hour"&&(g/=60),l+=g,d=this.$gantt.date.add(d,1,"month")}else{if(f-d>13824e5){var p=this.$gantt.date.week_start(new Date(d));if(d.valueOf()===p.valueOf()){g=this._largeUnitsCache.getMinutesPerWeek(d),n=="hour"&&(g/=60),l+=g,d=this.$gantt.date.add(d,7,"day");continue}}l+=a(d),d=this._nextDate(d,"day",1)}return l/o},_getMinutesBetweenSingleDay:function(e,t){for(var n=this._getIntervalTimestamp(e,t),o=this._getWorkHours(e),a=0,l=0;l<o.length;l++){var d=o[l];if(n.end>=d.start&&n.start<=d.end){var f=Math.max(d.start,n.start),g=Math.min(d.end,n.end);a+=(g-f)/60,n.start=g}}return Math.floor(a)},_getMinutesBetween:function(e,t,n,o){var a=new Date(e),l=new Date(t);o=o||1;var d=new Date(a),f=this.$gantt.date.add(this.$gantt.date.day_start(new Date(a)),1,"day");if(l.valueOf()<=f.valueOf())return this._getMinutesBetweenSingleDay(e,t);var g=this.$gantt.date.day_start(new Date(l)),p=l,m=this._getMinutesBetweenSingleDay(d,f),y=this._getMinutesBetweenSingleDay(g,p);return m+this._getWorkUnitsForRange(f,g,n,o)+y},_getHoursBetween:function(e,t,n,o){var a=new Date(e),l=new Date(t);o=o||1;var d=new Date(a),f=this.$gantt.date.add(this.$gantt.date.day_start(new Date(a)),1,"day");if(l.valueOf()<=f.valueOf())return Math.round(this._getMinutesBetweenSingleDay(e,t)/60);var g=this.$gantt.date.day_start(new Date(l)),p=l,m=this._getMinutesBetweenSingleDay(d,f,n,o)/60,y=this._getMinutesBetweenSingleDay(g,p,n,o)/60,v=m+this._getWorkUnitsForRange(f,g,n,o)+y;return Math.round(v)},getConfig:function(){return this._worktime},_setConfig:function(e){this._worktime=e,this._parseSettings(),this._clearCaches()},_parseSettings:function(){var e=this.getConfig();for(var t in e.parsed={dates:{},hours:null,haveCustomWeeks:!1,customWeeks:{},customWeeksRangeStart:null,customWeeksRangeEnd:null,customWeeksBoundaries:[]},e.parsed.hours=this._parseHours(e.hours),e.dates)e.parsed.dates[t]=this._parseHours(e.dates[t]);if(e.customWeeks){var n=null,o=null;for(var t in e.customWeeks){var a=e.customWeeks[t];if(a.from&&a.to){var l=a.from,d=a.to;(!n||n>l.valueOf())&&(n=l.valueOf()),(!o||o<d.valueOf())&&(o=d.valueOf()),e.parsed.customWeeksBoundaries.push({from:l.valueOf(),fromReadable:new Date(l),to:d.valueOf(),toReadable:new Date(d),name:t}),e.parsed.haveCustomWeeks=!0;var f=e.parsed.customWeeks[t]={from:a.from,to:a.to,hours:this._parseHours(a.hours),dates:{}};for(var g in a.dates)f.dates[g]=this._parseHours(a.dates[g])}}e.parsed.customWeeksRangeStart=n,e.parsed.customWeeksRangeEnd=o}},_tryChangeCalendarSettings:function(e){var t=JSON.stringify(this.getConfig());return e(),!!this.hasWorkTime()||(this._setConfig(JSON.parse(t)),this._clearCaches(),!1)},_arraysEqual:function(e,t){if(e===t)return!0;if(!e||!t||e.length!=t.length)return!1;for(var n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0},_compareSettings:function(e,t){if(!this._arraysEqual(e.hours,t.hours))return!1;var n=Object.keys(e.dates),o=Object.keys(t.dates);if(n.sort(),o.sort(),!this._arraysEqual(n,o))return!1;for(var a=0;a<n.length;a++){var l=n[a],d=e.dates[l],f=e.dates[l];if(d!==f&&!(Array.isArray(d)&&Array.isArray(f)&&this._arraysEqual(d,f)))return!1}return!0},equals:function(e){if(!(e instanceof r))return!1;var t=this.getConfig(),n=e.getConfig();if(!this._compareSettings(t,n))return!1;if(t.parsed.haveCustomWeeks&&n.parsed.haveCustomWeeks){if(t.parsed.customWeeksBoundaries.length!=n.parsed.customWeeksBoundaries.length)return!1;for(var o in t.parsed.customWeeks){var a=t.parsed.customWeeks[o],l=n.parsed.customWeeks[o];if(!l||!this._compareSettings(a,l))return!1}}else if(t.parse.haveCustomWeeks!==n.parsed.haveCustomWeeks)return!1;return!0},getWorkHours:function(){var e=this.argumentsHelper.getWorkHoursArguments.apply(this.argumentsHelper,arguments);return this._getWorkHours(e.date,!1)},_getWorkHours:function(e,t){var n=this.getConfig();if(t!==!1&&(n=n.parsed),!e)return n.hours;var o=this._timestamp({date:e});if(n.haveCustomWeeks&&n.customWeeksRangeStart<=o&&n.customWeeksRangeEnd>o){for(var a=0;a<n.customWeeksBoundaries.length;a++)if(n.customWeeksBoundaries[a].from<=o&&n.customWeeksBoundaries[a].to>o){n=n.customWeeks[n.customWeeksBoundaries[a].name];break}}var l=!0;return n.dates[o]!==void 0?l=n.dates[o]:n.dates[e.getDay()]!==void 0&&(l=n.dates[e.getDay()]),l===!0?n.hours:l||[]},_getIntervalTimestamp:function(e,t){var n={start:0,end:0};n.start=60*e.getHours()*60+60*e.getMinutes()+e.getSeconds();var o=t.getHours();return!o&&!t.getMinutes()&&!t.getSeconds()&&e.valueOf()<t.valueOf()&&(o=24),n.end=60*o*60+60*t.getMinutes()+t.getSeconds(),n},_parseHours:function(e){if(Array.isArray(e)){var t=[];e.forEach(function(f){typeof f=="number"?t.push(60*f*60):typeof f=="string"&&f.split("-").map(function(g){return g.trim()}).forEach(function(g){var p=g.split(":").map(function(y){return y.trim()}),m=parseInt(60*p[0]*60);p[1]&&(m+=parseInt(60*p[1])),p[2]&&(m+=parseInt(p[2])),t.push(m)})});for(var n=[],o=0;o<t.length;o+=2){var a=t[o],l=t[o+1],d=l-a;n.push({start:a,end:l,startHour:Math.floor(a/3600),startMinute:Math.floor(a/60),endHour:Math.ceil(l/3600),endMinute:Math.ceil(l/60),durationSeconds:d,durationMinutes:d/60,durationHours:d/3600})}return n}return e},setWorkTime:function(e){return this._tryChangeCalendarSettings(c.bind(function(){var t=e.hours===void 0||e.hours,n=this._timestamp(e),o=this.getConfig();if(n!==null?o.dates[n]=t:e.customWeeks||(o.hours=t),e.customWeeks){if(o.customWeeks||(o.customWeeks={}),typeof e.customWeeks=="string")n!==null?o.customWeeks[e.customWeeks].dates[n]=t:e.customWeeks||(o.customWeeks[e.customWeeks].hours=t);else if(_(e.customWeeks)==="object"&&Function.prototype.toString.call(e.customWeeks.constructor)==="function Object() { [native code] }")for(var a in e.customWeeks)o.customWeeks[a]=e.customWeeks[a]}this._parseSettings(),this._clearCaches()},this))},unsetWorkTime:function(e){return this._tryChangeCalendarSettings(c.bind(function(){if(e){var t=this._timestamp(e);t!==null&&delete this.getConfig().dates[t]}else this.reset_calendar();this._parseSettings(),this._clearCaches()},this))},_isWorkTime:function(e,t){var n=-1,o=null;return o=String(e.valueOf()),(n=this._workingUnitsCache.getItem(t,o,e))==-1&&(n=this._checkIfWorkingUnit(e,t),this._workingUnitsCache.setItem(t,o,n,e)),n},isWorkTime:function(){var e=this.argumentsHelper.isWorkTimeArguments.apply(this.argumentsHelper,arguments);return this._isWorkTime(e.date,e.unit)},calculateDuration:function(){var e=this.argumentsHelper.getDurationArguments.apply(this.argumentsHelper,arguments);if(!e.unit)return!1;var t=this;return this._dateDurationCache.getDuration(e.start_date,e.end_date,e.unit,e.step,function(){return t._calculateDuration(e.start_date,e.end_date,e.unit,e.step)})},_calculateDuration:function(e,t,n,o){var a=0,l=1;if(e.valueOf()>t.valueOf()){var d=t;t=e,e=d,l=-1}return a=n=="hour"&&o==1?this._getHoursBetween(e,t,n,o):n=="minute"&&o==1?this._getMinutesBetween(e,t,n,o):this._getWorkUnitsBetweenGeneric(e,t,n,o),l*Math.round(a)},hasDuration:function(){var e=this.argumentsHelper.getDurationArguments.apply(this.argumentsHelper,arguments),t=e.start_date,n=e.end_date,o=e.unit,a=e.step;if(!o)return!1;var l=new Date(t),d=new Date(n);for(a=a||1;l.valueOf()<d.valueOf();){if(this._isWorkTime(l,o))return!0;l=this._nextDate(l,o,a)}return!1},calculateEndDate:function(){var e=this.argumentsHelper.calculateEndDateArguments.apply(this.argumentsHelper,arguments),t=e.start_date,n=e.duration,o=e.unit,a=e.step;if(!o)return!1;var l=e.duration>=0?1:-1;n=Math.abs(1*n);var d=this;return this._dateDurationCache.getEndDate(t,n,o,a*l,function(){return d._calculateEndDate(t,n,o,a*l)})},_calculateEndDate:function(e,t,n,o){return!!n&&(o==1&&n=="minute"?this._calculateMinuteEndDate(e,t,o):o==-1&&n=="minute"?this._subtractMinuteDate(e,t,o):o==1&&n=="hour"?this._calculateHourEndDate(e,t,o):this._addInterval(e,t,n,o,null).end)},_addInterval:function(e,t,n,o,a){for(var l=0,d=e,f=!1;l<t&&(!a||!a(d));){var g=this._nextDate(d,n,o);n=="day"&&(f=f||!d.getHours()&&g.getHours())&&(g.setHours(0),g.getHours()||(f=!1));var p=new Date(g.valueOf()+1);o>0&&(p=new Date(g.valueOf()-1)),this._isWorkTime(p,n)&&!f&&l++,d=g}return{end:d,start:e,added:l}},_addHoursUntilDayEnd:function(e,t){for(var n=this.$gantt.date.add(this.$gantt.date.day_start(new Date(e)),1,"day"),o=0,a=t,l=this._getIntervalTimestamp(e,n),d=this._getWorkHours(e),f=0;f<d.length&&o<t;f++){var g=d[f];if(l.end>=g.start&&l.start<=g.end){var p=Math.max(g.start,l.start),m=Math.min(g.end,l.end),y=(m-p)/3600;y>a&&(y=a,m=p+60*a*60);var v=Math.round((m-p)/3600);o+=v,a-=v,l.start=m}}var b=n;return o===t&&(b=new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,0,l.start)),{added:o,end:b}},_calculateHourEndDate:function(e,t,n){var o=new Date(e),a=0;n=n||1,t=Math.abs(1*t);var l=this._addHoursUntilDayEnd(o,t);if(a=l.added,o=l.end,p=t-a){for(var d=o;a<t;){var f=this._nextDate(d,"day",n);f.setHours(0),f.setMinutes(0),f.setSeconds(0);var g=0;if(a+(g=n>0?this.getHoursPerDay(new Date(f.valueOf()-1)):this.getHoursPerDay(new Date(f.valueOf()+1)))>=t)break;a+=g,d=f}o=d}if(a<t){var p=t-a;o=(l=this._addHoursUntilDayEnd(o,p)).end}return o},_addMinutesUntilHourEnd:function(e,t){if(e.getMinutes()===0)return{added:0,end:new Date(e)};for(var n=this.$gantt.date.add(this.$gantt.date.hour_start(new Date(e)),1,"hour"),o=0,a=t,l=this._getIntervalTimestamp(e,n),d=this._getWorkHours(e),f=0;f<d.length&&o<t;f++){var g=d[f];if(l.end>=g.start&&l.start<=g.end){var p=Math.max(g.start,l.start),m=Math.min(g.end,l.end),y=(m-p)/60;y>a&&(y=a,m=p+60*a);var v=Math.round((m-p)/60);a-=v,o+=v,l.start=m}}var b=n;return o===t&&(b=new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,0,l.start)),{added:o,end:b}},_subtractMinutesUntilHourStart:function(e,t){for(var n=this.$gantt.date.hour_start(new Date(e)),o=0,a=t,l=60*n.getHours()*60+60*n.getMinutes()+n.getSeconds(),d=60*e.getHours()*60+60*e.getMinutes()+e.getSeconds(),f=this._getWorkHours(e),g=f.length-1;g>=0&&o<t;g--){var p=f[g];if(d>p.start&&l<=p.end){var m=Math.min(d,p.end),y=Math.max(l,p.start),v=(m-y)/60;v>a&&(v=a,y=m-60*a);var b=Math.abs(Math.round((m-y)/60));a-=b,o+=b,d=y}}var k=n;return o===t&&(k=new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,0,d)),{added:o,end:k}},_subtractMinuteDate:function(e,t,n){var o=new Date(e),a=0;n=n||-1,t=Math.abs(1*t),t=Math.round(t);var l=this._isMinutePrecision(o),d=this._subtractMinutesUntilHourStart(o,t);a+=d.added,o=d.end;for(var f=0,g=[],p=0;a<t;){var m=this.$gantt.date.day_start(new Date(o)),y=!1;o.valueOf()===m.valueOf()&&(m=this.$gantt.date.add(m,-1,"day"),y=!0);var v=new Date(m.getFullYear(),m.getMonth(),m.getDate(),23,59,59,999).valueOf();v!==f&&(g=this._getWorkHours(m),p=this._getMinutesPerDay(m),f=v);var b=t-a,k=this._getTimeOfDayStamp(o,y);if(g.length&&p)if(g[g.length-1].end<=k&&b>p)a+=p,o=this.$gantt.date.add(o,-1,"day");else{for(var $=!1,w=null,x=null,T=g.length-1;T>=0;T--)if(g[T].start<k-1&&g[T].end>=k-1){$=!0,w=g[T],x=g[T-1];break}if($)if(k===w.end&&b>=w.durationMinutes)a+=w.durationMinutes,o=this.$gantt.date.add(o,-w.durationMinutes,"minute");else if(!l&&b<=k/60-w.startMinute)a+=b,o=this.$gantt.date.add(o,-b,"minute");else if(l)b<=k/60-w.startMinute?(a+=b,o=this.$gantt.date.add(o,-b,"minute")):(a+=k/60-w.startMinute,o=x?new Date(o.getFullYear(),o.getMonth(),o.getDate(),0,0,x.end):this.$gantt.date.day_start(o));else{var D=this._getMinutesPerHour(o);D<=b?(a+=D,o=this._nextDate(o,"hour",n)):(a+=(d=this._subtractMinutesUntilHourStart(o,b)).added,o=d.end)}else if(o.getHours()===0&&o.getMinutes()===0&&o.getSeconds()===0){if((I=this._getClosestWorkTimePast(o,"hour")).valueOf()===o.valueOf()){var I=this.$gantt.date.add(o,-1,"day"),P=this._getWorkHours(I);if(P.length){var R=P[P.length-1];I.setSeconds(R.durationSeconds)}}o=I}else o=this._getClosestWorkTimePast(new Date(o-1),"hour")}else o=this.$gantt.date.add(o,-1,"day")}if(a<t){var H=t-a;a+=(d=this._subtractMinutesUntilHourStart(o,H)).added,o=d.end}return o},_calculateMinuteEndDate:function(e,t,n){var o=new Date(e),a=0;n=n||1,t=Math.abs(1*t),t=Math.round(t);var l=this._addMinutesUntilHourEnd(o,t);a+=l.added,o=l.end;for(var d=0,f=[],g=0,p=this._isMinutePrecision(o);a<t;){var m=this.$gantt.date.day_start(new Date(o)).valueOf();m!==d&&(f=this._getWorkHours(o),g=this._getMinutesPerDay(o),d=m);var y=t-a,v=this._getTimeOfDayStamp(o);if(f.length&&g)if(f[0].start>=v&&y>=g){if(a+=g,y==g){o=new Date(o.getFullYear(),o.getMonth(),o.getDate(),0,0,f[f.length-1].end);break}o=this.$gantt.date.add(o,1,"day"),o=this.$gantt.date.day_start(o)}else{for(var b=!1,k=null,$=0;$<f.length;$++)if(f[$].start<=v&&f[$].end>v){b=!0,k=f[$];break}if(b)if(v===k.start&&y>=k.durationMinutes)a+=k.durationMinutes,o=this.$gantt.date.add(o,k.durationMinutes,"minute");else if(y<=k.endMinute-v/60)a+=y,o=this.$gantt.date.add(o,y,"minute");else{var w=this._getMinutesPerHour(o);w<=y?(a+=w,o=p?this.$gantt.date.add(o,w,"minute"):this._nextDate(o,"hour",n)):(a+=(l=this._addMinutesUntilHourEnd(o,y)).added,o=l.end)}else o=this._getClosestWorkTimeFuture(o,"hour")}else o=this.$gantt.date.add(this.$gantt.date.day_start(o),1,"day")}if(a<t){var x=t-a;a+=(l=this._addMinutesUntilHourEnd(o,x)).added,o=l.end}return o},getClosestWorkTime:function(){var e=this.argumentsHelper.getClosestWorkTimeArguments.apply(this.argumentsHelper,arguments);return this._getClosestWorkTime(e.date,e.unit,e.dir)},_getClosestWorkTime:function(e,t,n){var o=new Date(e);if(this._isWorkTime(o,t))return o;if(o=this.$gantt.date[t+"_start"](o),n!="any"&&n)o=n=="past"?this._getClosestWorkTimePast(o,t):this._getClosestWorkTimeFuture(o,t);else{var a=this._getClosestWorkTimeFuture(o,t),l=this._getClosestWorkTimePast(o,t);o=Math.abs(a-e)<=Math.abs(e-l)?a:l}return o},_getClosestWorkTimeFuture:function(e,t){return this._getClosestWorkTimeGeneric(e,t,1)},_getClosestWorkTimePast:function(e,t){var n=this._getClosestWorkTimeGeneric(e,t,-1);return this.$gantt.date.add(n,1,t)},_findClosestTimeInDay:function(e,t,n){var o=new Date(e),a=null,l=!1;this._getWorkHours(o).length||(o=this._getClosestWorkTime(o,"day",t<0?"past":"future"),t<0&&(o=new Date(o.valueOf()-1),l=!0),n=this._getWorkHours(o));var d=this._getTimeOfDayStamp(o);if(l&&(d=this._getTimeOfDayStamp(new Date(o.valueOf()+1),l)),t>0){for(var f=0;f<n.length;f++)if(n[f].start>=d){a=new Date(o.getFullYear(),o.getMonth(),o.getDate(),0,0,n[f].start);break}}else for(f=n.length-1;f>=0;f--){if(n[f].end<=d){a=new Date(o.getFullYear(),o.getMonth(),o.getDate(),0,0,n[f].end);break}if(n[f].end>d&&n[f].start<=d){a=new Date(o.getFullYear(),o.getMonth(),o.getDate(),0,0,d);break}}return a},_getClosestWorkMinute:function(e,t,n){var o=new Date(e),a=this._getWorkHours(o),l=this._findClosestTimeInDay(o,n,a);return l||(o=this.calculateEndDate(o,n,"day"),n>0?o=this.$gantt.date.day_start(o):(o=this.$gantt.date.day_start(o),o=this.$gantt.date.add(o,1,"day"),o=new Date(o.valueOf()-1)),a=this._getWorkHours(o),l=this._findClosestTimeInDay(o,n,a)),n<0&&(l=this.$gantt.date.add(l,-1,t)),l},_getClosestWorkTimeGeneric:function(e,t,n){if(t==="hour"||t==="minute")return this._getClosestWorkMinute(e,t,n);for(var o=this._getUnitOrder(t),a=this.units[o-1],l=e,d=0;!this._isWorkTime(l,t)&&(!a||this._isWorkTime(l,a)||(l=n>0?this._getClosestWorkTimeFuture(l,a):this._getClosestWorkTimePast(l,a),!this._isWorkTime(l,t)));){if(++d>3e3)return this.$gantt.assert(!1,"Invalid working time check"),!1;var f=l.getTimezoneOffset();l=this.$gantt.date.add(l,n,t),l=this.$gantt._correct_dst_change(l,f,n,t),this.$gantt.date[t+"_start"]&&(l=this.$gantt.date[t+"_start"](l))}return l},hasWorkTime:function(){var e=this.getConfig(),t=e.dates,n=[];for(var o in e.dates)Number(o)>6&&n.push(Number(o));var a=this._checkWorkHours(e.hours),l=!1;return[0,1,2,3,4,5,6].forEach((function(d){if(!l){var f=t[d];f===!0?l=a:Array.isArray(f)&&(l=this._checkWorkHours(f))}}).bind(this)),l},_checkWorkHours:function(e){if(e.length===0)return!1;for(var t=!1,n=0;n<e.length;n+=2)e[n]!==e[n+1]&&(t=!0);return t},_isMinutePrecision:function(e){var t=!1;return this._getWorkHours(e).forEach(function(n){(n.startMinute%60||n.endMinute%60)&&(t=!0)}),t}},A.exports=r},function(A,E,h){var _=h(0);function u(){}u.prototype={_getIntervals:function(s){for(var c=[],i=0;i<s.length;i+=2)c.push({start:s[i],end:s[i+1]});return c},_toHoursArray:function(s){var c=[];function i(e){var t=Math.floor(e/3600),n=e-60*t*60;return t+":"+function(o){var a=String(o);return a.length<2&&(a="0"+a),a}(Math.floor(n/60))}for(var r=0;r<s.length;r++)c.push(i(s[r].start)+"-"+i(s[r].end));return c},_intersectHourRanges:function(s,c){var i=[],r=s.length>c.length?s:c,e=s===r?c:s;r=r.slice(),e=e.slice(),i=[];for(var t=0;t<r.length;t++)for(var n=r[t],o=0;o<e.length;o++){var a=e[o];a.start<n.end&&a.end>n.start&&(i.push({start:Math.max(n.start,a.start),end:Math.min(n.end,a.end)}),n.end>a.end&&(e.splice(o,1),o--,t--))}return i},_mergeAdjacentIntervals:function(s){var c=s.slice();c.sort(function(t,n){return t.start-n.start});for(var i=c[0],r=1;r<c.length;r++){var e=c[r];e.start<=i.end?(e.end>i.end&&(i.end=e.end),c.splice(r,1),r--):i=e}return c},_mergeHoursConfig:function(s,c){return this._mergeAdjacentIntervals(this._intersectHourRanges(s,c))},merge:function(s,c){var i=_.copy(s.getConfig().parsed),r=_.copy(c.getConfig().parsed),e={hours:this._toHoursArray(this._mergeHoursConfig(i.hours,r.hours)),dates:{},customWeeks:{}};for(var t in i.dates){var n=i.dates[t],o=r.dates[t];if(n&&o)if(Array.isArray(n)||Array.isArray(o)){var a=Array.isArray(n)?n:i.hours,l=Array.isArray(o)?o:r.hours;e.dates[t]=this._toHoursArray(this._mergeHoursConfig(a,l))}else e.dates[t]=!0;else e.dates[t]=!1}if(i.customWeeks)for(var t in i.customWeeks)e.customWeeks[t]=i.customWeeks[t];if(r.customWeeks)for(var t in r.customWeeks)e.customWeeks[t]=r.customWeeks[t];return e}},A.exports=u},function(A,E,h){var _=h(0),u=h(42),s=h(198),c=h(197),i=h(192),r=h(191)();function e(t){this.$gantt=t,this._calendars={},this._legacyConfig=void 0,this.$gantt.attachEvent("onGanttReady",(function(){this.$gantt.config.resource_calendars&&(this._isLegacyConfig=i.isLegacyResourceCalendarFormat(this.$gantt.config.resource_calendars))}).bind(this)),this.$gantt.attachEvent("onBeforeGanttReady",(function(){this.createDefaultCalendars()}).bind(this)),this.$gantt.attachEvent("onBeforeGanttRender",(function(){this.createDefaultCalendars()}).bind(this))}e.prototype={_calendars:{},_convertWorkTimeSettings:function(t){var n=t.days;if(n&&!t.dates){t.dates=t.dates||{};for(var o=0;o<n.length;o++)t.dates[o]=n[o],n[o]instanceof Array||(t.dates[o]=!!n[o])}return delete t.days,t},mergeCalendars:function(){var t=[],n=arguments;if(Array.isArray(n[0]))t=n[0].slice();else for(var o=0;o<arguments.length;o++)t.push(arguments[o]);var a,l=new s;return t.forEach((function(d){a=a?this._createCalendarFromConfig(l.merge(a,d)):d}).bind(this)),this.createCalendar(a)},_createCalendarFromConfig:function(t){var n=new c(this.$gantt,u(this.$gantt));n.id=String(_.uid());var o=this._convertWorkTimeSettings(t);if(o.customWeeks)for(var a in o.customWeeks)o.customWeeks[a]=this._convertWorkTimeSettings(o.customWeeks[a]);return n._setConfig(o),n},createCalendar:function(t){var n;t||(t={}),n=t.getConfig?_.copy(t.getConfig()):t.worktime?_.copy(t.worktime):_.copy(t);var o=_.copy(this.defaults.fulltime.worktime);return _.mixin(n,o),this._createCalendarFromConfig(n)},getCalendar:function(t){t=t||"global";var n=this._calendars[t];return n||(this.createDefaultCalendars(),n=this._calendars[t]),n},getCalendars:function(){var t=[];for(var n in this._calendars)t.push(this.getCalendar(n));return t},_getOwnCalendar:function(t){var n=this.$gantt.config;if(t[n.calendar_property])return this.getCalendar(t[n.calendar_property]);if(n.resource_calendars){var o;if(o=this._legacyConfig===!1?n.resource_property:i.getResourceProperty(n),Array.isArray(t[o]))n.dynamic_resource_calendars&&(a=r.getCalendarIdFromMultipleResources(t[o],this));else if(this._legacyConfig===void 0&&(this._legacyConfig=i.isLegacyResourceCalendarFormat(n.resource_calendars)),this._legacyConfig)var a=i.getCalendarIdFromLegacyConfig(t,n.resource_calendars);else if(o&&t[o]&&n.resource_calendars[t[o]])var l=this.getResourceCalendar(t[o]);if(a&&(l=this.getCalendar(a)),l)return l}return null},getResourceCalendar:function(t){if(t==null)return this.getCalendar();var n=null;n=typeof t=="number"||typeof t=="string"?t:t.id||t.key;var o=this.$gantt.config,a=o.resource_calendars,l=null;if(a){if(this._legacyConfig===void 0&&(this._legacyConfig=i.isLegacyResourceCalendarFormat(o.resource_calendars)),this._legacyConfig){for(var d in a)if(a[d][n]){l=a[d][n];break}}else l=a[n];if(l)return this.getCalendar(l)}return this.getCalendar()},getTaskCalendar:function(t){var n,o=this.$gantt;if(t==null)return this.getCalendar();if(!(n=typeof t!="number"&&typeof t!="string"||!o.isTaskExists(t)?t:o.getTask(t)))return this.getCalendar();var a=this._getOwnCalendar(n),l=!!o.getState().group_mode;if(!a&&o.config.inherit_calendar&&o.isTaskExists(n.parent)){for(var d=n;o.isTaskExists(d.parent)&&(d=o.getTask(d.parent),!o.isSummaryTask(d)||!(a=this._getOwnCalendar(d))););l&&!a&&t.$effective_calendar&&(a=this.getCalendar(t.$effective_calendar))}return a||this.getCalendar()},addCalendar:function(t){if(!this.isCalendar(t)){var n=t.id;(t=this.createCalendar(t)).id=n}if(t._tryChangeCalendarSettings(function(){})){var o=this.$gantt.config;return t.id=t.id||_.uid(),this._calendars[t.id]=t,o.worktimes||(o.worktimes={}),o.worktimes[t.id]=t.getConfig(),t.id}return this.$gantt.callEvent("onCalendarError",[{message:"Invalid calendar settings, no worktime available"},t]),null},deleteCalendar:function(t){var n=this.$gantt.config;return!!t&&!!this._calendars[t]&&(delete this._calendars[t],n.worktimes&&n.worktimes[t]&&delete n.worktimes[t],!0)},restoreConfigCalendars:function(t){for(var n in t)if(!this._calendars[n]){var o=t[n],a=this.createCalendar(o);a.id=n,this.addCalendar(a)}},defaults:{global:{id:"global",worktime:{hours:[8,12,13,17],days:[0,1,1,1,1,1,0]}},fulltime:{id:"fulltime",worktime:{hours:[0,24],days:[1,1,1,1,1,1,1]}}},createDefaultCalendars:function(){var t=this.$gantt.config;this.restoreConfigCalendars(this.defaults),this.restoreConfigCalendars(t.worktimes)},isCalendar:function(t){return[t.isWorkTime,t.setWorkTime,t.getWorkHours,t.unsetWorkTime,t.getClosestWorkTime,t.calculateDuration,t.hasDuration,t.calculateEndDate].every(function(n){return n instanceof Function})}},A.exports=e},function(A,E,h){var _=h(199),u=h(190),s=h(188),c=h(0);A.exports=function(i){var r=new _(i),e=new u(r),t=s.create(r,e);c.mixin(i,t)}},function(A,E,h){function _(s){"@babel/helpers - typeof";return(_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(s)}var u=h(2);A.exports=function(s){function c(i){throw s.assert(!1,"Can't parse data: incorrect value of gantt.parse or gantt.load method. Actual argument value: "+JSON.stringify(i)),new Error("Invalid argument for gantt.parse or gantt.load. An object or a JSON string of format https://docs.dhtmlx.com/gantt/desktop__supported_data_formats.html#json is expected. Actual argument value: "+JSON.stringify(i))}s.load=function(i,r,e){this._load_url=i,this.assert(arguments.length,"Invalid load arguments");var t="json",n=null;return arguments.length>=3?(t=r,n=e):typeof arguments[1]=="string"?t=arguments[1]:typeof arguments[1]=="function"&&(n=arguments[1]),this._load_type=t,this.callEvent("onLoadStart",[i,t]),this.ajax.get(i,s.bind(function(o){this.on_load(o,t),this.callEvent("onLoadEnd",[i,t]),typeof n=="function"&&n.call(this)},this))},s.parse=function(i,r){this.on_load({xmlDoc:{responseText:i}},r)},s.serialize=function(i){return this[i=i||"json"].serialize()},s.on_load=function(i,r){if(i.xmlDoc&&i.xmlDoc.status===404)this.assert(!1,"Failed to load the data from <a href='"+i.xmlDoc.responseURL+"' target='_blank'>"+i.xmlDoc.responseURL+"</a>, server returns 404");else if(!s.$destroyed){this.callEvent("onBeforeParse",[]),r||(r="json"),this.assert(this[r],"Invalid data type:'"+r+"'");var e=i.xmlDoc.responseText,t=this[r].parse(e,i);this._process_loading(t)}},s._process_loading=function(i){i.collections&&this._load_collections(i.collections),i.resources&&this.$data.resourcesStore&&this.$data.resourcesStore.parse(i.resources);var r=i.data||i.tasks;i.assignments&&function(t,n){var o={};n.forEach(function(a){o[a.task_id]||(o[a.task_id]=[]),o[a.task_id].push(a)}),t.forEach(function(a){a[s.config.resource_property]=o[a.id]||[]})}(r,i.assignments),this.$data.tasksStore.parse(r);var e=i.links||(i.collections?i.collections.links:[]);this.$data.linksStore.parse(e),this.callEvent("onParse",[]),this.render()},s._load_collections=function(i){var r=!1;for(var e in i)if(i.hasOwnProperty(e)){r=!0;var t=i[e];this.serverList[e]=this.serverList[e]||[];var n=this.serverList[e];if(!n)continue;n.splice(0,n.length);for(var o=0;o<t.length;o++){var a=t[o],l=this.copy(a);for(var d in l.key=l.value,a)if(a.hasOwnProperty(d)){if(d=="value"||d=="label")continue;l[d]=a[d]}n.push(l)}}r&&this.callEvent("onOptionsLoad",[])},s.attachEvent("onBeforeTaskDisplay",function(i,r){return!r.$ignore}),s.json={parse:function(i){if(i||c(i),typeof i=="string")if((typeof JSON>"u"?"undefined":_(JSON))!=null)try{i=JSON.parse(i)}catch{c(i)}else s.assert(!1,"JSON is not supported");return i.data||i.tasks||c(i),i.dhx_security&&(s.security_key=i.dhx_security),i},serializeTask:function(i){return this._copyObject(i)},serializeLink:function(i){return this._copyLink(i)},_copyLink:function(i){var r={};for(var e in i)r[e]=i[e];return r},_copyObject:function(i){var r={};for(var e in i)e.charAt(0)!="$"&&(r[e]=i[e],u.isDate(r[e])&&(r[e]=s.defined(s.templates.xml_format)?s.templates.xml_format(r[e]):s.templates.format_date(r[e])));return r},serialize:function(){var i=[],r=[];s.eachTask(function(n){s.resetProjectDates(n),i.push(this.serializeTask(n))},s.config.root_id,this);for(var e=s.getLinks(),t=0;t<e.length;t++)r.push(this.serializeLink(e[t]));return{data:i,links:r}}},s.xml={_xmlNodeToJSON:function(i,r){for(var e={},t=0;t<i.attributes.length;t++)e[i.attributes[t].name]=i.attributes[t].value;if(!r){for(t=0;t<i.childNodes.length;t++){var n=i.childNodes[t];n.nodeType==1&&(e[n.tagName]=n.firstChild?n.firstChild.nodeValue:"")}e.text||(e.text=i.firstChild?i.firstChild.nodeValue:"")}return e},_getCollections:function(i){for(var r={},e=s.ajax.xpath("//coll_options",i),t=0;t<e.length;t++)for(var n=r[e[t].getAttribute("for")]=[],o=s.ajax.xpath(".//item",e[t]),a=0;a<o.length;a++){for(var l=o[a].attributes,d={key:o[a].getAttribute("value"),label:o[a].getAttribute("label")},f=0;f<l.length;f++){var g=l[f];g.nodeName!="value"&&g.nodeName!="label"&&(d[g.nodeName]=g.nodeValue)}n.push(d)}return r},_getXML:function(i,r,e){e=e||"data",r.getXMLTopNode||(r=s.ajax.parse(r));var t=s.ajax.xmltop(e,r.xmlDoc);t&&t.tagName==e||function(o){throw s.assert(!1,"Can't parse data: incorrect value of gantt.parse or gantt.load method. Actual argument value: "+JSON.stringify(o)),new Error("Invalid argument for gantt.parse or gantt.load. An XML of format https://docs.dhtmlx.com/gantt/desktop__supported_data_formats.html#xmldhtmlxgantt20 is expected. Actual argument value: "+JSON.stringify(o))}(i);var n=t.getAttribute("dhx_security");return n&&(s.security_key=n),t},parse:function(i,r){r=this._getXML(i,r);for(var e={},t=e.data=[],n=s.ajax.xpath("//task",r),o=0;o<n.length;o++)t[o]=this._xmlNodeToJSON(n[o]);return e.collections=this._getCollections(r),e},_copyLink:function(i){return"<item id='"+i.id+"' source='"+i.source+"' target='"+i.target+"' type='"+i.type+"' />"},_copyObject:function(i){return"<task id='"+i.id+"' parent='"+(i.parent||"")+"' start_date='"+i.start_date+"' duration='"+i.duration+"' open='"+!!i.open+"' progress='"+i.progress+"' end_date='"+i.end_date+"'><![CDATA["+i.text+"]]></task>"},serialize:function(){for(var i=[],r=[],e=s.json.serialize(),t=0,n=e.data.length;t<n;t++)i.push(this._copyObject(e.data[t]));for(t=0,n=e.links.length;t<n;t++)r.push(this._copyLink(e.links[t]));return"<data>"+i.join("")+"<coll_options for='links'>"+r.join("")+"</coll_options></data>"}},s.oldxml={parse:function(i,r){r=s.xml._getXML(i,r,"projects");for(var e={collections:{links:[]}},t=e.data=[],n=s.ajax.xpath("//task",r),o=0;o<n.length;o++){t[o]=s.xml._xmlNodeToJSON(n[o]);var a=n[o].parentNode;a.tagName=="project"?t[o].parent="project-"+a.getAttribute("id"):t[o].parent=a.parentNode.getAttribute("id")}for(n=s.ajax.xpath("//project",r),o=0;o<n.length;o++)(l=s.xml._xmlNodeToJSON(n[o],!0)).id="project-"+l.id,t.push(l);for(o=0;o<t.length;o++){var l;(l=t[o]).start_date=l.startdate||l.est,l.end_date=l.enddate,l.text=l.name,l.duration=l.duration/8,l.open=1,l.duration||l.end_date||(l.duration=1),l.predecessortasks&&e.collections.links.push({target:l.id,source:l.predecessortasks,type:s.config.links.finish_to_start})}return e},serialize:function(){s.message("Serialization to 'old XML' is not implemented")}},s.serverList=function(i,r){return r?this.serverList[i]=r.slice(0):this.serverList[i]||(this.serverList[i]=[]),this.serverList[i]}}},function(A,E){A.exports=function(h){h.isReadonly=function(_){return typeof _!="number"&&typeof _!="string"||!h.isTaskExists(_)||(_=h.getTask(_)),(!_||!_[this.config.editable_property])&&(_&&_[this.config.readonly_property]||this.config.readonly)}}},function(A,E){A.exports=function(h){h.getGridColumn=function(_){for(var u=h.config.columns,s=0;s<u.length;s++)if(u[s].name==_)return u[s];return null},h.getGridColumns=function(){return h.config.columns.slice()}}},function(A,E,h){Object.defineProperty(E,"__esModule",{value:!0});var _=function(){function u(s){this._scrollOrder=0;var c=s.gantt,i=s.grid,r=s.dnd,e=s.getCurrentX;this.$gantt=c,this.$grid=i,this._dnd=r,this.getCurrentX=e,this._scrollView=this.$gantt.$ui.getView(this.$grid.$config.scrollX),this.attachEvents()}return u.prototype.attachEvents=function(){var s=this;this.isScrollable()&&(this._dnd.attachEvent("onDragMove",function(c,i){var r=s.$grid.$grid.getBoundingClientRect(),e=r.right,t=r.left,n=s.getCurrentX(i.clientX);return n>=e-20&&(s.autoscrollRight(),s.autoscrollStart()),n<=t+20&&(s.autoscrollLeft(),s.autoscrollStart()),n<e-20&&n>t+20&&s.autoscrollStop(),!0}),this._dnd.attachEvent("onDragEnd",function(){s.autoscrollStop()}))},u.prototype.autoscrollStart=function(){var s=this;if(this._scrollOrder!==0){var c=10*this._scrollOrder,i=this._scrollView.getScrollState();this._scrollView.scrollTo(i.position+c),setTimeout(function(){s.autoscrollStart()},50)}},u.prototype.autoscrollRight=function(){this._scrollOrder=1},u.prototype.autoscrollLeft=function(){this._scrollOrder=-1},u.prototype.autoscrollStop=function(){this._scrollOrder=0},u.prototype.getCorrection=function(){return this.isScrollable()?this._scrollView.getScrollState().position:0},u.prototype.isScrollable=function(){return!!this.$grid.$config.scrollable},u}();E.default=_},function(A,E,h){Object.defineProperty(E,"__esModule",{value:!0});var _=h(1),u=h(204),s=function(){function c(i,r){var e=this;this._targetMarker=null,this.calculateCurrentPosition=function(t){var n=e.$grid.$grid.getBoundingClientRect(),o=n.right,a=n.left,l=t;return l>o&&(l=o),l<a&&(l=a),l},this.$gantt=i,this.$grid=r}return c.prototype.init=function(){var i=this.$gantt.$services.getService("dnd");this._dnd=new i(this.$grid.$grid_scale,{updates_per_second:60}),this._scrollableGrid=new u.default({gantt:this.$gantt,grid:this.$grid,dnd:this._dnd,getCurrentX:this.calculateCurrentPosition}),this.attachEvents()},c.prototype.attachEvents=function(){var i=this;this._dnd.attachEvent("onBeforeDragStart",function(r,e){if(i._draggedCell=i.$gantt.utils.dom.closest(e.target,".gantt_grid_head_cell"),i._draggedCell){var t,n,o=i.$grid.$getConfig().columns,a=i._draggedCell.getAttribute("data-column-id");return o.map(function(l,d){l.name===a&&(t=l,n=d)}),i.$grid.callEvent("onBeforeColumnDragStart",[{draggedColumn:t,draggedIndex:n}])===!1?!1:!(!i._draggedCell||!t)&&(i._gridConfig=i.$grid.$getConfig(),i._originAutoscroll=i.$gantt.config.autoscroll,i.$gantt.config.autoscroll=!1,!0)}}),this._dnd.attachEvent("onAfterDragStart",function(r,e){i._draggedCell&&(i._dnd.config.column=i._draggedCell.getAttribute("data-column-id"),i._dnd.config.marker.innerHTML=i._draggedCell.outerHTML,i._dnd.config.marker.classList.add("gantt_column_drag_marker"),i._dnd.config.marker.style.height=i._gridConfig.scale_height+"px",i._dnd.config.marker.style.lineHeight=i._gridConfig.scale_height+"px",i._draggedCell.classList.add("gantt_grid_head_cell_dragged"))}),this._dnd.attachEvent("onDragMove",function(r,e){if(i._draggedCell){i._dragX=e.clientX;var t=i.calculateCurrentPosition(e.clientX),n=i.findColumnsIndexes(),o=n.targetIndex,a=n.draggedIndex,l=i.$grid.$getConfig().columns,d=l[a],f=l[o];return i.$grid.callEvent("onColumnDragMove",[{draggedColumn:d,targetColumn:f,draggedIndex:a,targetIndex:o}])===!1?(i.cleanTargetMarker(),!1):(i.setMarkerPosition(t),i.drawTargetMarker(n),!0)}}),this._dnd.attachEvent("onDragEnd",function(){i._draggedCell&&(i.$gantt.config.autoscroll=i._originAutoscroll,i._draggedCell.classList.remove("gantt_grid_head_cell_dragged"),i.cleanTargetMarker(),i.reorderColumns())})},c.prototype.reorderColumns=function(){var i=this.findColumnsIndexes(),r=i.targetIndex,e=i.draggedIndex,t=this.$grid.$getConfig().columns,n=t[e],o=t[r];this.$grid.callEvent("onBeforeColumnReorder",[{draggedColumn:n,targetColumn:o,draggedIndex:e,targetIndex:r}])!==!1&&r!==e&&(t.splice(e,1),t.splice(r,0,n),this.$gantt.render(),this.$grid.callEvent("onAfterColumnReorder",[{draggedColumn:n,targetColumn:o,draggedIndex:e,targetIndex:r}]))},c.prototype.findColumnsIndexes=function(){var i,r,e,t,n,o=this._dnd.config.column,a=this.$grid.$getConfig().columns,l={startX:0,endX:0},d=0,f=a.length-1,g=function(v,b){return v<=b},p=function(v){return++v};this.$gantt.config.rtl&&(d=a.length-1,f=0,g=function(v,b){return v>=b},p=function(v){return--v});for(var m=this._dragX-this.$grid.$grid.getBoundingClientRect().left+this._scrollableGrid.getCorrection(),y=d;g(y,f)&&(i===void 0||r===void 0);y=p(y))a[y].hide||(l.startX=l.endX,l.endX+=a[y].width,m>=l.startX&&(m<=l.endX||!g(p(y),f))&&(i=y,e=l.startX,t=l.endX,n=(m-l.startX)/(l.endX-l.startX)),o===a[y].name&&(r=y));return{targetIndex:i,draggedIndex:r,xBefore:e,xAfter:t,columnRelativePos:n}},c.prototype.setMarkerPosition=function(i,r){r===void 0&&(r=10);var e=this._dnd.config.marker,t=this._dnd._obj.getBoundingClientRect();e.style.top=t.y+r+"px",e.style.left=i+"px"},c.prototype.drawTargetMarker=function(i){var r,e=i.targetIndex,t=i.draggedIndex,n=i.xBefore,o=i.xAfter,a=i.columnRelativePos;this._targetMarker||(this._targetMarker=document.createElement("div"),_.addClassName(this._targetMarker,"gantt_grid_target_marker"),this._targetMarker.style.display="none",this._targetMarker.style.height=this._gridConfig.scale_height+"px"),this._targetMarker.parentNode||this.$grid.$grid_scale.appendChild(this._targetMarker),r=e>t?o:e<t?n:a>.5?o:n,this._targetMarker.style.left=r+"px",this._targetMarker.style.display="block"},c.prototype.cleanTargetMarker=function(){this._targetMarker&&this._targetMarker.parentNode&&this.$grid.$grid_scale.removeChild(this._targetMarker),this._targetMarker=null},c}();E.ColumnsGridDnd=s},function(A,E,h){Object.defineProperty(E,"__esModule",{value:!0});var _=h(205);E.default=_.ColumnsGridDnd},function(A,E,h){var _=h(1);A.exports=function(u,s){var c={row_before_start:u.bind(function(i,r,e){var t=s.$getConfig(),n=s.$config.rowStore;if(!_.locateAttribute(e,t.task_grid_row_resizer_attribute))return!1;var o=this.locate(e,t.task_grid_row_resizer_attribute),a=n.getItem(o);return s.callEvent("onBeforeRowResize",[a])!==!1&&void 0},u),row_after_start:u.bind(function(i,r,e){var t=s.$getConfig(),n=this.locate(e,t.task_grid_row_resizer_attribute);i.config.marker.innerHTML="",i.config.marker.className+=" gantt_row_grid_resize_area",i.config.marker.style.width=s.$grid.offsetWidth+"px",i.config.drag_id=n},u),row_drag_move:u.bind(function(i,r,e){var t=s.$config.rowStore,n=s.$getConfig(),o=i.config,a=o.drag_id,l=s.getItemHeight(a),d=s.getItemTop(a),f=_.getNodePosition(s.$grid_data),g=parseInt(o.marker.style.top,10),p=d+f.y,m=0,y=n.min_task_grid_row_height;return(m=g-p)<y&&(m=y),o.marker.style.left=f.x+"px",o.marker.style.top=p-1+"px",o.marker.style.height=Math.abs(m)+1+"px",o.marker_height=m,s.callEvent("onRowResize",[a,t.getItem(a),m+l]),!0},u),row_drag_end:u.bind(function(i,r,e){var t=s.$config.rowStore,n=i.config,o=n.drag_id,a=t.getItem(o),l=s.getItemHeight(o),d=n.marker_height;s.callEvent("onBeforeRowResizeEnd",[o,a,d])!==!1&&a.row_height!=d&&(a.row_height=d,u.updateTask(o),s.callEvent("onAfterRowResize",[o,a,l,d]),this.render())},u)};return{init:function(){var i=u.$services.getService("dnd"),r=s.$getConfig(),e=new i(s.$grid_data,{updates_per_second:60});u.defined(r.dnd_sensitivity)&&(e.config.sensitivity=r.dnd_sensitivity),e.attachEvent("onBeforeDragStart",function(t,n){return c.row_before_start(e,t,n)}),e.attachEvent("onAfterDragStart",function(t,n){return c.row_after_start(e,t,n)}),e.attachEvent("onDragMove",function(t,n){return c.row_drag_move(e,t,n)}),e.attachEvent("onDragEnd",function(t,n){return c.row_drag_end(e,t,n)})}}}},function(A,E){A.exports=function(h){var _=-1,u=-1;return{resetCache:function(){_=-1,u=-1},_getRowHeight:function(){return _===-1&&(_=h.$getConfig().row_height),_},_refreshState:function(){this.resetCache(),u=!0;var s=h.$config.rowStore;if(s)for(var c=this._getRowHeight(),i=0;i<s.fullOrder.length;i++){var r=s.getItem(s.fullOrder[i]);if(r&&r.row_height&&r.row_height!==c){u=!1;break}}},canUseSimpleCalculation:function(){return u===-1&&this._refreshState(),u},getRowTop:function(s){return h.$config.rowStore?s*this._getRowHeight():0},getItemHeight:function(s){return this._getRowHeight()},getTotalHeight:function(){return h.$config.rowStore?h.$config.rowStore.countVisible()*this._getRowHeight():0},getItemIndexByTopPosition:function(s){return h.$config.rowStore?Math.floor(s/this._getRowHeight()):0}}}},function(A,E){A.exports=function(h,_){return{init:function(){},doOnRender:function(){}}}},function(A,E,h){var _=h(32);A.exports=function(u){h(203)(u),_.prototype.getGridColumns=function(){for(var s=this.$getConfig().columns,c=[],i=0;i<s.length;i++)s[i].hide||c.push(s[i]);return c}}},function(A,E,h){A.exports=function(_){var u=h(47),s={};_.attachEvent("onClearAll",function(){s={}});var c=u.prototype.hasChild;_.$data.tasksStore.hasChild=function(i){return _.config.branch_loading?!!c.call(this,i)||!!this.exists(i)&&this.getItem(i)[_.config.branch_loading_property]:c.call(this,i)},_.attachEvent("onTaskOpened",function(i){if(_.config.branch_loading&&_._load_url&&function(o){return!(!_.config.branch_loading||!_._load_url||s[o]||_.getChildren(o).length||!_.hasChild(o))}(i)){var r=_._load_url,e=(r=r.replace(/(\?|&)?parent_id=.+&?/,"")).indexOf("?")>=0?"&":"?",t=_.getScrollState().y||0,n={taskId:i,url:r+e+"parent_id="+encodeURIComponent(i)};if(_.callEvent("onBeforeBranchLoading",[n])===!1)return;_.load(n.url,this._load_type,function(){t&&_.scrollTo(null,t),_.callEvent("onAfterBranchLoading",[n])}),s[i]=!0}})}},function(A,E,h){Object.defineProperty(E,"__esModule",{value:!0}),E.default=function(_){_.ext=_.ext||{},_.config.show_empty_state=!1,_.ext.emptyStateElement=_.ext.emptyStateElement||{isEnabled:function(){return _.config.show_empty_state===!0},isGanttEmpty:function(){return!_.getTaskByTime().length},renderContent:function(u){var s=`<div class='gantt_empty_state'><div class='gantt_empty_state_image'></div><div class='gantt_empty_state_text'>
    <div class='gantt_empty_state_text_link' data-empty-state-create-task>`+_.locale.labels.empty_state_text_link+`</div>
    <div class='gantt_empty_state_text_description'>`+_.locale.labels.empty_state_text_description+`</div>
    </div></div>`;u.innerHTML=s},clickEvents:[],attachAddTaskEvent:function(){var u=_.attachEvent("onEmptyClick",function(s){_.utils.dom.closest(s.target,"[data-empty-state-create-task]")&&_.createTask({id:_.uid(),text:"New Task"})});this.clickEvents.push(u)},detachAddTaskEvents:function(){this.clickEvents.forEach(function(u){_.detachEvent(u)}),this.clickEvents=[]},getContainer:function(){if(_.$container){var u=_.utils.dom;if(_.$container.contains(_.$grid_data))return u.closest(_.$grid_data,".gantt_layout_content");if(_.$container.contains(_.$task_data))return u.closest(_.$task_data,".gantt_layout_content")}return null},getNode:function(){var u=this.getContainer();return u?u.querySelector(".gantt_empty_state_wrapper"):null},show:function(){var u=this.getContainer();if(!u&&this.isGanttEmpty())return null;var s=document.createElement("div");s.className="gantt_empty_state_wrapper",s.style.marginTop=_.config.scale_height-u.offsetHeight+"px";var c=_.$container.querySelectorAll(".gantt_empty_state_wrapper");Array.prototype.forEach.call(c,function(i){i.parentNode.removeChild(i)}),this.detachAddTaskEvents(),this.attachAddTaskEvent(),u.appendChild(s),this.renderContent(s)},hide:function(){var u=this.getNode();if(!u)return!1;u.parentNode.removeChild(u)},init:function(){}},_.attachEvent("onDataRender",function(){var u=_.ext.emptyStateElement;u.isEnabled()&&u.isGanttEmpty()?u.show():u.hide()})}},function(A,E,h){Object.defineProperty(E,"__esModule",{value:!0});var _=function(){function u(s){var c=this;this.format=function(i){return c._getWBSCode(i.source)},this.canParse=function(i){return c._linkReg.test(i)},this.parse=function(i){if(!c.canParse(i))return null;var r=c._linkReg.exec(i)[0].trim();return{id:void 0,source:c._findSource(r)||null,target:null,type:c._gantt.config.links.finish_to_start,lag:0}},this._getWBSCode=function(i){var r=c._gantt.getTask(i);return c._gantt.getWBSCode(r)},this._findSource=function(i){var r=new RegExp("^[0-9.]+","i");if(r.exec(i)){var e=r.exec(i)[0],t=c._gantt.getTaskByWBSCode(e);if(t)return t.id}return null},this._linkReg=/^[0-9\.]+/,this._gantt=s}return u.create=function(s,c){return new u(c)},u}();E.default=_},function(A,E,h){var _=h(44).default,u=h(213).default;A.exports=function(s){s.ext.formatters={durationFormatter:function(c){return c||(c={}),c.store||(c.store=s.config.duration_unit),c.enter||(c.enter=s.config.duration_unit),_.create(c,s)},linkFormatter:function(c){return u.create(c,s)}}}},function(A,E){A.exports=function(h){function _(o){return function(){return!h.config.auto_types||h.getTaskType(h.config.types.project)!=h.config.types.project||o.apply(this,arguments)}}function u(o,a){var l=h.getTask(o),d=i(l);d!==!1&&h.getTaskType(l)!==d&&(a.$needsUpdate=!0,a[l.id]={task:l,type:d})}function s(o){if(!h.getState().group_mode){var a=function(l,d){return u(l,d=d||{}),h.eachParent(function(f){u(f.id,d)},l),d}(o);a.$needsUpdate&&h.batchUpdate(function(){(function(l){for(var d in l)if(l[d]&&l[d].task){var f=l[d].task;f.type=l[d].type,h.updateTask(f.id)}})(a)})}}var c;function i(o){var a=h.config.types,l=h.hasChild(o.id),d=h.getTaskType(o.type);return l&&d===a.task?a.project:!l&&d===a.project&&a.task}var r,e,t=!0;function n(o){o!=h.config.root_id&&h.isTaskExists(o)&&s(o)}h.attachEvent("onParse",_(function(){t=!1,h.getState().group_mode||(h.batchUpdate(function(){h.eachTask(function(o){var a=i(o);a!==!1&&function(l,d){h.getState().group_mode||(l.type=d,h.updateTask(l.id))}(o,a)})}),t=!0)})),h.attachEvent("onAfterTaskAdd",_(function(o){t&&s(o)})),h.attachEvent("onAfterTaskUpdate",_(function(o){t&&s(o)})),h.attachEvent("onBeforeTaskDelete",_(function(o,a){return c=h.getParent(o),!0})),h.attachEvent("onAfterTaskDelete",_(function(o,a){n(c)})),h.attachEvent("onRowDragStart",_(function(o,a,l){return r=h.getParent(o),!0})),h.attachEvent("onRowDragEnd",_(function(o,a){n(r),s(o)})),h.attachEvent("onBeforeTaskMove",_(function(o,a,l){return e=h.getParent(o),!0})),h.attachEvent("onAfterTaskMove",_(function(o,a,l){document.querySelector(".gantt_drag_marker")||(n(e),s(o))}))}},function(A,E){A.exports=function(h){function _(e){return function(){return!h.config.placeholder_task||e.apply(this,arguments)}}function u(){var e=h.getTaskBy("type",h.config.types.placeholder);if(!e.length||!h.isTaskExists(e[0].id)){var t={unscheduled:!0,type:h.config.types.placeholder,duration:0,text:h.locale.labels.new_task};if(h.callEvent("onTaskCreated",[t])===!1)return;h.addTask(t)}}function s(e){var t=h.getTask(e);t.type==h.config.types.placeholder&&(t.start_date&&t.end_date&&t.unscheduled&&(t.unscheduled=!1),h.batchUpdate(function(){var n=h.copy(t);h.silent(function(){h.deleteTask(t.id)}),delete n["!nativeeditor_status"],n.type=h.config.types.task,n.id=h.uid(),h.addTask(n)}))}h.config.types.placeholder="placeholder",h.attachEvent("onDataProcessorReady",_(function(e){e&&!e._silencedPlaceholder&&(e._silencedPlaceholder=!0,e.attachEvent("onBeforeUpdate",_(function(t,n,o){return o.type!=h.config.types.placeholder||(e.setUpdated(t,!1),!1)})))}));var c=!1;function i(e){return!!(h.config.types.placeholder&&h.isTaskExists(e)&&h.getTask(e).type==h.config.types.placeholder)}function r(e){return!(!i(e.source)&&!i(e.target))}h.attachEvent("onGanttReady",function(){c||(c=!0,h.attachEvent("onAfterTaskUpdate",_(s)),h.attachEvent("onAfterTaskAdd",_(function(e,t){t.type!=h.config.types.placeholder&&(h.getTaskBy("type",h.config.types.placeholder).forEach(function(n){h.silent(function(){h.isTaskExists(n.id)&&h.deleteTask(n.id)})}),u())})),h.attachEvent("onParse",_(u)))}),h.attachEvent("onLinkValidation",function(e){return!r(e)}),h.attachEvent("onBeforeLinkAdd",function(e,t){return!r(t)}),h.attachEvent("onBeforeUndoStack",function(e){for(var t=0;t<e.commands.length;t++){var n=e.commands[t];n.entity==="task"&&n.value.type===h.config.types.placeholder&&(e.commands.splice(t,1),t--)}return!0})}},function(A,E){A.exports=function(h){var _="$resourceAssignments";h.config.resource_assignment_store="resourceAssignments",h.config.process_resource_assignments=!0;var u={auto:"auto",singleValue:"singleValue",valueArray:"valueArray",resourceValueArray:"resourceValueArray",assignmentsArray:"assignmentsArray"},s=u.auto,c={fixedDates:"fixedDates",fixedDuration:"fixedDuration",default:"default"};function i(f,g){f.start_date?f.start_date=h.date.parseDate(f.start_date,"parse_date"):f.start_date=null,f.end_date?f.end_date=h.date.parseDate(f.end_date,"parse_date"):f.end_date=null;var p=Number(f.delay),m=!1;if(isNaN(p)?(f.delay=0,m=!0):f.delay=p,h.defined(f.value)||(f.value=null),!f.task_id||!f.resource_id)return!1;if(f.mode=f.mode||c.default,f.mode===c.fixedDuration&&(isNaN(Number(f.duration))&&(g=g||h.getTask(f.task_id),f.duration=h.calculateDuration({start_date:f.start_date,end_date:f.end_date,id:g})),m&&(g=g||h.getTask(f.task_id),f.delay=h.calculateDuration({start_date:g.start_date,end_date:f.start_date,id:g}))),f.mode!==c.fixedDates&&(g||h.isTaskExists(f.task_id))){var y=e(f,g=g||h.getTask(f.task_id));f.start_date=y.start_date,f.end_date=y.end_date,f.duration=y.duration}}var r=h.createDatastore({name:h.config.resource_assignment_store,initItem:function(f){return f.id||(f.id=h.uid()),i(f),f}});function e(f,g){if(f.mode===c.fixedDates)return{start_date:f.start_date,end_date:f.end_date,duration:f.duration};var p,m,y=f.delay?h.calculateEndDate({start_date:g.start_date,duration:f.delay,task:g}):new Date(g.start_date);return f.mode===c.fixedDuration?(p=h.calculateEndDate({start_date:y,duration:f.duration,task:g}),m=f.duration):(p=new Date(g.end_date),m=g.duration-f.delay),{start_date:y,end_date:p,duration:m}}function t(f){var g=h.config.resource_property,p=f[g],m=[],y=s===u.auto;if(h.defined(p)&&p){Array.isArray(p)||(p=[p],y&&(s=u.singleValue,y=!1));var v={};p.forEach(function(b){b.resource_id||(b={resource_id:b},y&&(s=u.valueArray,y=!1)),y&&(b.id&&b.resource_id?(s=u.assignmentsArray,y=!1):(s=u.resourceValueArray,y=!1));var k,$=c.default;b.mode||(b.start_date&&b.end_date||b.start_date&&b.duration)&&($=c.fixedDuration),k=b.id||!b.$id||v[b.$id]?b.id&&!v[b.id]?b.id:h.uid():b.$id,v[k]=!0;var w={id:k,start_date:b.start_date,duration:b.duration,end_date:b.end_date,delay:b.delay,task_id:f.id,resource_id:b.resource_id,value:b.value,mode:b.mode||$};w.start_date&&w.start_date.getMonth&&w.end_date&&w.end_date.getMonth&&typeof w.duration=="number"||i(w,f),m.push(w)})}return m}function n(f){if(h.isTaskExists(f)){var g=h.getTask(f);o(g,h.getTaskAssignments(g.id))}}function o(f,g){g.sort(function(p,m){return p.start_date&&m.start_date&&p.start_date.valueOf()!=m.start_date.valueOf()?p.start_date-m.start_date:0}),s==u.assignmentsArray?f[h.config.resource_property]=g:s==u.resourceValueArray&&(f[h.config.resource_property]=g.map(function(p){return{$id:p.id,start_date:p.start_date,duration:p.duration,end_date:p.end_date,delay:p.delay,resource_id:p.resource_id,value:p.value,mode:p.mode}})),f[_]=g}function a(f){var g=t(f);return g.forEach(function(p){p.id=p.id||h.uid()}),g}function l(f,g){var p=function(m,y){var v={inBoth:[],inTaskNotInStore:[],inStoreNotInTask:[]};if(s==u.singleValue){var b=m[0],k=b?b.resource_id:null,$=!1;y.forEach(function(D){D.resource_id!=k?v.inStoreNotInTask.push(D):D.resource_id==k&&(v.inBoth.push({store:D,task:b}),$=!0)}),!$&&b&&v.inTaskNotInStore.push(b)}else if(s==u.valueArray){var w={},x={},T={};m.forEach(function(D){w[D.resource_id]=D}),y.forEach(function(D){x[D.resource_id]=D}),m.concat(y).forEach(function(D){if(!T[D.resource_id]){T[D.resource_id]=!0;var I=w[D.resource_id],P=x[D.resource_id];I&&P?v.inBoth.push({store:P,task:I}):I&&!P?v.inTaskNotInStore.push(I):!I&&P&&v.inStoreNotInTask.push(P)}})}else s!=u.assignmentsArray&&s!=u.resourceValueArray||(w={},x={},T={},m.forEach(function(D){w[D.id||D.$id]=D}),y.forEach(function(D){x[D.id]=D}),m.concat(y).forEach(function(D){var I=D.id||D.$id;if(!T[I]){T[I]=!0;var P=w[I],R=x[I];P&&R?v.inBoth.push({store:R,task:P}):P&&!R?v.inTaskNotInStore.push(P):!P&&R&&v.inStoreNotInTask.push(R)}}));return v}(t(f),g);p.inStoreNotInTask.forEach(function(m){r.removeItem(m.id)}),p.inTaskNotInStore.forEach(function(m){r.addItem(m)}),p.inBoth.forEach(function(m){if(function(v,b){var k={id:!0};for(var $ in v)if(!k[$]&&String(v[$])!==String(b[$]))return!0;return!1}(m.task,m.store))(function(v,b){var k={id:!0};for(var $ in v)k[$]||(b[$]=v[$])})(m.task,m.store),r.updateItem(m.store.id);else if(m.task.start_date&&m.task.end_date&&m.task.mode!==c.fixedDates){var y=e(m.store,f);m.store.start_date.valueOf()==y.start_date.valueOf()&&m.store.end_date.valueOf()==y.end_date.valueOf()||(m.store.start_date=y.start_date,m.store.end_date=y.end_date,m.store.duration=y.duration,r.updateItem(m.store.id))}}),n(f.id)}function d(f){var g=f[_]||r.find(function(p){return p.task_id==f.id});l(f,g)}h.$data.assignmentsStore=r,h.attachEvent("onGanttReady",function(){if(h.config.process_resource_assignments){h.attachEvent("onParse",function(){h.silent(function(){r.clearAll();var k=[];h.eachTask(function($){if($.type!==h.config.types.project){var w=a($);o($,w),w.forEach(function(x){k.push(x)})}}),r.parse(k)})});var f=!1,g=!1,p={},m=!1;h.attachEvent("onBeforeBatchUpdate",function(){f=!0}),h.attachEvent("onAfterBatchUpdate",function(){if(g){var k={};for(var $ in p)k[$]=h.getTaskAssignments(p[$].id);for(var $ in p)l(p[$],k[$])}g=!1,f=!1,p={}}),h.attachEvent("onTaskCreated",function(k){var $=a(k);return r.parse($),o(k,$),!0}),h.attachEvent("onAfterTaskUpdate",function(k,$){f?(g=!0,p[k]=$):d($)}),h.attachEvent("onAfterTaskAdd",function(k,$){f?(g=!0,p[k]=$):d($)}),h.attachEvent("onRowDragEnd",function(k){d(h.getTask(k))}),h.$data.tasksStore.attachEvent("onAfterDeleteConfirmed",function(k,$){var w=[k];h.eachTask(function(x){w.push(x.id)},k),function(x){var T={};x.forEach(function(D){T[D]=!0}),r.find(function(D){return T[D.task_id]}).forEach(function(D){r.removeItem(D.id)})}(w)}),h.$data.tasksStore.attachEvent("onClearAll",function(){return y=null,v=null,b=null,r.clearAll(),!0}),h.attachEvent("onTaskIdChange",function(k,$){r.find(function(w){return w.task_id==k}).forEach(function(w){w.task_id=$,r.updateItem(w.id)}),n($)}),h.attachEvent("onBeforeUndo",function(k){return m=!0,!0}),h.attachEvent("onAfterUndo",function(k){m=!0});var y=null,v=null,b=null;r.attachEvent("onStoreUpdated",function(){return!(!f||m)||(y=null,v=null,b=null,!0)}),h.getResourceAssignments=function(k,$){var w=h.defined($)&&$!==null;return y===null&&(y={},v={},r.eachItem(function(x){y[x.resource_id]||(y[x.resource_id]=[]),y[x.resource_id].push(x);var T=x.resource_id+"-"+x.task_id;v[T]||(v[T]=[]),v[T].push(x)})),w?(v[k+"-"+$]||[]).slice():(y[k]||[]).slice()},h.getTaskAssignments=function(k){if(b===null){var $=[];b={},r.eachItem(function(w){b[w.task_id]||(b[w.task_id]=[]),b[w.task_id].push(w),w.task_id==k&&$.push(w)})}return(b[k]||[]).slice()},h.getTaskResources=function(k){var $=h.getDatastore("resource"),w={};h.getTaskAssignments(k).forEach(function(I){w[I.resource_id]||(w[I.resource_id]=I.resource_id)});var x=[];for(var T in w){var D=$.getItem(w[T]);D&&x.push(D)}return x},h.updateTaskAssignments=n}},{once:!0})}},function(A,E,h){var _=h(2);function u(s){var c={},i=!1;s.$data.tasksStore.attachEvent("onStoreUpdated",function(){c={},i=!1}),s.attachEvent("onBeforeGanttRender",function(){c={}});var r=String(Math.random());function e(a){return a===null?r+String(a):String(a)}function t(a,l,d){return Array.isArray(a)?a.map(function(f){return e(f)}).join("_")+"_".concat(l,"_").concat(d):e(a)+"_".concat(l,"_").concat(d)}function n(a,l,d){var f,g=t(l,a,JSON.stringify(d)),p={};return _.forEach(l,function(m){p[e(m)]=!0}),c[g]?f=c[g]:(f=c[g]=[],s.eachTask(function(m){if(d){if(!d[s.getTaskType(m)])return}else if(m.type==s.config.types.project)return;var y;a in m&&(y=_.isArray(m[a])?m[a]:[m[a]],_.forEach(y,function(v){var b=v&&v.resource_id?v.resource_id:v;if(p[e(b)])f.push(m);else if(!i){var k=t(v,a);c[k]||(c[k]=[]),c[k].push(m)}}))}),i=!0),f}function o(a,l,d){var f=s.config.resource_property,g=[];if(s.getDatastore("task").exists(l)){var p=s.getTask(l);g=p[f]||[]}Array.isArray(g)||(g=[g]);for(var m=0;m<g.length;m++)g[m].resource_id==a&&d.push({task_id:p.id,resource_id:g[m].resource_id,value:g[m].value})}return{getTaskBy:function(a,l,d){return typeof a=="function"?function(f){var g=[];return s.eachTask(function(p){f(p)&&g.push(p)}),g}(a):_.isArray(l)?n(a,l,d):n(a,[l],d)},getResourceAssignments:function(a,l){var d=[],f=s.config.resource_property;return l!==void 0?o(a,l,d):s.getTaskBy(f,a).forEach(function(g){o(a,g.id,d)}),d}}}A.exports=function(s){var c=u(s);s.ext.resources=function(e){var t={renderEditableLabel:function(n,o,a,l,d){var f=e.config.readonly?"":"contenteditable";if(n<a.end_date&&o>a.start_date){for(var g=0;g<d.length;g++){var p=d[g];return"<div "+f+" data-assignment-cell data-assignment-id='"+p.id+"' data-row-id='"+a.id+"' data-task='"+a.$task_id+"' data-start-date='"+e.templates.format_date(n)+"' data-end-date='"+e.templates.format_date(o)+"'>"+p.value+"</div>"}return"<div "+f+" data-assignment-cell data-empty  data-row-id='"+a.id+"' data-resource-id='"+a.$resource_id+"' data-task='"+a.$task_id+"' data-start-date='"+e.templates.format_date(n)+"''  data-end-date='"+e.templates.format_date(o)+"'>-</div>"}return""},renderSummaryLabel:function(n,o,a,l,d){var f=d.reduce(function(g,p){return g+Number(p.value)},0);return f%1&&(f=Math.round(10*f)/10),f?"<div>"+f+"</div>":""},editableResourceCellTemplate:function(n,o,a,l,d){return a.$role==="task"?t.renderEditableLabel(n,o,a,l,d):t.renderSummaryLabel(n,o,a,l,d)},editableResourceCellClass:function(n,o,a,l,d){var f=[];f.push("resource_marker"),a.$role==="task"?f.push("task_cell"):f.push("resource_cell");var g=d.reduce(function(m,y){return m+Number(y.value)},0),p=Number(a.capacity);return isNaN(p)&&(p=8),g<=p?f.push("workday_ok"):f.push("workday_over"),f.join(" ")},getSummaryResourceAssignments:function(n){var o,a=e.getDatastore(e.config.resource_store),l=a.getItem(n);return l.$role==="task"?o=e.getResourceAssignments(l.$resource_id,l.$task_id):(o=e.getResourceAssignments(n),a.eachItem&&a.eachItem(function(d){d.$role!=="task"&&(o=o.concat(e.getResourceAssignments(d.id)))},n)),o},initEditableDiagram:function(){e.config.resource_render_empty_cells=!0,function(){var n=null;function o(){return n&&cancelAnimationFrame(n),n=requestAnimationFrame(function(){Array.prototype.slice.call(e.$container.querySelectorAll(".resourceTimeline_cell [data-assignment-cell]")).forEach(function(a){a.contentEditable=!0})}),!0}e.attachEvent("onGanttReady",function(){e.getDatastore(e.config.resource_assignment_store).attachEvent("onStoreUpdated",o),e.getDatastore(e.config.resource_store).attachEvent("onStoreUpdated",o)},{once:!0}),e.attachEvent("onGanttLayoutReady",function(){e.$layout.getCellsByType("viewCell").forEach(function(a){a.$config&&a.$config.view==="resourceTimeline"&&a.$content&&a.$content.attachEvent("onScroll",o)})})}(),e.attachEvent("onGanttReady",function(){var n=!1;e.event(e.$container,"keypress",function(o){var a=o.target.closest(".resourceTimeline_cell [data-assignment-cell]");a&&(o.keyCode!==13&&o.keyCode!==27||a.blur())}),e.event(e.$container,"focusout",function(o){if(!n){n=!0,setTimeout(function(){n=!1},300);var a=o.target.closest(".resourceTimeline_cell [data-assignment-cell]");if(a){var l=(a.innerText||"").trim();l=="-"&&(l="0");var d=Number(l),f=a.getAttribute("data-row-id"),g=a.getAttribute("data-assignment-id"),p=a.getAttribute("data-task"),m=a.getAttribute("data-resource-id"),y=e.templates.parse_date(a.getAttribute("data-start-date")),v=e.templates.parse_date(a.getAttribute("data-end-date")),b=e.getDatastore(e.config.resource_assignment_store);if(isNaN(d))e.getDatastore(e.config.resource_store).refresh(f);else{var k=e.getTask(p);if(e.plugins().undo&&e.ext.undo.saveState(p,"task"),g){if(d===(w=b.getItem(g)).value)return;if(w.start_date.valueOf()===y.valueOf()&&w.end_date.valueOf()===v.valueOf())w.value=d,d?b.updateItem(w.id):b.removeItem(w.id);else{if(w.end_date.valueOf()>v.valueOf()){var $=e.copy(w);$.id=e.uid(),$.start_date=v,$.duration=e.calculateDuration({start_date:$.start_date,end_date:$.end_date,task:k}),$.delay=e.calculateDuration({start_date:k.start_date,end_date:$.start_date,task:k}),$.mode=w.mode||"default",$.duration!==0&&b.addItem($)}w.start_date.valueOf()<y.valueOf()?(w.end_date=y,w.duration=e.calculateDuration({start_date:w.start_date,end_date:w.end_date,task:k}),w.mode="fixedDuration",w.duration===0?b.removeItem(w.id):b.updateItem(w.id)):b.removeItem(w.id),d&&b.addItem({task_id:w.task_id,resource_id:w.resource_id,value:d,start_date:y,end_date:v,duration:e.calculateDuration({start_date:y,end_date:v,task:k}),delay:e.calculateDuration({start_date:k.start_date,end_date:y,task:k}),mode:"fixedDuration"})}e.updateTaskAssignments(k.id),e.updateTask(k.id)}else if(d){var w={task_id:p,resource_id:m,value:d,start_date:y,end_date:v,duration:e.calculateDuration({start_date:y,end_date:v,task:k}),delay:e.calculateDuration({start_date:k.start_date,end_date:y,task:k}),mode:"fixedDuration"};b.addItem(w),e.updateTaskAssignments(k.id),e.updateTask(k.id)}}}}})},{once:!0})}};return t}(s),s.config.resources={dataprocessor_assignments:!1,dataprocessor_resources:!1,editable_resource_diagram:!1,resource_store:{type:"treeDataStore",fetchTasks:!1,initItem:function(e){return e.parent=e.parent||s.config.root_id,e[s.config.resource_property]=e.parent,e.open=!0,e}},lightbox_resources:function(e){var t=[],n=s.getDatastore(s.config.resource_store);return e.forEach(function(o){if(!n.hasChild(o.id)){var a=s.copy(o);a.key=o.id,a.label=o.text,t.push(a)}}),t}},s.attachEvent("onBeforeGanttReady",function(){if(!s.getDatastore(s.config.resource_store)){var e=s.config.resources?s.config.resources.resource_store:void 0,t=e?e.fetchTasks:void 0;s.config.resources&&s.config.resources.editable_resource_diagram&&(t=!0);var n=function(a){return a.parent=a.parent||s.config.root_id,a[s.config.resource_property]=a.parent,a.open=!0,a};e&&e.initItem&&(n=e.initItem);var o=e&&e.type?e.type:"treeDatastore";s.$resourcesStore=s.createDatastore({name:s.config.resource_store,type:o,fetchTasks:t!==void 0&&t,initItem:n}),s.$data.resourcesStore=s.$resourcesStore,s.$resourcesStore.attachEvent("onParse",function(){var a=function(d){var f=[];return d.forEach(function(g){if(!s.$resourcesStore.hasChild(g.id)){var p=s.copy(g);p.key=g.id,p.label=g.text,f.push(p)}}),f};s.config.resources&&s.config.resources.lightbox_resources&&(a=s.config.resources.lightbox_resources);var l=a(s.$resourcesStore.getItems());s.updateCollection("resourceOptions",l)})}}),s.getTaskBy=c.getTaskBy,s.getResourceAssignments=c.getResourceAssignments,s.config.resource_property="owner_id",s.config.resource_store="resource",s.config.resource_render_empty_cells=!1,s.templates.histogram_cell_class=function(e,t,n,o,a){},s.templates.histogram_cell_label=function(e,t,n,o,a){return o.length+"/3"},s.templates.histogram_cell_allocated=function(e,t,n,o,a){return o.length/3},s.templates.histogram_cell_capacity=function(e,t,n,o,a){return 0};var i=function(e,t,n,o,a){return o.length<=1?"gantt_resource_marker_ok":"gantt_resource_marker_overtime"},r=function(e,t,n,o,a){return 8*o.length};s.templates.resource_cell_value=r,s.templates.resource_cell_class=i,s.attachEvent("onBeforeGanttReady",function(){s.config.resources&&s.config.resources.editable_resource_diagram&&(s.config.resource_render_empty_cells=!0,s.templates.resource_cell_value===r&&(s.templates.resource_cell_value=s.ext.resources.editableResourceCellTemplate),s.templates.resource_cell_class===i&&(s.templates.resource_cell_class=s.ext.resources.editableResourceCellClass),s.ext.resources.initEditableDiagram(s))})}},function(A,E){A.exports=function(h){var _=function(s){return{_needRecalc:!0,reset:function(){this._needRecalc=!0},_isRecalcNeeded:function(){return!this._isGroupSort()&&this._needRecalc},_isGroupSort:function(){return!!s.getState().group_mode},_getWBSCode:function(c){return c?(this._isRecalcNeeded()&&this._calcWBS(),c.$virtual?"":this._isGroupSort()?c.$wbs||"":(c.$wbs||(this.reset(),this._calcWBS()),c.$wbs)):""},_setWBSCode:function(c,i){c.$wbs=i},getWBSCode:function(c){return this._getWBSCode(c)},getByWBSCode:function(c){for(var i=c.split("."),r=s.config.root_id,e=0;e<i.length;e++){var t=s.getChildren(r),n=1*i[e]-1;if(!s.isTaskExists(t[n]))return null;r=t[n]}return s.isTaskExists(r)?s.getTask(r):null},_calcWBS:function(){if(this._isRecalcNeeded()){var c=!0;s.eachTask(function(i){if(c)return c=!1,void this._setWBSCode(i,"1");var r=s.getPrevSibling(i.id);if(r!==null){var e=s.getTask(r).$wbs;e&&((e=e.split("."))[e.length-1]++,this._setWBSCode(i,e.join(".")))}else{var t=s.getParent(i.id);this._setWBSCode(i,s.getTask(t).$wbs+".1")}},s.config.root_id,this),this._needRecalc=!1}}}}(h);function u(){return _.reset(),!0}h.getWBSCode=function(s){return _.getWBSCode(s)},h.getTaskByWBSCode=function(s){return _.getByWBSCode(s)},h.attachEvent("onAfterTaskMove",u),h.attachEvent("onBeforeParse",u),h.attachEvent("onAfterTaskDelete",u),h.attachEvent("onAfterTaskAdd",u),h.attachEvent("onAfterSort",u)}},function(A,E,h){var _=h(21);function u(s){var c={},i=!1;function r(o,a){a=typeof a=="function"?a:function(){},c[o]||(c[o]=this[o],this[o]=a)}function e(o){c[o]&&(this[o]=c[o],c[o]=null)}function t(){for(var o in c)e.call(this,o)}function n(o){try{o()}catch(a){_.console.error(a)}}return s.$services.getService("state").registerProvider("batchUpdate",function(){return{batch_update:i}},!1),function(o,a){if(i)n(o);else{var l,d=this._dp&&this._dp.updateMode!="off";d&&(l=this._dp.updateMode,this._dp.setUpdateMode("off"));var f={},g={render:!0,refreshData:!0,refreshTask:!0,refreshLink:!0,resetProjectDates:function(m){f[m.id]=m}};for(var p in(function(m){for(var y in m)r.call(this,y,m[y])}).call(this,g),i=!0,this.callEvent("onBeforeBatchUpdate",[]),n(o),this.callEvent("onAfterBatchUpdate",[]),t.call(this),f)this.resetProjectDates(f[p]);i=!1,a||this.render(),d&&(this._dp.setUpdateMode(l),this._dp.setGanttMode("task"),this._dp.sendData(),this._dp.setGanttMode("link"),this._dp.sendData())}}}A.exports=function(s){s.batchUpdate=u(s)}},function(A,E,h){A.exports=function(_){_.ext||(_.ext={});for(var u=[h(220),h(219),h(218),h(217),h(216),h(215),h(214),h(212).default],s=0;s<u.length;s++)u[s]&&u[s](_)}},function(A,E,h){Object.defineProperty(E,"__esModule",{value:!0});var _=h(0),u=function(){function s(){var c=this;this.clear=function(){c._storage={}},this.storeItem=function(i){c._storage[i.id]=_.copy(i)},this.getStoredItem=function(i){return c._storage[i]||null},this._storage={}}return s.create=function(){return new s},s}();E.default=u},function(A,E,h){Object.defineProperty(E,"__esModule",{value:!0}),E.default=function(_,u){_.getUserData=function(s,c,i){return this.userdata||(this.userdata={}),this.userdata[i]=this.userdata[i]||{},this.userdata[i][s]&&this.userdata[i][s][c]?this.userdata[i][s][c]:""},_.setUserData=function(s,c,i,r){this.userdata||(this.userdata={}),this.userdata[r]=this.userdata[r]||{},this.userdata[r][s]=this.userdata[r][s]||{},this.userdata[r][s][c]=i},_._change_id=function(s,c){switch(this._dp._ganttMode){case"task":this.changeTaskId(s,c);break;case"link":this.changeLinkId(s,c);break;case"assignment":this.$data.assignmentsStore.changeId(s,c);break;case"resource":this.$data.resourcesStore.changeId(s,c);break;default:throw new Error("Invalid mode of the dataProcessor after database id is received: "+this._dp._ganttMode+", new id: "+c)}},_._row_style=function(s,c){this._dp._ganttMode==="task"&&_.isTaskExists(s)&&(_.getTask(s).$dataprocessor_class=c,_.refreshTask(s))},_._delete_task=function(s,c){},_._sendTaskOrder=function(s,c){c.$drop_target&&(this._dp.setGanttMode("task"),this.getTask(s).target=c.$drop_target,this._dp.setUpdated(s,!0,"order"),delete this.getTask(s).$drop_target)},_.setDp=function(){this._dp=u},_.setDp()}},function(A,E,h){Object.defineProperty(E,"__esModule",{value:!0});var _=h(2),u=function(){function s(c,i){this.$gantt=c,this.$dp=i,this._dataProcessorHandlers=[]}return s.prototype.attach=function(){var c=this,i=this.$dp,r=this.$gantt,e=h(45),t={},n=function(l){return c.clientSideDelete(l,i,r)};this._dataProcessorHandlers.push(r.attachEvent("onAfterTaskAdd",function(l,d){r.isTaskExists(l)&&(i.setGanttMode("tasks"),i.setUpdated(l,!0,"inserted"))})),this._dataProcessorHandlers.push(r.attachEvent("onAfterTaskUpdate",function(l,d){r.isTaskExists(l)&&(i.setGanttMode("tasks"),i.setUpdated(l,!0),r._sendTaskOrder&&r._sendTaskOrder(l,d))})),this._dataProcessorHandlers.push(r.attachEvent("onBeforeTaskDelete",function(l,d){return r.config.cascade_delete&&(t[l]={tasks:e.getSubtreeTasks(r,l),links:e.getSubtreeLinks(r,l)}),!i.deleteAfterConfirmation||(i.setGanttMode("tasks"),i.setUpdated(l,!0,"deleted"),!1)})),this._dataProcessorHandlers.push(r.attachEvent("onAfterTaskDelete",function(l,d){i.setGanttMode("tasks");var f=!n(l),g=r.config.cascade_delete&&t[l];if(f||g){if(g){var p=i.updateMode;i.setUpdateMode("off");var m=t[l];for(var y in m.tasks)n(y)||(i.storeItem(m.tasks[y]),i.setUpdated(y,!0,"deleted"));for(var y in i.setGanttMode("links"),m.links)n(y)||(i.storeItem(m.links[y]),i.setUpdated(y,!0,"deleted"));t[l]=null,p!=="off"&&i.sendAllData(),i.setGanttMode("tasks"),i.setUpdateMode(p)}f&&(i.storeItem(d),i.deleteAfterConfirmation||i.setUpdated(l,!0,"deleted")),i.updateMode==="off"||i._tSend||i.sendAllData()}})),this._dataProcessorHandlers.push(r.attachEvent("onAfterLinkUpdate",function(l,d){r.isLinkExists(l)&&(i.setGanttMode("links"),i.setUpdated(l,!0))})),this._dataProcessorHandlers.push(r.attachEvent("onAfterLinkAdd",function(l,d){r.isLinkExists(l)&&(i.setGanttMode("links"),i.setUpdated(l,!0,"inserted"))})),this._dataProcessorHandlers.push(r.attachEvent("onAfterLinkDelete",function(l,d){i.setGanttMode("links"),!n(l)&&(i.storeItem(d),i.setUpdated(l,!0,"deleted"))})),this._dataProcessorHandlers.push(r.attachEvent("onRowDragEnd",function(l,d){r._sendTaskOrder(l,r.getTask(l))}));var o=null,a=null;this._dataProcessorHandlers.push(r.attachEvent("onTaskIdChange",function(l,d){if(i._waitMode){var f=r.getChildren(d);if(f.length){o=o||{};for(var g=0;g<f.length;g++){var p=this.getTask(f[g]);o[p.id]=p}}var m=function(v){var b=[];return v.$source&&(b=b.concat(v.$source)),v.$target&&(b=b.concat(v.$target)),b}(this.getTask(d));if(m.length)for(a=a||{},g=0;g<m.length;g++){var y=this.getLink(m[g]);a[y.id]=y}}})),i.attachEvent("onAfterUpdateFinish",function(){(o||a)&&(r.batchUpdate(function(){for(var l in o)r.updateTask(o[l].id);for(var l in a)r.updateLink(a[l].id);o=null,a=null}),o?r._dp.setGanttMode("tasks"):r._dp.setGanttMode("links"))}),i.attachEvent("onBeforeDataSending",function(){if(this._tMode==="CUSTOM")return!0;var l=this._serverProcessor;if(this._tMode==="REST-JSON"||this._tMode==="REST"){var d=this._ganttMode;l=l.substring(0,l.indexOf("?")>-1?l.indexOf("?"):l.length),this.serverProcessor=l+(l.slice(-1)==="/"?"":"/")+d}else{var f=this._ganttMode+"s";this.serverProcessor=l+r.ajax.urlSeparator(l)+"gantt_mode="+f}return!0}),i.attachEvent("insertCallback",function(l,d,f,g){var p=l.data||r.xml._xmlNodeToJSON(l.firstChild),m={add:r.addTask,isExist:r.isTaskExists};g==="links"&&(m.add=r.addLink,m.isExist=r.isLinkExists),m.isExist.call(r,d)||(p.id=d,m.add.call(r,p))}),i.attachEvent("updateCallback",function(l,d){var f=l.data||r.xml._xmlNodeToJSON(l.firstChild);if(r.isTaskExists(d)){var g=r.getTask(d);for(var p in f){var m=f[p];switch(p){case"id":continue;case"start_date":case"end_date":m=r.defined(r.templates.xml_date)?r.templates.xml_date(m):r.templates.parse_date(m);break;case"duration":g.end_date=r.calculateEndDate({start_date:g.start_date,duration:m,task:g})}g[p]=m}r.updateTask(d),r.refreshData()}}),i.attachEvent("deleteCallback",function(l,d,f,g){var p={delete:r.deleteTask,isExist:r.isTaskExists};g==="links"?(p.delete=r.deleteLink,p.isExist=r.isLinkExists):g==="assignment"&&(p.delete=function(m){r.$data.assignmentsStore.remove(m)},p.isExist=function(m){return r.$data.assignmentsStore.exists(m)}),p.isExist.call(r,d)&&p.delete.call(r,d)}),this.handleResourceCRUD(i,r),this.handleResourceAssignmentCRUD(i,r)},s.prototype.clientSideDelete=function(c,i,r){var e=i.updatedRows.slice(),t=!1;r.getUserData(c,"!nativeeditor_status",i._ganttMode)==="true_deleted"&&(t=!0,i.setUpdated(c,!1));for(var n=0;n<e.length&&!i._in_progress[c];n++)e[n]===c&&(r.getUserData(c,"!nativeeditor_status",i._ganttMode)==="inserted"&&(t=!0),i.setUpdated(c,!1));return t},s.prototype.handleResourceAssignmentCRUD=function(c,i){var r=this;if(i.config.resources&&i.config.resources.dataprocessor_assignments===!0){var e=i.getDatastore(i.config.resource_assignment_store),t={},n={};i.attachEvent("onBeforeTaskAdd",function(a,l){return t[a]=!0,!0}),i.attachEvent("onTaskIdChange",function(a,l){delete t[a]}),e.attachEvent("onAfterAdd",function(a,l){t[l.task_id]?function(d){n[d.id]=d,t[d.task_id]=!0}(l):o(l)}),e.attachEvent("onAfterUpdate",function(a,l){e.exists(a)&&(n[a]?o(l):(c.setGanttMode("assignment"),c.setUpdated(a,!0)))}),e.attachEvent("onAfterDelete",function(a,l){c.setGanttMode("assignment"),!r.clientSideDelete(a,c,i)&&(c.storeItem(l),c.setUpdated(a,!0,"deleted"))})}function o(a){var l=a.id;e.exists(l)&&(c.setGanttMode("assignment"),c.setUpdated(l,!0,"inserted")),delete n[l]}},s.prototype.handleResourceCRUD=function(c,i){var r=this;if(i.config.resources&&i.config.resources.dataprocessor_resources===!0){var e=i.getDatastore(i.config.resource_store);e.attachEvent("onAfterAdd",function(t,n){(function(o){var a=o.id;e.exists(a)&&(c.setGanttMode("resource"),c.setUpdated(a,!0,"inserted"))})(n)}),e.attachEvent("onAfterUpdate",function(t,n){e.exists(t)&&(c.setGanttMode("resource"),c.setUpdated(t,!0))}),e.attachEvent("onAfterDelete",function(t,n){c.setGanttMode("resource"),!r.clientSideDelete(t,c,i)&&(c.storeItem(n),c.setUpdated(t,!0,"deleted"))})}},s.prototype.detach=function(){var c=this;_.forEach(this._dataProcessorHandlers,function(i){c.$gantt.detachEvent(i)}),this._dataProcessorHandlers=[]},s}();E.default=u},function(A,E,h){Object.defineProperty(E,"__esModule",{value:!0});var _=h(5),u=h(2),s=h(0),c=h(224),i=h(223),r=h(222);E.createDataProcessor=function(t){var n,o;t instanceof Function?n=t:t.hasOwnProperty("router")?n=t.router:(t.hasOwnProperty("assignment")||t.hasOwnProperty("link")||t.hasOwnProperty("task"))&&(n=t),o=n?"CUSTOM":t.mode||"REST-JSON";var a=new e(t.url);return a.init(this),a.setTransactionMode({mode:o,router:n},t.batchUpdate),t.deleteAfterConfirmation&&(a.deleteAfterConfirmation=t.deleteAfterConfirmation),a};var e=function(){function t(n){this.serverProcessor=n,this.action_param="!nativeeditor_status",this.updatedRows=[],this.autoUpdate=!0,this.updateMode="cell",this._headers=null,this._payload=null,this._postDelim="_",this._routerParametersFormat="parameters",this._waitMode=0,this._in_progress={},this._storage=r.default.create(),this._invalid={},this.messages=[],this.styles={updated:"font-weight:bold;",inserted:"font-weight:bold;",deleted:"text-decoration : line-through;",invalid:"background-color:FFE0E0;",invalid_cell:"border-bottom:2px solid red;",error:"color:red;",clear:"font-weight:normal;text-decoration:none;"},this.enableUTFencoding(!0),_(this)}return t.prototype.setTransactionMode=function(n,o){typeof n=="object"?(this._tMode=n.mode||this._tMode,s.defined(n.headers)&&(this._headers=n.headers),s.defined(n.payload)&&(this._payload=n.payload),this._tSend=!!o):(this._tMode=n,this._tSend=o),this._tMode==="REST"&&(this._tSend=!1),this._tMode==="JSON"||this._tMode==="REST-JSON"?(this._tSend=!1,this._serializeAsJson=!0,this._headers=this._headers||{},this._headers["Content-Type"]="application/json"):this._headers&&!this._headers["Content-Type"]&&(this._headers["Content-Type"]="application/x-www-form-urlencoded"),this._tMode==="CUSTOM"&&(this._tSend=!1,this._router=n.router)},t.prototype.escape=function(n){return this._utf?encodeURIComponent(n):escape(n)},t.prototype.enableUTFencoding=function(n){this._utf=!!n},t.prototype.getSyncState=function(){return!this.updatedRows.length},t.prototype.setUpdateMode=function(n,o){this.autoUpdate=n==="cell",this.updateMode=n,this.dnd=o},t.prototype.ignore=function(n,o){this._silent_mode=!0,n.call(o||window),this._silent_mode=!1},t.prototype.setUpdated=function(n,o,a){if(!this._silent_mode){var l=this.findRow(n);a=a||"updated";var d=this.$gantt.getUserData(n,this.action_param,this._ganttMode);d&&a==="updated"&&(a=d),o?(this.set_invalid(n,!1),this.updatedRows[l]=n,this.$gantt.setUserData(n,this.action_param,a,this._ganttMode),this._in_progress[n]&&(this._in_progress[n]="wait")):this.is_invalid(n)||(this.updatedRows.splice(l,1),this.$gantt.setUserData(n,this.action_param,"",this._ganttMode)),this.markRow(n,o,a),o&&this.autoUpdate&&this.sendData(n)}},t.prototype.markRow=function(n,o,a){var l="",d=this.is_invalid(n);if(d&&(l=this.styles[d],o=!0),this.callEvent("onRowMark",[n,o,a,d])&&(l=this.styles[o?a:"clear"]+" "+l,this.$gantt[this._methods[0]](n,l),d&&d.details)){l+=this.styles[d+"_cell"];for(var f=0;f<d.details.length;f++)d.details[f]&&this.$gantt[this._methods[1]](n,f,l)}},t.prototype.getActionByState=function(n){return n==="inserted"?"create":n==="updated"?"update":n==="deleted"?"delete":"update"},t.prototype.getState=function(n){return this.$gantt.getUserData(n,this.action_param,this._ganttMode)},t.prototype.is_invalid=function(n){return this._invalid[n]},t.prototype.set_invalid=function(n,o,a){a&&(o={value:o,details:a,toString:function(){return this.value.toString()}}),this._invalid[n]=o},t.prototype.checkBeforeUpdate=function(n){return!0},t.prototype.sendData=function(n){var o=this;if(this.$gantt.editStop&&this.$gantt.editStop(),n===void 0||this._tSend){var a=[];if(this.modes&&["task","link","assignment"].forEach(function(d){o.modes[d]&&o.modes[d].updatedRows.length&&a.push(d)}),a.length){for(var l=0;l<a.length;l++)this.setGanttMode(a[l]),this.sendAllData();return}return this.sendAllData()}return!this._in_progress[n]&&(this.messages=[],!(!this.checkBeforeUpdate(n)&&this.callEvent("onValidationError",[n,this.messages]))&&void this._beforeSendData(this._getRowData(n),n))},t.prototype.serialize=function(n,o){if(this._serializeAsJson)return this._serializeAsJSON(n);if(typeof n=="string")return n;if(o!==void 0)return this.serialize_one(n,"");var a=[],l=[];for(var d in n)n.hasOwnProperty(d)&&(a.push(this.serialize_one(n[d],d+this._postDelim)),l.push(d));return a.push("ids="+this.escape(l.join(","))),this.$gantt.security_key&&a.push("dhx_security="+this.$gantt.security_key),a.join("&")},t.prototype.serialize_one=function(n,o){if(typeof n=="string")return n;var a=[],l="";for(var d in n)if(n.hasOwnProperty(d)){if((d==="id"||d==this.action_param)&&this._tMode==="REST")continue;l=typeof n[d]=="string"||typeof n[d]=="number"?n[d]:JSON.stringify(n[d]),a.push(this.escape((o||"")+d)+"="+this.escape(l))}return a.join("&")},t.prototype.sendAllData=function(){if(this.updatedRows.length){this.messages=[];var n=!0;if(this._forEachUpdatedRow(function(o){n=n&&this.checkBeforeUpdate(o)}),!n&&!this.callEvent("onValidationError",["",this.messages]))return!1;this._tSend?this._sendData(this._getAllData()):this._forEachUpdatedRow(function(o){if(!this._in_progress[o]){if(this.is_invalid(o))return;this._beforeSendData(this._getRowData(o),o)}})}},t.prototype.findRow=function(n){var o=0;for(o=0;o<this.updatedRows.length&&n!=this.updatedRows[o];o++);return o},t.prototype.defineAction=function(n,o){this._uActions||(this._uActions={}),this._uActions[n]=o},t.prototype.afterUpdateCallback=function(n,o,a,l,d){var f=this;if(this.$gantt){this.setGanttMode(d);var g=n,p=a!=="error"&&a!=="invalid";if(p||this.set_invalid(n,a),this._uActions&&this._uActions[a]&&!this._uActions[a](l))return delete this._in_progress[g];this._in_progress[g]!=="wait"&&this.setUpdated(n,!1);var m=n;switch(a){case"inserted":case"insert":o!=n&&(this.setUpdated(n,!1),this.$gantt[this._methods[2]](n,o),n=o);break;case"delete":case"deleted":if(this.deleteAfterConfirmation&&this._ganttMode==="task"){if(this._ganttMode==="task"&&this.$gantt.isTaskExists(n)){this.$gantt.setUserData(n,this.action_param,"true_deleted",this._ganttMode);var y=this.$gantt.getTask(n);this.$gantt.silent(function(){f.$gantt.deleteTask(n)}),this.$gantt.callEvent("onAfterTaskDelete",[n,y]),this.$gantt.render(),delete this._in_progress[g]}return this.callEvent("onAfterUpdate",[n,a,o,l])}return this.$gantt.setUserData(n,this.action_param,"true_deleted",this._ganttMode),this.$gantt[this._methods[3]](n),delete this._in_progress[g],this.callEvent("onAfterUpdate",[n,a,o,l])}this._in_progress[g]!=="wait"?(p&&this.$gantt.setUserData(n,this.action_param,"",this._ganttMode),delete this._in_progress[g]):(delete this._in_progress[g],this.setUpdated(o,!0,this.$gantt.getUserData(n,this.action_param,this._ganttMode))),this.callEvent("onAfterUpdate",[m,a,o,l])}},t.prototype.afterUpdate=function(n,o,a){var l,d=this;l=arguments.length===3?arguments[1]:arguments[4];var f=this.getGanttMode(),g=l.filePath||l.url;f=this._tMode!=="REST"&&this._tMode!=="REST-JSON"?g.indexOf("gantt_mode=links")!==-1?"link":g.indexOf("gantt_mode=assignments")!==-1?"assignment":"task":g.indexOf("/link")>=0?"link":g.indexOf("/assignment")>=0?"assignment":"task",this.setGanttMode(f);var p,m=this.$gantt.ajax;try{p=JSON.parse(o.xmlDoc.responseText)}catch{o.xmlDoc.responseText.length||(p={})}var y=function(D){var I=p.action||d.getState(D)||"updated",P=p.sid||D[0],R=p.tid||D[0];n.afterUpdateCallback(P,R,I,p,f)};if(p)return Array.isArray(a)&&a.length>1?a.forEach(function(D){return y(D)}):y(a),n.finalizeUpdate(),void this.setGanttMode(f);var v=m.xmltop("data",o.xmlDoc);if(!v)return this.cleanUpdate(a);var b=m.xpath("//data/action",v);if(!b.length)return this.cleanUpdate(a);for(var k=0;k<b.length;k++){var $=b[k],w=$.getAttribute("type"),x=$.getAttribute("sid"),T=$.getAttribute("tid");n.afterUpdateCallback(x,T,w,$,f)}n.finalizeUpdate()},t.prototype.cleanUpdate=function(n){if(n)for(var o=0;o<n.length;o++)delete this._in_progress[n[o]]},t.prototype.finalizeUpdate=function(){this._waitMode&&this._waitMode--,this.callEvent("onAfterUpdateFinish",[]),this.updatedRows.length||this.callEvent("onFullSync",[])},t.prototype.init=function(n){if(!this._initialized){this.$gantt=n,this.$gantt._dp_init&&this.$gantt._dp_init(this),this._setDefaultTransactionMode(),this.styles={updated:"gantt_updated",order:"gantt_updated",inserted:"gantt_inserted",deleted:"gantt_deleted",delete_confirmation:"gantt_deleted",invalid:"gantt_invalid",error:"gantt_error",clear:""},this._methods=["_row_style","setCellTextStyle","_change_id","_delete_task"],i.default(this.$gantt,this);var o=new c.default(this.$gantt,this);o.attach(),this.attachEvent("onDestroy",function(){delete this.setGanttMode,delete this._getRowData,delete this.$gantt._dp,delete this.$gantt._change_id,delete this.$gantt._row_style,delete this.$gantt._delete_task,delete this.$gantt._sendTaskOrder,delete this.$gantt,o.detach()}),this.$gantt.callEvent("onDataProcessorReady",[this]),this._initialized=!0}},t.prototype.setOnAfterUpdate=function(n){this.attachEvent("onAfterUpdate",n)},t.prototype.setOnBeforeUpdateHandler=function(n){this.attachEvent("onBeforeDataSending",n)},t.prototype.setAutoUpdate=function(n,o){var a=this;n=n||2e3,this._user=o||new Date().valueOf(),this._needUpdate=!1,this._updateBusy=!1,this.attachEvent("onAfterUpdate",this.afterAutoUpdate),this.attachEvent("onFullSync",this.fullSync),setInterval(function(){a.loadUpdate()},n)},t.prototype.afterAutoUpdate=function(n,o,a,l){return o!=="collision"||(this._needUpdate=!0,!1)},t.prototype.fullSync=function(){return this._needUpdate&&(this._needUpdate=!1,this.loadUpdate()),!0},t.prototype.getUpdates=function(n,o){var a=this.$gantt.ajax;if(this._updateBusy)return!1;this._updateBusy=!0,a.get(n,o)},t.prototype.loadUpdate=function(){var n=this,o=this.$gantt.ajax,a=this.$gantt.getUserData(0,"version",this._ganttMode),l=this.serverProcessor+o.urlSeparator(this.serverProcessor)+["dhx_user="+this._user,"dhx_version="+a].join("&");l=l.replace("editing=true&",""),this.getUpdates(l,function(d){var f=o.xpath("//userdata",d);n.$gantt.setUserData(0,"version",n._getXmlNodeValue(f[0]),n._ganttMode);var g=o.xpath("//update",d);if(g.length){n._silent_mode=!0;for(var p=0;p<g.length;p++){var m=g[p].getAttribute("status"),y=g[p].getAttribute("id"),v=g[p].getAttribute("parent");switch(m){case"inserted":n.callEvent("insertCallback",[g[p],y,v]);break;case"updated":n.callEvent("updateCallback",[g[p],y,v]);break;case"deleted":n.callEvent("deleteCallback",[g[p],y,v])}}n._silent_mode=!1}n._updateBusy=!1})},t.prototype.destructor=function(){this.callEvent("onDestroy",[]),this.detachAllEvents(),this.updatedRows=[],this._in_progress={},this._invalid={},this._storage.clear(),this._storage=null,this._headers=null,this._payload=null,delete this._initialized},t.prototype.setGanttMode=function(n){n==="tasks"?n="task":n==="links"&&(n="link");var o=this.modes||{},a=this.getGanttMode();a&&(o[a]={_in_progress:this._in_progress,_invalid:this._invalid,_storage:this._storage,updatedRows:this.updatedRows});var l=o[n];l||(l=o[n]={_in_progress:{},_invalid:{},_storage:r.default.create(),updatedRows:[]}),this._in_progress=l._in_progress,this._invalid=l._invalid,this._storage=l._storage,this.updatedRows=l.updatedRows,this.modes=o,this._ganttMode=n},t.prototype.getGanttMode=function(){return this._ganttMode},t.prototype.storeItem=function(n){this._storage.storeItem(n)},t.prototype.url=function(n){this.serverProcessor=this._serverProcessor=n},t.prototype._beforeSendData=function(n,o){if(!this.callEvent("onBeforeUpdate",[o,this.getState(o),n]))return!1;this._sendData(n,o)},t.prototype._serializeAsJSON=function(n){if(typeof n=="string")return n;var o=s.copy(n);return this._tMode==="REST-JSON"&&(delete o.id,delete o[this.action_param]),JSON.stringify(o)},t.prototype._applyPayload=function(n){var o=this.$gantt.ajax;if(this._payload)for(var a in this._payload)n=n+o.urlSeparator(n)+this.escape(a)+"="+this.escape(this._payload[a]);return n},t.prototype._cleanupArgumentsBeforeSend=function(n){var o;if(n[this.action_param]===void 0)for(var a in o={},n)o[a]=this._cleanupArgumentsBeforeSend(n[a]);else o=this._cleanupItemBeforeSend(n);return o},t.prototype._cleanupItemBeforeSend=function(n){var o=null;return n&&(n[this.action_param]==="deleted"?((o={}).id=n.id,o[this.action_param]=n[this.action_param]):o=n),o},t.prototype._sendData=function(n,o){var a=this;if(n){if(!this.callEvent("onBeforeDataSending",o?[o,this.getState(o),n]:[null,null,n]))return!1;o&&(this._in_progress[o]=new Date().valueOf());var l=this.$gantt.ajax;if(this._tMode!=="CUSTOM"){var d;d={callback:function(P){var R=[];if(o)R.push(o);else if(n)for(var H in n)R.push(H);return a.afterUpdate(a,P,R)},headers:this._headers};var f,g="dhx_version="+this.$gantt.getUserData(0,"version",this._ganttMode),p=this.serverProcessor+(this._user?l.urlSeparator(this.serverProcessor)+["dhx_user="+this._user,g].join("&"):""),m=this._applyPayload(p);switch(this._tMode){case"GET":f=this._cleanupArgumentsBeforeSend(n),d.url=m+l.urlSeparator(m)+this.serialize(f,o),d.method="GET";break;case"POST":f=this._cleanupArgumentsBeforeSend(n),d.url=m,d.method="POST",d.data=this.serialize(f,o);break;case"JSON":f={};var y=this._cleanupItemBeforeSend(n);for(var v in y)v!==this.action_param&&v!=="id"&&v!=="gr_id"&&(f[v]=y[v]);d.url=m,d.method="POST",d.data=JSON.stringify({id:o,action:n[this.action_param],data:f});break;case"REST":case"REST-JSON":switch(m=p.replace(/(&|\?)editing=true/,""),f="",this.getState(o)){case"inserted":d.method="POST",d.data=this.serialize(n,o);break;case"deleted":d.method="DELETE",m=m+(m.slice(-1)==="/"?"":"/")+o;break;default:d.method="PUT",d.data=this.serialize(n,o),m=m+(m.slice(-1)==="/"?"":"/")+o}d.url=this._applyPayload(m)}return this._waitMode++,l.query(d)}var b=this.getState(o),k=this.getActionByState(b),$=this.getGanttMode(),w=function(P){var R=b||"updated",H=o,F=o;P&&(R=P.action||b,H=P.sid||H,F=P.id||P.tid||F),a.afterUpdateCallback(H,F,R,P,$)},x=void 0;if(this._router instanceof Function)if(this._routerParametersFormat==="object"){var T={entity:$,action:k,data:n,id:o};x=this._router(T)}else x=this._router($,k,n,o);else if(this._router[$]instanceof Function)x=this._router[$](k,n,o);else{var D="Incorrect configuration of gantt.createDataProcessor",I=`
You need to either add missing properties to the dataProcessor router object or to use a router function.
See https://docs.dhtmlx.com/gantt/desktop__server_side.html#customrouting and https://docs.dhtmlx.com/gantt/api__gantt_createdataprocessor.html for details.`;if(!this._router[$])throw new Error(D+": router for the **"+$+"** entity is not defined. "+I);switch(b){case"inserted":if(!this._router[$].create)throw new Error(D+": **create** action for the **"+$+"** entity is not defined. "+I);x=this._router[$].create(n);break;case"deleted":if(!this._router[$].delete)throw new Error(D+": **delete** action for the **"+$+"** entity is not defined. "+I);x=this._router[$].delete(o);break;default:if(!this._router[$].update)throw new Error(D+': **update**" action for the **'+$+"** entity is not defined. "+I);x=this._router[$].update(n,o)}}if(x){if(!x.then&&x.id===void 0&&x.tid===void 0&&x.action===void 0)throw new Error("Incorrect router return value. A Promise or a response object is expected");x.then?x.then(w).catch(function(P){P&&P.action?w(P):w({action:"error",value:P})}):w(x)}else w(null)}},t.prototype._forEachUpdatedRow=function(n){for(var o=this.updatedRows.slice(),a=0;a<o.length;a++){var l=o[a];this.$gantt.getUserData(l,this.action_param,this._ganttMode)&&n.call(this,l)}},t.prototype._setDefaultTransactionMode=function(){this.serverProcessor&&(this.setTransactionMode("POST",!0),this.serverProcessor+=(this.serverProcessor.indexOf("?")!==-1?"&":"?")+"editing=true",this._serverProcessor=this.serverProcessor)},t.prototype._getXmlNodeValue=function(n){return n.firstChild?n.firstChild.nodeValue:""},t.prototype._getAllData=function(){var n={},o=!1;return this._forEachUpdatedRow(function(a){if(!this._in_progress[a]&&!this.is_invalid(a)){var l=this._getRowData(a);this.callEvent("onBeforeUpdate",[a,this.getState(a),l])&&(n[a]=l,o=!0,this._in_progress[a]=new Date().valueOf())}}),o?n:null},t.prototype._prepareDate=function(n){return this.$gantt.defined(this.$gantt.templates.xml_format)?this.$gantt.templates.xml_format(n):this.$gantt.templates.format_date(n)},t.prototype._prepareArray=function(n,o){var a=this;return o.push(n),n.map(function(l){return u.isDate(l)?a._prepareDate(l):Array.isArray(l)&&!u.arrayIncludes(o,l)?a._prepareArray(l,o):l&&typeof l=="object"&&!u.arrayIncludes(o,l)?a._prepareObject(l,o):l})},t.prototype._prepareObject=function(n,o){var a={};for(var l in o.push(n),n)if(l.substr(0,1)!=="$"){var d=n[l];u.isDate(d)?a[l]=this._prepareDate(d):d===null?a[l]="":Array.isArray(d)&&!u.arrayIncludes(o,d)?a[l]=this._prepareArray(d,o):d&&typeof d=="object"&&!u.arrayIncludes(o,d)?a[l]=this._prepareObject(d,o):a[l]=d}return a},t.prototype._prepareDataItem=function(n){var o=this._prepareObject(n,[]);return o[this.action_param]=this.$gantt.getUserData(n.id,this.action_param,this._ganttMode),o},t.prototype.getStoredItem=function(n){return this._storage.getStoredItem(n)},t.prototype._getRowData=function(n){var o,a=this.$gantt;return this.getGanttMode()==="task"?a.isTaskExists(n)&&(o=this.$gantt.getTask(n)):this.getGanttMode()==="assignment"?this.$gantt.$data.assignmentsStore.exists(n)&&(o=this.$gantt.$data.assignmentsStore.getItem(n)):a.isLinkExists(n)&&(o=this.$gantt.getLink(n)),o||(o=this.getStoredItem(n)),o||(o={id:n}),this._prepareDataItem(o)},t}();E.DataProcessor=e},function(A,E,h){var _=h(225);A.exports={DEPRECATED_api:function(u){return new _.DataProcessor(u)},createDataProcessor:_.createDataProcessor,getDataProcessorModes:_.getAvailableModes}},function(A,E,h){var _=h(15);A.exports={bindDataStore:function(u,s){var c=s.getDatastore(u),i=function(n,o){var a=o.getLayers(),l=c.getItem(n);if(l&&c.isVisible(n))for(var d=0;d<a.length;d++)a[d].render_item(l)},r=function(n){for(var o=n.getLayers(),a=0;a<o.length;a++)o[a].clear();for(var l=null,d={},f=0;f<o.length;f++){var g=o[f],p=void 0;if(g.get_visible_range){var m=g.get_visible_range(c);if(m.start!==void 0&&m.end!==void 0){var y=m.start+" - "+m.end;d[y]?p=d[y]:(p=c.getIndexRange(m.start,m.end),d[y]=p)}else{if(m.ids===void 0)throw new Error("Invalid range returned from 'getVisibleRange' of the layer");p=m.ids.map(function(v){return c.getItem(v)})}}else l||(l=c.getVisibleItems()),p=l;g.prepare_data&&g.prepare_data(p),o[f].render_items(p)}},e=function(n){if(n.update_items){var o;if(n.get_visible_range){var a=n.get_visible_range(c);if(a.start!==void 0&&a.end!==void 0)o=c.getIndexRange(a.start,a.end);else{if(a.ids===void 0)throw new Error("Invalid range returned from 'getVisibleRange' of the layer");o=a.ids.map(function(l){return c.getItem(l)})}}else o=c.getVisibleItems();n.prepare_data&&n.prepare_data(o,n),n.update_items(o)}};function t(n){return!!n.$services.getService("state").getState("batchUpdate").batch_update}c.attachEvent("onStoreUpdated",function(n,o,a){if(_(s))return!0;var l=s.$services.getService("layers").getDataRender(u);l&&(l.onUpdateRequest=function(d){e(d)})}),c.attachEvent("onStoreUpdated",function(n,o,a){t(s)||(n&&a!="move"&&a!="delete"?(c.callEvent("onBeforeRefreshItem",[o.id]),c.callEvent("onAfterRefreshItem",[o.id])):(c.callEvent("onBeforeRefreshAll",[]),c.callEvent("onAfterRefreshAll",[])))}),c.attachEvent("onAfterRefreshAll",function(){if(_(s))return!0;var n=s.$services.getService("layers").getDataRender(u);n&&!t(s)&&r(n)}),c.attachEvent("onAfterRefreshItem",function(n){if(_(s))return!0;var o=s.$services.getService("layers").getDataRender(u);o&&i(n,o)}),c.attachEvent("onItemOpen",function(){if(_(s))return!0;s.render()}),c.attachEvent("onItemClose",function(){if(_(s))return!0;s.render()}),c.attachEvent("onIdChange",function(n,o){if(_(s))return!0;if(c.callEvent("onBeforeIdChange",[n,o]),!t(s)&&!c.isSilent()){var a=s.$services.getService("layers").getDataRender(u);a?(function(l,d,f,g){for(var p=0;p<l.length;p++)l[p].change_id(d,f)}(a.getLayers(),n,o,c.getItem(o)),i(o,a)):s.render()}})}}},function(A,E){A.exports=function(h){var _=null,u=h._removeItemInner;function s(c){_=null,this.callEvent("onAfterUnselect",[c])}return h._removeItemInner=function(c){return _==c&&s.call(this,c),_&&this.eachItem&&this.eachItem(function(i){i.id==_&&s.call(this,i.id)},c),u.apply(this,arguments)},h.attachEvent("onIdChange",function(c,i){h.getSelectedId()==c&&h.silent(function(){h.unselect(c),h.select(i)})}),{select:function(c){if(c){if(_==c)return _;if(!this._skip_refresh&&!this.callEvent("onBeforeSelect",[c]))return!1;this.unselect(),_=c,this._skip_refresh||(this.refresh(c),this.callEvent("onAfterSelect",[c]))}return _},getSelectedId:function(){return _},isSelected:function(c){return c==_},unselect:function(c){(c=c||_)&&(_=null,this._skip_refresh||(this.refresh(c),s.call(this,c)))}}}},function(A,E,h){var _=h(0);A.exports=function(){return{getLinkCount:function(){return this.$data.linksStore.count()},getLink:function(u){return this.$data.linksStore.getItem(u)},getLinks:function(){return this.$data.linksStore.getItems()},isLinkExists:function(u){return this.$data.linksStore.exists(u)},addLink:function(u){var s=this.$data.linksStore.addItem(u);return this.$data.linksStore.isSilent()&&this.$data.linksStore.fullOrder.push(s),s},updateLink:function(u,s){_.defined(s)||(s=this.getLink(u)),this.$data.linksStore.updateItem(u,s)},deleteLink:function(u){return this.$data.linksStore.removeItem(u)},changeLinkId:function(u,s){return this.$data.linksStore.changeId(u,s)}}}},function(A,E,h){var _=h(0),u=h(2).replaceValidZeroId;A.exports=function(){return{getTask:function(s){s=u(s,this.config.root_id),this.assert(s,"Invalid argument for gantt.getTask");var c=this.$data.tasksStore.getItem(s);return this.assert(c,"Task not found id="+s),c},getTaskByTime:function(s,c){var i=this.$data.tasksStore.getItems(),r=[];if(s||c){s=+s||-1/0,c=+c||1/0;for(var e=0;e<i.length;e++){var t=i[e];+t.start_date<c&&+t.end_date>s&&r.push(t)}}else r=i;return r},isTaskExists:function(s){return!(!this.$data||!this.$data.tasksStore)&&this.$data.tasksStore.exists(s)},updateTask:function(s,c){_.defined(c)||(c=this.getTask(s)),this.$data.tasksStore.updateItem(s,c),this.isTaskExists(s)&&this.refreshTask(s)},addTask:function(s,c,i){return _.defined(s.id)||(s.id=_.uid()),this.isTaskExists(s.id)&&this.getTask(s.id).$index!=s.$index?(s.start_date&&typeof s.start_date=="string"&&(s.start_date=this.date.parseDate(s.start_date,"parse_date")),s.end_date&&typeof s.end_date=="string"&&(s.end_date=this.date.parseDate(s.end_date,"parse_date")),this.$data.tasksStore.updateItem(s.id,s)):(_.defined(c)||(c=this.getParent(s)||0),this.isTaskExists(c)||(c=this.config.root_id),this.setParent(s,c),this.$data.tasksStore.addItem(s,i,c))},deleteTask:function(s){return s=u(s,this.config.root_id),this.$data.tasksStore.removeItem(s)},getTaskCount:function(){return this.$data.tasksStore.count()},getVisibleTaskCount:function(){return this.$data.tasksStore.countVisible()},getTaskIndex:function(s){return this.$data.tasksStore.getBranchIndex(s)},getGlobalTaskIndex:function(s){return s=u(s,this.config.root_id),this.assert(s,"Invalid argument"),this.$data.tasksStore.getIndexById(s)},eachTask:function(s,c,i){return this.$data.tasksStore.eachItem(_.bind(s,i||this),c)},eachParent:function(s,c,i){return this.$data.tasksStore.eachParent(_.bind(s,i||this),c)},changeTaskId:function(s,c){this.$data.tasksStore.changeId(s,c);var i=this.$data.tasksStore.getItem(c),r=[];i.$source&&(r=r.concat(i.$source)),i.$target&&(r=r.concat(i.$target));for(var e=0;e<r.length;e++){var t=this.getLink(r[e]);t.source==s&&(t.source=c),t.target==s&&(t.target=c)}},calculateTaskLevel:function(s){return this.$data.tasksStore.calculateItemLevel(s)},getNext:function(s){return this.$data.tasksStore.getNext(s)},getPrev:function(s){return this.$data.tasksStore.getPrev(s)},getParent:function(s){return this.$data.tasksStore.getParent(s)},setParent:function(s,c,i){return this.$data.tasksStore.setParent(s,c,i)},getSiblings:function(s){return this.$data.tasksStore.getSiblings(s).slice()},getNextSibling:function(s){return this.$data.tasksStore.getNextSibling(s)},getPrevSibling:function(s){return this.$data.tasksStore.getPrevSibling(s)},getTaskByIndex:function(s){var c=this.$data.tasksStore.getIdByIndex(s);return this.isTaskExists(c)?this.getTask(c):null},getChildren:function(s){return this.hasChild(s)?this.$data.tasksStore.getChildren(s).slice():[]},hasChild:function(s){return this.$data.tasksStore.hasChild(s)},open:function(s){this.$data.tasksStore.open(s)},close:function(s){this.$data.tasksStore.close(s)},moveTask:function(s,c,i){return i=u(i,this.config.root_id),this.$data.tasksStore.move.apply(this.$data.tasksStore,arguments)},sort:function(s,c,i,r){var e=!r;this.$data.tasksStore.sort(s,c,i),this.callEvent("onAfterSort",[s,c,i]),e&&this.render()}}}},function(A,E,h){var _=h(0),u=h(230),s=h(229),c=h(49),i=h(47),r=h(228),e=h(227),t=h(15),n=h(2).replaceValidZeroId;function o(){for(var l=this.$services.getService("datastores"),d=[],f=0;f<l.length;f++){var g=this.getDatastore(l[f]);g.$destroyed||d.push(g)}return d}c.default&&(c=c.default);var a=function(){return{createDatastore:function(l){var d=(l.type||"").toLowerCase()=="treedatastore"?i:c;if(l){var f=this;l.openInitially=function(){return f.config.open_tree_initially},l.copyOnParse=function(){return f.config.deepcopy_on_parse}}var g=new d(l);if(this.mixin(g,r(g)),l.name){var p="datastore:"+l.name;g.attachEvent("onDestroy",(function(){this.$services.dropService(p);for(var y=this.$services.getService("datastores"),v=0;v<y.length;v++)if(y[v]===l.name){y.splice(v,1);break}}).bind(this)),this.$services.dropService(p),this.$services.setService(p,function(){return g});var m=this.$services.getService("datastores");m?m.indexOf(l.name)<0&&m.push(l.name):(m=[],this.$services.setService("datastores",function(){return m}),m.push(l.name)),e.bindDataStore(l.name,this)}return g},getDatastore:function(l){return this.$services.getService("datastore:"+l)},_getDatastores:o,refreshData:function(){var l;t(this)||(l=this.getScrollState()),this.callEvent("onBeforeDataRender",[]);for(var d=o.call(this),f=0;f<d.length;f++)d[f].refresh();this.config.preserve_scroll&&!t(this)&&(l.x||l.y)&&this.scrollTo(l.x,l.y),this.callEvent("onDataRender",[])},isChildOf:function(l,d){return this.$data.tasksStore.isChildOf(l,d)},refreshTask:function(l,d){var f=this.getTask(l),g=this;function p(){if(d===void 0||d){for(var y=0;y<f.$source.length;y++)g.refreshLink(f.$source[y]);for(y=0;y<f.$target.length;y++)g.refreshLink(f.$target[y])}}if(f&&this.isTaskVisible(l))this.$data.tasksStore.refresh(l,!!this.getState("tasksDnd").drag_id||d===!1),p();else if(this.isTaskExists(l)&&this.isTaskExists(this.getParent(l))&&!this._bulk_dnd){this.refreshTask(this.getParent(l));var m=!1;this.eachParent(function(y){(m||this.isSplitTask(y))&&(m=!0)},l),m&&p()}},refreshLink:function(l){this.$data.linksStore.refresh(l,!!this.getState("tasksDnd").drag_id)},silent:function(l){var d=this;d.$data.tasksStore.silent(function(){d.$data.linksStore.silent(function(){l()})})},clearAll:function(){for(var l=o.call(this),d=0;d<l.length;d++)l[d].silent(function(){l[d].clearAll()});for(d=0;d<l.length;d++)l[d].clearAll();this._update_flags(),this.userdata={},this.callEvent("onClear",[]),this.render()},_clear_data:function(){this.$data.tasksStore.clearAll(),this.$data.linksStore.clearAll(),this._update_flags(),this.userdata={}},selectTask:function(l){var d=this.$data.tasksStore;if(!this.config.select_task)return!1;if(l=n(l,this.config.root_id)){var f=this.getSelectedId();d._skipResourceRepaint=!0,d.select(l),d._skipResourceRepaint=!1,f&&d.pull[f].$split_subtask&&f!=l&&this.refreshTask(f),d.pull[l].$split_subtask&&f!=l&&this.refreshTask(l)}return d.getSelectedId()},unselectTask:function(l){var d=this.$data.tasksStore;d.unselect(l),l&&d.pull[l].$split_subtask&&this.refreshTask(l)},isSelectedTask:function(l){return this.$data.tasksStore.isSelected(l)},getSelectedId:function(){return this.$data.tasksStore.getSelectedId()}}};A.exports={create:function(){var l=_.mixin({},a());return _.mixin(l,u()),_.mixin(l,s()),l}}},function(A,E,h){var _=h(0),u=h(231),s=h(46),c=h(16);A.exports=function(i){var r=u.create();_.mixin(i,r);var e=i.createDatastore({name:"task",type:"treeDatastore",rootId:function(){return i.config.root_id},initItem:_.bind(function(f){this.defined(f.id)||(f.id=this.uid()),f.start_date&&(f.start_date=i.date.parseDate(f.start_date,"parse_date")),f.end_date&&(f.end_date=i.date.parseDate(f.end_date,"parse_date"));var g=null;(f.duration||f.duration===0)&&(f.duration=g=1*f.duration),g&&(f.start_date&&!f.end_date?f.end_date=this.calculateEndDate(f):!f.start_date&&f.end_date&&(f.start_date=this.calculateEndDate({start_date:f.end_date,duration:-f.duration,task:f}))),f.progress=Number(f.progress)||0,this._isAllowedUnscheduledTask(f)&&this._set_default_task_timing(f),this._init_task_timing(f),f.start_date&&f.end_date&&this.correctTaskWorkTime(f),f.$source=[],f.$target=[];var p=this.$data.tasksStore.getItem(f.id);return p&&!_.defined(f.open)&&(f.$open=p.$open),f.parent===void 0&&(f.parent=this.config.root_id),f},i),getConfig:function(){return i.config}}),t=i.createDatastore({name:"link",initItem:_.bind(function(f){return this.defined(f.id)||(f.id=this.uid()),f},i)});function n(f){var g=i.isTaskVisible(f);if(!g&&i.isTaskExists(f)){var p=i.getParent(f);i.isTaskExists(p)&&i.isTaskVisible(p)&&(p=i.getTask(p),i.isSplitTask(p)&&(g=!0))}return g}function o(f){if(i.isTaskExists(f.source)){var g=i.getTask(f.source);g.$source=g.$source||[],g.$source.push(f.id)}if(i.isTaskExists(f.target)){var p=i.getTask(f.target);p.$target=p.$target||[],p.$target.push(f.id)}}function a(f){if(i.isTaskExists(f.source)){for(var g=i.getTask(f.source),p=0;p<g.$source.length;p++)if(g.$source[p]==f.id){g.$source.splice(p,1);break}}if(i.isTaskExists(f.target)){var m=i.getTask(f.target);for(p=0;p<m.$target.length;p++)if(m.$target[p]==f.id){m.$target.splice(p,1);break}}}function l(){for(var f=null,g=i.$data.tasksStore.getItems(),p=0,m=g.length;p<m;p++)(f=g[p]).$source=[],f.$target=[];var y=i.$data.linksStore.getItems();for(p=0,m=y.length;p<m;p++)o(y[p])}function d(f){var g=f.source,p=f.target;for(var m in f.events)(function(y,v){g.attachEvent(y,function(){return p.callEvent(v,Array.prototype.slice.call(arguments))},v)})(m,f.events[m])}i.attachEvent("onDestroy",function(){e.destructor(),t.destructor()}),i.attachEvent("onLinkValidation",function(f){if(i.isLinkExists(f.id)||f.id==="predecessor_generated")return!0;for(var g=i.getTask(f.source).$source,p=0;p<g.length;p++){var m=i.getLink(g[p]),y=f.source==m.source,v=f.target==m.target,b=f.type==m.type;if(y&&v&&b)return!1}return!0}),e.attachEvent("onBeforeRefreshAll",function(){if(!e._skipTaskRecalculation)for(var f=e.getVisibleItems(),g=0;g<f.length;g++){var p=f[g];p.$index=g,p.$local_index=i.getTaskIndex(p.id),i.resetProjectDates(p)}}),e.attachEvent("onFilterItem",function(f,g){if(i.config.show_tasks_outside_timescale)return!0;var p=null,m=null;if(i.config.start_date&&i.config.end_date){if(i._isAllowedUnscheduledTask(g))return!0;if(p=i.config.start_date.valueOf(),m=i.config.end_date.valueOf(),+g.start_date>m||+g.end_date<+p)return!1}return!0}),e.attachEvent("onIdChange",function(f,g){i._update_flags(f,g);var p=i.getTask(g);e.isSilent()||(p.$split_subtask||p.rollup)&&i.eachParent(function(m){i.refreshTask(m.id)},g)}),e.attachEvent("onAfterUpdate",function(f){if(i._update_parents(f),i.getState("batchUpdate").batch_update)return!0;var g=e.getItem(f);g.$source||(g.$source=[]);for(var p=0;p<g.$source.length;p++)t.refresh(g.$source[p]);for(g.$target||(g.$target=[]),p=0;p<g.$target.length;p++)t.refresh(g.$target[p])}),e.attachEvent("onBeforeItemMove",function(f,g,p){return!c(f,i,e)||(console.log("The placeholder task cannot be moved to another position."),!1)}),e.attachEvent("onAfterItemMove",function(f,g,p){var m=i.getTask(f);this.getNextSibling(f)!==null?m.$drop_target=this.getNextSibling(f):this.getPrevSibling(f)!==null?m.$drop_target="next:"+this.getPrevSibling(f):m.$drop_target="next:null"}),e.attachEvent("onStoreUpdated",function(f,g,p){if(p=="delete"&&i._update_flags(f,null),!i.$services.getService("state").getState("batchUpdate").batch_update){if(i.config.fit_tasks&&p!=="paint"){var m=i.getState();s(i);var y=i.getState();if(+m.min_date!=+y.min_date||+m.max_date!=+y.max_date)return i.render(),i.callEvent("onScaleAdjusted",[]),!0}p=="add"||p=="move"||p=="delete"?i.$layout&&(this.$config.name!="task"||p!="add"&&p!="delete"||this._skipTaskRecalculation!="lightbox"&&(this._skipTaskRecalculation=!0),i.$layout.resize()):f||t.refresh()}}),t.attachEvent("onAfterAdd",function(f,g){o(g)}),t.attachEvent("onAfterUpdate",function(f,g){l()}),t.attachEvent("onAfterDelete",function(f,g){a(g)}),t.attachEvent("onBeforeIdChange",function(f,g){a(i.mixin({id:f},i.$data.linksStore.getItem(g))),o(i.$data.linksStore.getItem(g))}),t.attachEvent("onFilterItem",function(f,g){if(!i.config.show_links)return!1;var p=n(g.source),m=n(g.target);return!(!p||!m||i._isAllowedUnscheduledTask(i.getTask(g.source))||i._isAllowedUnscheduledTask(i.getTask(g.target)))&&i.callEvent("onBeforeLinkDisplay",[f,g])}),function(){var f=h(45),g={};i.attachEvent("onBeforeTaskDelete",function(p,m){return g[p]=f.getSubtreeLinks(i,p),!0}),i.attachEvent("onAfterTaskDelete",function(p,m){g[p]&&i.$data.linksStore.silent(function(){for(var y in g[p])i.isLinkExists(y)&&i.$data.linksStore.removeItem(y),a(g[p][y]);g[p]=null})})}(),i.attachEvent("onAfterLinkDelete",function(f,g){i.refreshTask(g.source),i.refreshTask(g.target)}),i.attachEvent("onParse",l),d({source:t,target:i,events:{onItemLoading:"onLinkLoading",onBeforeAdd:"onBeforeLinkAdd",onAfterAdd:"onAfterLinkAdd",onBeforeUpdate:"onBeforeLinkUpdate",onAfterUpdate:"onAfterLinkUpdate",onBeforeDelete:"onBeforeLinkDelete",onAfterDelete:"onAfterLinkDelete",onIdChange:"onLinkIdChange"}}),d({source:e,target:i,events:{onItemLoading:"onTaskLoading",onBeforeAdd:"onBeforeTaskAdd",onAfterAdd:"onAfterTaskAdd",onBeforeUpdate:"onBeforeTaskUpdate",onAfterUpdate:"onAfterTaskUpdate",onBeforeDelete:"onBeforeTaskDelete",onAfterDelete:"onAfterTaskDelete",onIdChange:"onTaskIdChange",onBeforeItemMove:"onBeforeTaskMove",onAfterItemMove:"onAfterTaskMove",onFilterItem:"onBeforeTaskDisplay",onItemOpen:"onTaskOpened",onItemClose:"onTaskClosed",onBeforeSelect:"onBeforeTaskSelected",onAfterSelect:"onTaskSelected",onAfterUnselect:"onTaskUnselected"}}),i.$data={tasksStore:e,linksStore:t}}},function(A,E,h){(function(_,u,s){var c,i,r;function e(t){"@babel/helpers - typeof";return(e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(t)}/* @preserve
 * The MIT License (MIT)
 * 
 * Copyright (c) 2013-2018 Petka Antonov
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 * 
 */(function(t){e(E)=="object"&&A!==void 0?A.exports=t():(i=[],(r=typeof(c=t)=="function"?c.apply(E,i):c)===void 0||(A.exports=r))})(function(){return function t(n,o,a){function l(g,p){if(!o[g]){if(!n[g]){var m=typeof _dereq_=="function"&&_dereq_;if(!p&&m)return m(g,!0);if(d)return d(g,!0);var y=new Error("Cannot find module '"+g+"'");throw y.code="MODULE_NOT_FOUND",y}var v=o[g]={exports:{}};n[g][0].call(v.exports,function(b){var k=n[g][1][b];return l(k||b)},v,v.exports,t,n,o,a)}return o[g].exports}for(var d=typeof _dereq_=="function"&&_dereq_,f=0;f<a.length;f++)l(a[f]);return l}({1:[function(t,n,o){n.exports=function(a){var l=a._SomePromiseArray;function d(f){var g=new l(f),p=g.promise();return g.setHowMany(1),g.setUnwrap(),g.init(),p}a.any=function(f){return d(f)},a.prototype.any=function(){return d(this)}}},{}],2:[function(t,n,o){var a;try{throw new Error}catch(k){a=k}var l=t("./schedule"),d=t("./queue"),f=t("./util");function g(){this._customScheduler=!1,this._isTickUsed=!1,this._lateQueue=new d(16),this._normalQueue=new d(16),this._haveDrainedQueues=!1,this._trampolineEnabled=!0;var k=this;this.drainQueues=function(){k._drainQueues()},this._schedule=l}function p(k,$,w){this._lateQueue.push(k,$,w),this._queueTick()}function m(k,$,w){this._normalQueue.push(k,$,w),this._queueTick()}function y(k){this._normalQueue._pushOne(k),this._queueTick()}function v(k){for(;k.length()>0;)b(k)}function b(k){var $=k.shift();if(typeof $!="function")$._settlePromises();else{var w=k.shift(),x=k.shift();$.call(w,x)}}g.prototype.setScheduler=function(k){var $=this._schedule;return this._schedule=k,this._customScheduler=!0,$},g.prototype.hasCustomScheduler=function(){return this._customScheduler},g.prototype.enableTrampoline=function(){this._trampolineEnabled=!0},g.prototype.disableTrampolineIfNecessary=function(){f.hasDevTools&&(this._trampolineEnabled=!1)},g.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues},g.prototype.fatalError=function(k,$){$?(_.stderr.write("Fatal "+(k instanceof Error?k.stack:k)+`
`),_.exit(2)):this.throwLater(k)},g.prototype.throwLater=function(k,$){if(arguments.length===1&&($=k,k=function(){throw $}),typeof setTimeout<"u")setTimeout(function(){k($)},0);else try{this._schedule(function(){k($)})}catch{throw new Error(`No async scheduler available

    See http://goo.gl/MqrFmX
`)}},f.hasDevTools?(g.prototype.invokeLater=function(k,$,w){this._trampolineEnabled?p.call(this,k,$,w):this._schedule(function(){setTimeout(function(){k.call($,w)},100)})},g.prototype.invoke=function(k,$,w){this._trampolineEnabled?m.call(this,k,$,w):this._schedule(function(){k.call($,w)})},g.prototype.settlePromises=function(k){this._trampolineEnabled?y.call(this,k):this._schedule(function(){k._settlePromises()})}):(g.prototype.invokeLater=p,g.prototype.invoke=m,g.prototype.settlePromises=y),g.prototype._drainQueues=function(){v(this._normalQueue),this._reset(),this._haveDrainedQueues=!0,v(this._lateQueue)},g.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},g.prototype._reset=function(){this._isTickUsed=!1},n.exports=g,n.exports.firstLineError=a},{"./queue":26,"./schedule":29,"./util":36}],3:[function(t,n,o){n.exports=function(a,l,d,f){var g=!1,p=function(b,k){this._reject(k)},m=function(b,k){k.promiseRejectionQueued=!0,k.bindingPromise._then(p,p,null,this,b)},y=function(b,k){!(50397184&this._bitField)&&this._resolveCallback(k.target)},v=function(b,k){k.promiseRejectionQueued||this._reject(b)};a.prototype.bind=function(b){g||(g=!0,a.prototype._propagateFrom=f.propagateFromFunction(),a.prototype._boundValue=f.boundValueFunction());var k=d(b),$=new a(l);$._propagateFrom(this,1);var w=this._target();if($._setBoundTo(k),k instanceof a){var x={promiseRejectionQueued:!1,promise:$,target:w,bindingPromise:k};w._then(l,m,void 0,$,x),k._then(y,v,void 0,$,x),$._setOnCancel(k)}else $._resolveCallback(w);return $},a.prototype._setBoundTo=function(b){b!==void 0?(this._bitField=2097152|this._bitField,this._boundTo=b):this._bitField=-2097153&this._bitField},a.prototype._isBound=function(){return(2097152&this._bitField)==2097152},a.bind=function(b,k){return a.resolve(k).bind(b)}}},{}],4:[function(t,n,o){var a;typeof Promise<"u"&&(a=Promise);var l=t("./promise")();l.noConflict=function(){try{Promise===l&&(Promise=a)}catch{}return l},n.exports=l},{"./promise":22}],5:[function(t,n,o){var a=Object.create;if(a){var l=a(null),d=a(null);l[" size"]=d[" size"]=0}n.exports=function(f){var g=t("./util"),p=g.canEvaluate;g.isIdentifier;function m(b){return function(k,$){var w;if(k!=null&&(w=k[$]),typeof w!="function"){var x="Object "+g.classString(k)+" has no method '"+g.toString($)+"'";throw new f.TypeError(x)}return w}(b,this.pop()).apply(b,this)}function y(b){return b[this]}function v(b){var k=+this;return k<0&&(k=Math.max(0,k+b.length)),b[k]}f.prototype.call=function(b){var k=[].slice.call(arguments,1);return k.push(b),this._then(m,void 0,void 0,k,void 0)},f.prototype.get=function(b){var k;if(typeof b=="number")k=v;else if(p){var $=(void 0)(b);k=$!==null?$:y}else k=y;return this._then(k,void 0,void 0,b,void 0)}}},{"./util":36}],6:[function(t,n,o){n.exports=function(a,l,d,f){var g=t("./util"),p=g.tryCatch,m=g.errorObj,y=a._async;a.prototype.break=a.prototype.cancel=function(){if(!f.cancellation())return this._warn("cancellation is disabled");for(var v=this,b=v;v._isCancellable();){if(!v._cancelBy(b)){b._isFollowing()?b._followee().cancel():b._cancelBranched();break}var k=v._cancellationParent;if(k==null||!k._isCancellable()){v._isFollowing()?v._followee().cancel():v._cancelBranched();break}v._isFollowing()&&v._followee().cancel(),v._setWillBeCancelled(),b=v,v=k}},a.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},a.prototype._enoughBranchesHaveCancelled=function(){return this._branchesRemainingToCancel===void 0||this._branchesRemainingToCancel<=0},a.prototype._cancelBy=function(v){return v===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),!!this._enoughBranchesHaveCancelled()&&(this._invokeOnCancel(),!0))},a.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},a.prototype._cancel=function(){this._isCancellable()&&(this._setCancelled(),y.invoke(this._cancelPromises,this,void 0))},a.prototype._cancelPromises=function(){this._length()>0&&this._settlePromises()},a.prototype._unsetOnCancel=function(){this._onCancelField=void 0},a.prototype._isCancellable=function(){return this.isPending()&&!this._isCancelled()},a.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},a.prototype._doInvokeOnCancel=function(v,b){if(g.isArray(v))for(var k=0;k<v.length;++k)this._doInvokeOnCancel(v[k],b);else if(v!==void 0)if(typeof v=="function"){if(!b){var $=p(v).call(this._boundValue());$===m&&(this._attachExtraTrace($.e),y.throwLater($.e))}}else v._resultCancelled(this)},a.prototype._invokeOnCancel=function(){var v=this._onCancel();this._unsetOnCancel(),y.invoke(this._doInvokeOnCancel,this,v)},a.prototype._invokeInternalOnCancel=function(){this._isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},a.prototype._resultCancelled=function(){this.cancel()}}},{"./util":36}],7:[function(t,n,o){n.exports=function(a){var l=t("./util"),d=t("./es5").keys,f=l.tryCatch,g=l.errorObj;return function(p,m,y){return function(v){var b=y._boundValue();t:for(var k=0;k<p.length;++k){var $=p[k];if($===Error||$!=null&&$.prototype instanceof Error){if(v instanceof $)return f(m).call(b,v)}else if(typeof $=="function"){var w=f($).call(b,v);if(w===g)return w;if(w)return f(m).call(b,v)}else if(l.isObject(v)){for(var x=d($),T=0;T<x.length;++T){var D=x[T];if($[D]!=v[D])continue t}return f(m).call(b,v)}}return a}}}},{"./es5":13,"./util":36}],8:[function(t,n,o){n.exports=function(a){var l=!1,d=[];function f(){this._trace=new f.CapturedTrace(g())}function g(){var p=d.length-1;if(p>=0)return d[p]}return a.prototype._promiseCreated=function(){},a.prototype._pushContext=function(){},a.prototype._popContext=function(){return null},a._peekContext=a.prototype._peekContext=function(){},f.prototype._pushContext=function(){this._trace!==void 0&&(this._trace._promiseCreated=null,d.push(this._trace))},f.prototype._popContext=function(){if(this._trace!==void 0){var p=d.pop(),m=p._promiseCreated;return p._promiseCreated=null,m}return null},f.CapturedTrace=null,f.create=function(){if(l)return new f},f.deactivateLongStackTraces=function(){},f.activateLongStackTraces=function(){var p=a.prototype._pushContext,m=a.prototype._popContext,y=a._peekContext,v=a.prototype._peekContext,b=a.prototype._promiseCreated;f.deactivateLongStackTraces=function(){a.prototype._pushContext=p,a.prototype._popContext=m,a._peekContext=y,a.prototype._peekContext=v,a.prototype._promiseCreated=b,l=!1},l=!0,a.prototype._pushContext=f.prototype._pushContext,a.prototype._popContext=f.prototype._popContext,a._peekContext=a.prototype._peekContext=g,a.prototype._promiseCreated=function(){var k=this._peekContext();k&&k._promiseCreated==null&&(k._promiseCreated=this)}},f}},{}],9:[function(t,n,o){n.exports=function(a,l){var d,f,g,p=a._getDomain,m=a._async,y=t("./errors").Warning,v=t("./util"),b=t("./es5"),k=v.canAttachTrace,$=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,w=/\((?:timers\.js):\d+:\d+\)/,x=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,T=null,D=null,I=!1,P=v.env("BLUEBIRD_DEBUG")!=0,R=!(v.env("BLUEBIRD_WARNINGS")==0||!P&&!v.env("BLUEBIRD_WARNINGS")),H=!(v.env("BLUEBIRD_LONG_STACK_TRACES")==0||!P&&!v.env("BLUEBIRD_LONG_STACK_TRACES")),F=v.env("BLUEBIRD_W_FORGOTTEN_RETURN")!=0&&(R||!!v.env("BLUEBIRD_W_FORGOTTEN_RETURN"));a.prototype.suppressUnhandledRejections=function(){var X=this._target();X._bitField=-1048577&X._bitField|524288},a.prototype._ensurePossibleRejectionHandled=function(){if(!(524288&this._bitField)){this._setRejectionIsUnhandled();var X=this;setTimeout(function(){X._notifyUnhandledRejection()},1)}},a.prototype._notifyUnhandledRejectionIsHandled=function(){ut("rejectionHandled",d,void 0,this)},a.prototype._setReturnedNonUndefined=function(){this._bitField=268435456|this._bitField},a.prototype._returnedNonUndefined=function(){return(268435456&this._bitField)!=0},a.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var X=this._settledValue();this._setUnhandledRejectionIsNotified(),ut("unhandledRejection",f,X,this)}},a.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=262144|this._bitField},a.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=-262145&this._bitField},a.prototype._isUnhandledRejectionNotified=function(){return(262144&this._bitField)>0},a.prototype._setRejectionIsUnhandled=function(){this._bitField=1048576|this._bitField},a.prototype._unsetRejectionIsUnhandled=function(){this._bitField=-1048577&this._bitField,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},a.prototype._isRejectionUnhandled=function(){return(1048576&this._bitField)>0},a.prototype._warn=function(X,Q,nt){return tt(X,Q,nt||this)},a.onPossiblyUnhandledRejection=function(X){var Q=p();f=typeof X=="function"?Q===null?X:v.domainBind(Q,X):void 0},a.onUnhandledRejectionHandled=function(X){var Q=p();d=typeof X=="function"?Q===null?X:v.domainBind(Q,X):void 0};var Y=function(){};a.longStackTraces=function(){if(m.haveItemsQueued()&&!ht.longStackTraces)throw new Error(`cannot enable long stack traces after promises have been created

    See http://goo.gl/MqrFmX
`);if(!ht.longStackTraces&&gt()){var X=a.prototype._captureStackTrace,Q=a.prototype._attachExtraTrace,nt=a.prototype._dereferenceTrace;ht.longStackTraces=!0,Y=function(){if(m.haveItemsQueued()&&!ht.longStackTraces)throw new Error(`cannot enable long stack traces after promises have been created

    See http://goo.gl/MqrFmX
`);a.prototype._captureStackTrace=X,a.prototype._attachExtraTrace=Q,a.prototype._dereferenceTrace=nt,l.deactivateLongStackTraces(),m.enableTrampoline(),ht.longStackTraces=!1},a.prototype._captureStackTrace=U,a.prototype._attachExtraTrace=Z,a.prototype._dereferenceTrace=W,l.activateLongStackTraces(),m.disableTrampolineIfNecessary()}},a.hasLongStackTraces=function(){return ht.longStackTraces&&gt()};var q=function(){try{if(typeof CustomEvent=="function"){var X=new CustomEvent("CustomEvent");return v.global.dispatchEvent(X),function(Q,nt){var it={detail:nt,cancelable:!0};b.defineProperty(it,"promise",{value:nt.promise}),b.defineProperty(it,"reason",{value:nt.reason});var lt=new CustomEvent(Q.toLowerCase(),it);return!v.global.dispatchEvent(lt)}}return typeof Event=="function"?(X=new Event("CustomEvent"),v.global.dispatchEvent(X),function(Q,nt){var it=new Event(Q.toLowerCase(),{cancelable:!0});return it.detail=nt,b.defineProperty(it,"promise",{value:nt.promise}),b.defineProperty(it,"reason",{value:nt.reason}),!v.global.dispatchEvent(it)}):((X=document.createEvent("CustomEvent")).initCustomEvent("testingtheevent",!1,!0,{}),v.global.dispatchEvent(X),function(Q,nt){var it=document.createEvent("CustomEvent");return it.initCustomEvent(Q.toLowerCase(),!1,!0,nt),!v.global.dispatchEvent(it)})}catch{}return function(){return!1}}(),L=v.isNode?function(){return _.emit.apply(_,arguments)}:v.global?function(X){var Q="on"+X.toLowerCase(),nt=v.global[Q];return!!nt&&(nt.apply(v.global,[].slice.call(arguments,1)),!0)}:function(){return!1};function N(X,Q){return{promise:Q}}var G={promiseCreated:N,promiseFulfilled:N,promiseRejected:N,promiseResolved:N,promiseCancelled:N,promiseChained:function(X,Q,nt){return{promise:Q,child:nt}},warning:function(X,Q){return{warning:Q}},unhandledRejection:function(X,Q,nt){return{reason:Q,promise:nt}},rejectionHandled:N},O=function(X){var Q=!1;try{Q=L.apply(null,arguments)}catch(it){m.throwLater(it),Q=!0}var nt=!1;try{nt=q(X,G[X].apply(null,arguments))}catch(it){m.throwLater(it),nt=!0}return nt||Q};function V(){return!1}function K(X,Q,nt){var it=this;try{X(Q,nt,function(lt){if(typeof lt!="function")throw new TypeError("onCancel must be a function, got: "+v.toString(lt));it._attachCancellationCallback(lt)})}catch(lt){return lt}}function J(X){if(!this._isCancellable())return this;var Q=this._onCancel();Q!==void 0?v.isArray(Q)?Q.push(X):this._setOnCancel([Q,X]):this._setOnCancel(X)}function z(){return this._onCancelField}function S(X){this._onCancelField=X}function C(){this._cancellationParent=void 0,this._onCancelField=void 0}function M(X,Q){if(1&Q){this._cancellationParent=X;var nt=X._branchesRemainingToCancel;nt===void 0&&(nt=0),X._branchesRemainingToCancel=nt+1}2&Q&&X._isBound()&&this._setBoundTo(X._boundTo)}a.config=function(X){if("longStackTraces"in(X=Object(X))&&(X.longStackTraces?a.longStackTraces():!X.longStackTraces&&a.hasLongStackTraces()&&Y()),"warnings"in X){var Q=X.warnings;ht.warnings=!!Q,F=ht.warnings,v.isObject(Q)&&"wForgottenReturn"in Q&&(F=!!Q.wForgottenReturn)}if("cancellation"in X&&X.cancellation&&!ht.cancellation){if(m.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");a.prototype._clearCancellationData=C,a.prototype._propagateFrom=M,a.prototype._onCancel=z,a.prototype._setOnCancel=S,a.prototype._attachCancellationCallback=J,a.prototype._execute=K,j=M,ht.cancellation=!0}return"monitoring"in X&&(X.monitoring&&!ht.monitoring?(ht.monitoring=!0,a.prototype._fireEvent=O):!X.monitoring&&ht.monitoring&&(ht.monitoring=!1,a.prototype._fireEvent=V)),a},a.prototype._fireEvent=V,a.prototype._execute=function(X,Q,nt){try{X(Q,nt)}catch(it){return it}},a.prototype._onCancel=function(){},a.prototype._setOnCancel=function(X){},a.prototype._attachCancellationCallback=function(X){},a.prototype._captureStackTrace=function(){},a.prototype._attachExtraTrace=function(){},a.prototype._dereferenceTrace=function(){},a.prototype._clearCancellationData=function(){},a.prototype._propagateFrom=function(X,Q){};var j=function(X,Q){2&Q&&X._isBound()&&this._setBoundTo(X._boundTo)};function B(){var X=this._boundTo;return X!==void 0&&X instanceof a?X.isFulfilled()?X.value():void 0:X}function U(){this._trace=new yt(this._peekContext())}function Z(X,Q){if(k(X)){var nt=this._trace;if(nt!==void 0&&Q&&(nt=nt._parent),nt!==void 0)nt.attachExtraTrace(X);else if(!X.__stackCleaned__){var it=et(X);v.notEnumerableProp(X,"stack",it.message+`
`+it.stack.join(`
`)),v.notEnumerableProp(X,"__stackCleaned__",!0)}}}function W(){this._trace=void 0}function tt(X,Q,nt){if(ht.warnings){var it,lt=new y(X);if(Q)nt._attachExtraTrace(lt);else if(ht.longStackTraces&&(it=a._peekContext()))it.attachExtraTrace(lt);else{var st=et(lt);lt.stack=st.message+`
`+st.stack.join(`
`)}O("warning",lt)||ot(lt,"",!0)}}function rt(X){for(var Q=[],nt=0;nt<X.length;++nt){var it=X[nt],lt=it==="    (No stack trace)"||T.test(it),st=lt&&vt(it);lt&&!st&&(I&&it.charAt(0)!==" "&&(it="    "+it),Q.push(it))}return Q}function et(X){var Q=X.stack,nt=X.toString();return Q=typeof Q=="string"&&Q.length>0?function(it){for(var lt=it.stack.replace(/\s+$/g,"").split(`
`),st=0;st<lt.length;++st){var at=lt[st];if(at==="    (No stack trace)"||T.test(at))break}return st>0&&it.name!="SyntaxError"&&(lt=lt.slice(st)),lt}(X):["    (No stack trace)"],{message:nt,stack:X.name=="SyntaxError"?Q:rt(Q)}}function ot(X,Q,nt){if(typeof console<"u"){var it;if(v.isObject(X)){var lt=X.stack;it=Q+D(lt,X)}else it=Q+String(X);typeof g=="function"?g(it,nt):typeof console.log!="function"&&e(console.log)!=="object"||console.log(it)}}function ut(X,Q,nt,it){var lt=!1;try{typeof Q=="function"&&(lt=!0,X==="rejectionHandled"?Q(it):Q(nt,it))}catch(st){m.throwLater(st)}X==="unhandledRejection"?O(X,nt,it)||lt||ot(nt,"Unhandled rejection "):O(X,it)}function _t(X){var Q;if(typeof X=="function")Q="[function "+(X.name||"anonymous")+"]";else{if(Q=X&&typeof X.toString=="function"?X.toString():v.toString(X),/\[object [a-zA-Z0-9$_]+\]/.test(Q))try{Q=JSON.stringify(X)}catch{}Q.length===0&&(Q="(empty array)")}return"(<"+function(nt){return nt.length<41?nt:nt.substr(0,38)+"..."}(Q)+">, no stack trace)"}function gt(){return typeof St=="function"}var vt=function(){return!1},xt=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;function kt(X){var Q=X.match(xt);if(Q)return{fileName:Q[1],line:parseInt(Q[2],10)}}function yt(X){this._parent=X,this._promisesCreated=0;var Q=this._length=1+(X===void 0?0:X._length);St(this,yt),Q>32&&this.uncycle()}v.inherits(yt,Error),l.CapturedTrace=yt,yt.prototype.uncycle=function(){var X=this._length;if(!(X<2)){for(var Q=[],nt={},it=0,lt=this;lt!==void 0;++it)Q.push(lt),lt=lt._parent;for(it=(X=this._length=it)-1;it>=0;--it){var st=Q[it].stack;nt[st]===void 0&&(nt[st]=it)}for(it=0;it<X;++it){var at=nt[Q[it].stack];if(at!==void 0&&at!==it){at>0&&(Q[at-1]._parent=void 0,Q[at-1]._length=1),Q[it]._parent=void 0,Q[it]._length=1;var ct=it>0?Q[it-1]:this;at<X-1?(ct._parent=Q[at+1],ct._parent.uncycle(),ct._length=ct._parent._length+1):(ct._parent=void 0,ct._length=1);for(var ft=ct._length+1,dt=it-2;dt>=0;--dt)Q[dt]._length=ft,ft++;return}}}},yt.prototype.attachExtraTrace=function(X){if(!X.__stackCleaned__){this.uncycle();for(var Q=et(X),nt=Q.message,it=[Q.stack],lt=this;lt!==void 0;)it.push(rt(lt.stack.split(`
`))),lt=lt._parent;(function(st){for(var at=st[0],ct=1;ct<st.length;++ct){for(var ft=st[ct],dt=at.length-1,bt=at[dt],pt=-1,mt=ft.length-1;mt>=0;--mt)if(ft[mt]===bt){pt=mt;break}for(mt=pt;mt>=0;--mt){var wt=ft[mt];if(at[dt]!==wt)break;at.pop(),dt--}at=ft}})(it),function(st){for(var at=0;at<st.length;++at)(st[at].length===0||at+1<st.length&&st[at][0]===st[at+1][0])&&(st.splice(at,1),at--)}(it),v.notEnumerableProp(X,"stack",function(st,at){for(var ct=0;ct<at.length-1;++ct)at[ct].push("From previous event:"),at[ct]=at[ct].join(`
`);return ct<at.length&&(at[ct]=at[ct].join(`
`)),st+`
`+at.join(`
`)}(nt,it)),v.notEnumerableProp(X,"__stackCleaned__",!0)}};var St=function(){var X=/^\s*at\s*/,Q=function(st,at){return typeof st=="string"?st:at.name!==void 0&&at.message!==void 0?at.toString():_t(at)};if(typeof Error.stackTraceLimit=="number"&&typeof Error.captureStackTrace=="function"){Error.stackTraceLimit+=6,T=X,D=Q;var nt=Error.captureStackTrace;return vt=function(st){return $.test(st)},function(st,at){Error.stackTraceLimit+=6,nt(st,at),Error.stackTraceLimit-=6}}var it,lt=new Error;if(typeof lt.stack=="string"&&lt.stack.split(`
`)[0].indexOf("stackDetection@")>=0)return T=/@/,D=Q,I=!0,function(st){st.stack=new Error().stack};try{throw new Error}catch(st){it="stack"in st}return"stack"in lt||!it||typeof Error.stackTraceLimit!="number"?(D=function(st,at){return typeof st=="string"?st:e(at)!=="object"&&typeof at!="function"||at.name===void 0||at.message===void 0?_t(at):at.toString()},null):(T=X,D=Q,function(st){Error.stackTraceLimit+=6;try{throw new Error}catch(at){st.stack=at.stack}Error.stackTraceLimit-=6})}();typeof console<"u"&&console.warn!==void 0&&(g=function(X){console.warn(X)},v.isNode&&_.stderr.isTTY?g=function(X,Q){var nt=Q?"\x1B[33m":"\x1B[31m";console.warn(nt+X+`\x1B[0m
`)}:v.isNode||typeof new Error().stack!="string"||(g=function(X,Q){console.warn("%c"+X,Q?"color: darkorange":"color: red")}));var ht={warnings:R,longStackTraces:!1,cancellation:!1,monitoring:!1};return H&&a.longStackTraces(),{longStackTraces:function(){return ht.longStackTraces},warnings:function(){return ht.warnings},cancellation:function(){return ht.cancellation},monitoring:function(){return ht.monitoring},propagateFromFunction:function(){return j},boundValueFunction:function(){return B},checkForgottenReturns:function(X,Q,nt,it,lt){if(X===void 0&&Q!==null&&F){if(lt!==void 0&&lt._returnedNonUndefined()||!(65535&it._bitField))return;nt&&(nt+=" ");var st="",at="";if(Q._trace){for(var ct=Q._trace.stack.split(`
`),ft=rt(ct),dt=ft.length-1;dt>=0;--dt){var bt=ft[dt];if(!w.test(bt)){var pt=bt.match(x);pt&&(st="at "+pt[1]+":"+pt[2]+":"+pt[3]+" ");break}}if(ft.length>0){var mt=ft[0];for(dt=0;dt<ct.length;++dt)if(ct[dt]===mt){dt>0&&(at=`
`+ct[dt-1]);break}}}var wt="a promise was created in a "+nt+"handler "+st+"but was not returned from it, see http://goo.gl/rRqMUw"+at;it._warn(wt,!0,Q)}},setBounds:function(X,Q){if(gt()){for(var nt,it,lt=X.stack.split(`
`),st=Q.stack.split(`
`),at=-1,ct=-1,ft=0;ft<lt.length;++ft)if(dt=kt(lt[ft])){nt=dt.fileName,at=dt.line;break}for(ft=0;ft<st.length;++ft){var dt;if(dt=kt(st[ft])){it=dt.fileName,ct=dt.line;break}}at<0||ct<0||!nt||!it||nt!==it||at>=ct||(vt=function(bt){if($.test(bt))return!0;var pt=kt(bt);return!!(pt&&pt.fileName===nt&&at<=pt.line&&pt.line<=ct)})}},warn:tt,deprecated:function(X,Q){var nt=X+" is deprecated and will be removed in a future version.";return Q&&(nt+=" Use "+Q+" instead."),tt(nt)},CapturedTrace:yt,fireDomEvent:q,fireGlobalEvent:L}}},{"./errors":12,"./es5":13,"./util":36}],10:[function(t,n,o){n.exports=function(a){function l(){return this.value}function d(){throw this.reason}a.prototype.return=a.prototype.thenReturn=function(f){return f instanceof a&&f.suppressUnhandledRejections(),this._then(l,void 0,void 0,{value:f},void 0)},a.prototype.throw=a.prototype.thenThrow=function(f){return this._then(d,void 0,void 0,{reason:f},void 0)},a.prototype.catchThrow=function(f){if(arguments.length<=1)return this._then(void 0,d,void 0,{reason:f},void 0);var g=arguments[1];return this.caught(f,function(){throw g})},a.prototype.catchReturn=function(f){if(arguments.length<=1)return f instanceof a&&f.suppressUnhandledRejections(),this._then(void 0,l,void 0,{value:f},void 0);var g=arguments[1];return g instanceof a&&g.suppressUnhandledRejections(),this.caught(f,function(){return g})}}},{}],11:[function(t,n,o){n.exports=function(a,l){var d=a.reduce,f=a.all;function g(){return f(this)}a.prototype.each=function(p){return d(this,p,l,0)._then(g,void 0,void 0,this,void 0)},a.prototype.mapSeries=function(p){return d(this,p,l,l)},a.each=function(p,m){return d(p,m,l,0)._then(g,void 0,void 0,p,void 0)},a.mapSeries=function(p,m){return d(p,m,l,l)}}},{}],12:[function(t,n,o){var a,l,d=t("./es5"),f=d.freeze,g=t("./util"),p=g.inherits,m=g.notEnumerableProp;function y(P,R){function H(F){if(!(this instanceof H))return new H(F);m(this,"message",typeof F=="string"?F:R),m(this,"name",P),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this)}return p(H,Error),H}var v=y("Warning","warning"),b=y("CancellationError","cancellation error"),k=y("TimeoutError","timeout error"),$=y("AggregateError","aggregate error");try{a=TypeError,l=RangeError}catch{a=y("TypeError","type error"),l=y("RangeError","range error")}for(var w="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),x=0;x<w.length;++x)typeof Array.prototype[w[x]]=="function"&&($.prototype[w[x]]=Array.prototype[w[x]]);d.defineProperty($.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),$.prototype.isOperational=!0;var T=0;function D(P){if(!(this instanceof D))return new D(P);m(this,"name","OperationalError"),m(this,"message",P),this.cause=P,this.isOperational=!0,P instanceof Error?(m(this,"message",P.message),m(this,"stack",P.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}$.prototype.toString=function(){var P=Array(4*T+1).join(" "),R=`
`+P+`AggregateError of:
`;T++,P=Array(4*T+1).join(" ");for(var H=0;H<this.length;++H){for(var F=this[H]===this?"[Circular AggregateError]":this[H]+"",Y=F.split(`
`),q=0;q<Y.length;++q)Y[q]=P+Y[q];R+=(F=Y.join(`
`))+`
`}return T--,R},p(D,Error);var I=Error.__BluebirdErrorTypes__;I||(I=f({CancellationError:b,TimeoutError:k,OperationalError:D,RejectionError:D,AggregateError:$}),d.defineProperty(Error,"__BluebirdErrorTypes__",{value:I,writable:!1,enumerable:!1,configurable:!1})),n.exports={Error,TypeError:a,RangeError:l,CancellationError:I.CancellationError,OperationalError:I.OperationalError,TimeoutError:I.TimeoutError,AggregateError:I.AggregateError,Warning:v}},{"./es5":13,"./util":36}],13:[function(t,n,o){var a=function(){return this===void 0}();if(a)n.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:a,propertyIsWritable:function(p,m){var y=Object.getOwnPropertyDescriptor(p,m);return!(y&&!y.writable&&!y.set)}};else{var l={}.hasOwnProperty,d={}.toString,f={}.constructor.prototype,g=function(p){var m=[];for(var y in p)l.call(p,y)&&m.push(y);return m};n.exports={isArray:function(p){try{return d.call(p)==="[object Array]"}catch{return!1}},keys:g,names:g,defineProperty:function(p,m,y){return p[m]=y.value,p},getDescriptor:function(p,m){return{value:p[m]}},freeze:function(p){return p},getPrototypeOf:function(p){try{return Object(p).constructor.prototype}catch{return f}},isES5:a,propertyIsWritable:function(){return!0}}}},{}],14:[function(t,n,o){n.exports=function(a,l){var d=a.map;a.prototype.filter=function(f,g){return d(this,f,g,l)},a.filter=function(f,g,p){return d(f,g,p,l)}}},{}],15:[function(t,n,o){n.exports=function(a,l,d){var f=t("./util"),g=a.CancellationError,p=f.errorObj,m=t("./catch_filter")(d);function y(x,T,D){this.promise=x,this.type=T,this.handler=D,this.called=!1,this.cancelPromise=null}function v(x){this.finallyHandler=x}function b(x,T){return x.cancelPromise!=null&&(arguments.length>1?x.cancelPromise._reject(T):x.cancelPromise._cancel(),x.cancelPromise=null,!0)}function k(){return w.call(this,this.promise._target()._settledValue())}function $(x){if(!b(this,x))return p.e=x,p}function w(x){var T=this.promise,D=this.handler;if(!this.called){this.called=!0;var I=this.isFinallyHandler()?D.call(T._boundValue()):D.call(T._boundValue(),x);if(I===d)return I;if(I!==void 0){T._setReturnedNonUndefined();var P=l(I,T);if(P instanceof a){if(this.cancelPromise!=null){if(P._isCancelled()){var R=new g("late cancellation observer");return T._attachExtraTrace(R),p.e=R,p}P.isPending()&&P._attachCancellationCallback(new v(this))}return P._then(k,$,void 0,this,void 0)}}}return T.isRejected()?(b(this),p.e=x,p):(b(this),x)}return y.prototype.isFinallyHandler=function(){return this.type===0},v.prototype._resultCancelled=function(){b(this.finallyHandler)},a.prototype._passThrough=function(x,T,D,I){return typeof x!="function"?this.then():this._then(D,I,void 0,new y(this,T,x),void 0)},a.prototype.lastly=a.prototype.finally=function(x){return this._passThrough(x,0,w,w)},a.prototype.tap=function(x){return this._passThrough(x,1,w)},a.prototype.tapCatch=function(x){var T=arguments.length;if(T===1)return this._passThrough(x,1,void 0,w);var D,I=new Array(T-1),P=0;for(D=0;D<T-1;++D){var R=arguments[D];if(!f.isObject(R))return a.reject(new TypeError("tapCatch statement predicate: expecting an object but got "+f.classString(R)));I[P++]=R}I.length=P;var H=arguments[D];return this._passThrough(m(I,H,this),1,void 0,w)},y}},{"./catch_filter":7,"./util":36}],16:[function(t,n,o){n.exports=function(a,l,d,f,g,p){var m=t("./errors").TypeError,y=t("./util"),v=y.errorObj,b=y.tryCatch,k=[];function $(w,x,T,D){if(p.cancellation()){var I=new a(d),P=this._finallyPromise=new a(d);this._promise=I.lastly(function(){return P}),I._captureStackTrace(),I._setOnCancel(this)}else(this._promise=new a(d))._captureStackTrace();this._stack=D,this._generatorFunction=w,this._receiver=x,this._generator=void 0,this._yieldHandlers=typeof T=="function"?[T].concat(k):k,this._yieldedPromise=null,this._cancellationPhase=!1}y.inherits($,g),$.prototype._isResolved=function(){return this._promise===null},$.prototype._cleanup=function(){this._promise=this._generator=null,p.cancellation()&&this._finallyPromise!==null&&(this._finallyPromise._fulfill(),this._finallyPromise=null)},$.prototype._promiseCancelled=function(){if(!this._isResolved()){var w;if(this._generator.return!==void 0)this._promise._pushContext(),w=b(this._generator.return).call(this._generator,void 0),this._promise._popContext();else{var x=new a.CancellationError("generator .return() sentinel");a.coroutine.returnSentinel=x,this._promise._attachExtraTrace(x),this._promise._pushContext(),w=b(this._generator.throw).call(this._generator,x),this._promise._popContext()}this._cancellationPhase=!0,this._yieldedPromise=null,this._continue(w)}},$.prototype._promiseFulfilled=function(w){this._yieldedPromise=null,this._promise._pushContext();var x=b(this._generator.next).call(this._generator,w);this._promise._popContext(),this._continue(x)},$.prototype._promiseRejected=function(w){this._yieldedPromise=null,this._promise._attachExtraTrace(w),this._promise._pushContext();var x=b(this._generator.throw).call(this._generator,w);this._promise._popContext(),this._continue(x)},$.prototype._resultCancelled=function(){if(this._yieldedPromise instanceof a){var w=this._yieldedPromise;this._yieldedPromise=null,w.cancel()}},$.prototype.promise=function(){return this._promise},$.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._promiseFulfilled(void 0)},$.prototype._continue=function(w){var x=this._promise;if(w===v)return this._cleanup(),this._cancellationPhase?x.cancel():x._rejectCallback(w.e,!1);var T=w.value;if(w.done===!0)return this._cleanup(),this._cancellationPhase?x.cancel():x._resolveCallback(T);var D=f(T,this._promise);if(D instanceof a||(D=function(P,R,H){for(var F=0;F<R.length;++F){H._pushContext();var Y=b(R[F])(P);if(H._popContext(),Y===v){H._pushContext();var q=a.reject(v.e);return H._popContext(),q}var L=f(Y,H);if(L instanceof a)return L}return null}(D,this._yieldHandlers,this._promise))!==null){var I=(D=D._target())._bitField;50397184&I?33554432&I?a._async.invoke(this._promiseFulfilled,this,D._value()):16777216&I?a._async.invoke(this._promiseRejected,this,D._reason()):this._promiseCancelled():(this._yieldedPromise=D,D._proxy(this,null))}else this._promiseRejected(new m(`A value %s was yielded that could not be treated as a promise

    See http://goo.gl/MqrFmX

`.replace("%s",String(T))+`From coroutine:
`+this._stack.split(`
`).slice(1,-7).join(`
`)))},a.coroutine=function(w,x){if(typeof w!="function")throw new m(`generatorFunction must be a function

    See http://goo.gl/MqrFmX
`);var T=Object(x).yieldHandler,D=$,I=new Error().stack;return function(){var P=w.apply(this,arguments),R=new D(void 0,void 0,T,I),H=R.promise();return R._generator=P,R._promiseFulfilled(void 0),H}},a.coroutine.addYieldHandler=function(w){if(typeof w!="function")throw new m("expecting a function but got "+y.classString(w));k.push(w)},a.spawn=function(w){if(p.deprecated("Promise.spawn()","Promise.coroutine()"),typeof w!="function")return l(`generatorFunction must be a function

    See http://goo.gl/MqrFmX
`);var x=new $(w,this),T=x.promise();return x._run(a.spawn),T}}},{"./errors":12,"./util":36}],17:[function(t,n,o){n.exports=function(a,l,d,f,g,p){var m=t("./util");m.canEvaluate,m.tryCatch,m.errorObj,a.join=function(){var y,v=arguments.length-1;v>0&&typeof arguments[v]=="function"&&(y=arguments[v]);var b=[].slice.call(arguments);y&&b.pop();var k=new l(b).promise();return y!==void 0?k.spread(y):k}}},{"./util":36}],18:[function(t,n,o){n.exports=function(a,l,d,f,g,p){var m=a._getDomain,y=t("./util"),v=y.tryCatch,b=y.errorObj,k=a._async;function $(x,T,D,I){this.constructor$(x),this._promise._captureStackTrace();var P=m();this._callback=P===null?T:y.domainBind(P,T),this._preservedValues=I===g?new Array(this.length()):null,this._limit=D,this._inFlight=0,this._queue=[],k.invoke(this._asyncInit,this,void 0)}function w(x,T,D,I){if(typeof T!="function")return d("expecting a function but got "+y.classString(T));var P=0;if(D!==void 0){if(e(D)!=="object"||D===null)return a.reject(new TypeError("options argument must be an object but it is "+y.classString(D)));if(typeof D.concurrency!="number")return a.reject(new TypeError("'concurrency' must be a number but it is "+y.classString(D.concurrency)));P=D.concurrency}return new $(x,T,P=typeof P=="number"&&isFinite(P)&&P>=1?P:0,I).promise()}y.inherits($,l),$.prototype._asyncInit=function(){this._init$(void 0,-2)},$.prototype._init=function(){},$.prototype._promiseFulfilled=function(x,T){var D=this._values,I=this.length(),P=this._preservedValues,R=this._limit;if(T<0){if(D[T=-1*T-1]=x,R>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return!0}else{if(R>=1&&this._inFlight>=R)return D[T]=x,this._queue.push(T),!1;P!==null&&(P[T]=x);var H=this._promise,F=this._callback,Y=H._boundValue();H._pushContext();var q=v(F).call(Y,x,T,I),L=H._popContext();if(p.checkForgottenReturns(q,L,P!==null?"Promise.filter":"Promise.map",H),q===b)return this._reject(q.e),!0;var N=f(q,this._promise);if(N instanceof a){var G=(N=N._target())._bitField;if(!(50397184&G))return R>=1&&this._inFlight++,D[T]=N,N._proxy(this,-1*(T+1)),!1;if(!(33554432&G))return 16777216&G?(this._reject(N._reason()),!0):(this._cancel(),!0);q=N._value()}D[T]=q}return++this._totalResolved>=I&&(P!==null?this._filter(D,P):this._resolve(D),!0)},$.prototype._drainQueue=function(){for(var x=this._queue,T=this._limit,D=this._values;x.length>0&&this._inFlight<T;){if(this._isResolved())return;var I=x.pop();this._promiseFulfilled(D[I],I)}},$.prototype._filter=function(x,T){for(var D=T.length,I=new Array(D),P=0,R=0;R<D;++R)x[R]&&(I[P++]=T[R]);I.length=P,this._resolve(I)},$.prototype.preservedValues=function(){return this._preservedValues},a.prototype.map=function(x,T){return w(this,x,T,null)},a.map=function(x,T,D,I){return w(x,T,D,I)}}},{"./util":36}],19:[function(t,n,o){n.exports=function(a,l,d,f,g){var p=t("./util"),m=p.tryCatch;a.method=function(y){if(typeof y!="function")throw new a.TypeError("expecting a function but got "+p.classString(y));return function(){var v=new a(l);v._captureStackTrace(),v._pushContext();var b=m(y).apply(this,arguments),k=v._popContext();return g.checkForgottenReturns(b,k,"Promise.method",v),v._resolveFromSyncValue(b),v}},a.attempt=a.try=function(y){if(typeof y!="function")return f("expecting a function but got "+p.classString(y));var v,b=new a(l);if(b._captureStackTrace(),b._pushContext(),arguments.length>1){g.deprecated("calling Promise.try with more than 1 argument");var k=arguments[1],$=arguments[2];v=p.isArray(k)?m(y).apply($,k):m(y).call($,k)}else v=m(y)();var w=b._popContext();return g.checkForgottenReturns(v,w,"Promise.try",b),b._resolveFromSyncValue(v),b},a.prototype._resolveFromSyncValue=function(y){y===p.errorObj?this._rejectCallback(y.e,!1):this._resolveCallback(y,!0)}}},{"./util":36}],20:[function(t,n,o){var a=t("./util"),l=a.maybeWrapAsError,d=t("./errors").OperationalError,f=t("./es5"),g=/^(?:name|message|stack|cause)$/;function p(m){var y;if(function($){return $ instanceof Error&&f.getPrototypeOf($)===Error.prototype}(m)){(y=new d(m)).name=m.name,y.message=m.message,y.stack=m.stack;for(var v=f.keys(m),b=0;b<v.length;++b){var k=v[b];g.test(k)||(y[k]=m[k])}return y}return a.markAsOriginatingFromRejection(m),m}n.exports=function(m,y){return function(v,b){if(m!==null){if(v){var k=p(l(v));m._attachExtraTrace(k),m._reject(k)}else if(y){var $=[].slice.call(arguments,1);m._fulfill($)}else m._fulfill(b);m=null}}}},{"./errors":12,"./es5":13,"./util":36}],21:[function(t,n,o){n.exports=function(a){var l=t("./util"),d=a._async,f=l.tryCatch,g=l.errorObj;function p(v,b){if(!l.isArray(v))return m.call(this,v,b);var k=f(b).apply(this._boundValue(),[null].concat(v));k===g&&d.throwLater(k.e)}function m(v,b){var k=this._boundValue(),$=v===void 0?f(b).call(k,null):f(b).call(k,null,v);$===g&&d.throwLater($.e)}function y(v,b){if(!v){var k=new Error(v+"");k.cause=v,v=k}var $=f(b).call(this._boundValue(),v);$===g&&d.throwLater($.e)}a.prototype.asCallback=a.prototype.nodeify=function(v,b){if(typeof v=="function"){var k=m;b!==void 0&&Object(b).spread&&(k=p),this._then(k,y,void 0,this,v)}return this}}},{"./util":36}],22:[function(t,n,o){n.exports=function(){var a=function(){return new $(`circular promise resolution chain

    See http://goo.gl/MqrFmX
`)},l=function(){return new O.PromiseInspection(this._target())},d=function(z){return O.reject(new $(z))};function f(){}var g,p={},m=t("./util");g=m.isNode?function(){var z=_.domain;return z===void 0&&(z=null),z}:function(){return null},m.notEnumerableProp(O,"_getDomain",g);var y=t("./es5"),v=t("./async"),b=new v;y.defineProperty(O,"_async",{value:b});var k=t("./errors"),$=O.TypeError=k.TypeError;O.RangeError=k.RangeError;var w=O.CancellationError=k.CancellationError;O.TimeoutError=k.TimeoutError,O.OperationalError=k.OperationalError,O.RejectionError=k.OperationalError,O.AggregateError=k.AggregateError;var x=function(){},T={},D={},I=t("./thenables")(O,x),P=t("./promise_array")(O,x,I,d,f),R=t("./context")(O),H=R.create,F=t("./debuggability")(O,R),Y=(F.CapturedTrace,t("./finally")(O,I,D)),q=t("./catch_filter")(D),L=t("./nodeback"),N=m.errorObj,G=m.tryCatch;function O(z){z!==x&&function(S,C){if(S==null||S.constructor!==O)throw new $(`the promise constructor cannot be invoked directly

    See http://goo.gl/MqrFmX
`);if(typeof C!="function")throw new $("expecting a function but got "+m.classString(C))}(this,z),this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,this._resolveFromExecutor(z),this._promiseCreated(),this._fireEvent("promiseCreated",this)}function V(z){this.promise._resolveCallback(z)}function K(z){this.promise._rejectCallback(z,!1)}function J(z){var S=new O(x);S._fulfillmentHandler0=z,S._rejectionHandler0=z,S._promise0=z,S._receiver0=z}return O.prototype.toString=function(){return"[object Promise]"},O.prototype.caught=O.prototype.catch=function(z){var S=arguments.length;if(S>1){var C,M=new Array(S-1),j=0;for(C=0;C<S-1;++C){var B=arguments[C];if(!m.isObject(B))return d("Catch statement predicate: expecting an object but got "+m.classString(B));M[j++]=B}return M.length=j,z=arguments[C],this.then(void 0,q(M,z,this))}return this.then(void 0,z)},O.prototype.reflect=function(){return this._then(l,l,void 0,this,void 0)},O.prototype.then=function(z,S){if(F.warnings()&&arguments.length>0&&typeof z!="function"&&typeof S!="function"){var C=".then() only accepts functions but was passed: "+m.classString(z);arguments.length>1&&(C+=", "+m.classString(S)),this._warn(C)}return this._then(z,S,void 0,void 0,void 0)},O.prototype.done=function(z,S){this._then(z,S,void 0,void 0,void 0)._setIsFinal()},O.prototype.spread=function(z){return typeof z!="function"?d("expecting a function but got "+m.classString(z)):this.all()._then(z,void 0,void 0,T,void 0)},O.prototype.toJSON=function(){var z={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(z.fulfillmentValue=this.value(),z.isFulfilled=!0):this.isRejected()&&(z.rejectionReason=this.reason(),z.isRejected=!0),z},O.prototype.all=function(){return arguments.length>0&&this._warn(".all() was passed arguments but it does not take any"),new P(this).promise()},O.prototype.error=function(z){return this.caught(m.originatesFromRejection,z)},O.getNewLibraryCopy=n.exports,O.is=function(z){return z instanceof O},O.fromNode=O.fromCallback=function(z){var S=new O(x);S._captureStackTrace();var C=arguments.length>1&&!!Object(arguments[1]).multiArgs,M=G(z)(L(S,C));return M===N&&S._rejectCallback(M.e,!0),S._isFateSealed()||S._setAsyncGuaranteed(),S},O.all=function(z){return new P(z).promise()},O.cast=function(z){var S=I(z);return S instanceof O||((S=new O(x))._captureStackTrace(),S._setFulfilled(),S._rejectionHandler0=z),S},O.resolve=O.fulfilled=O.cast,O.reject=O.rejected=function(z){var S=new O(x);return S._captureStackTrace(),S._rejectCallback(z,!0),S},O.setScheduler=function(z){if(typeof z!="function")throw new $("expecting a function but got "+m.classString(z));return b.setScheduler(z)},O.prototype._then=function(z,S,C,M,j){var B=j!==void 0,U=B?j:new O(x),Z=this._target(),W=Z._bitField;B||(U._propagateFrom(this,3),U._captureStackTrace(),M===void 0&&2097152&this._bitField&&(M=50397184&W?this._boundValue():Z===this?void 0:this._boundTo),this._fireEvent("promiseChained",this,U));var tt=g();if(50397184&W){var rt,et,ot=Z._settlePromiseCtx;33554432&W?(et=Z._rejectionHandler0,rt=z):16777216&W?(et=Z._fulfillmentHandler0,rt=S,Z._unsetRejectionIsUnhandled()):(ot=Z._settlePromiseLateCancellationObserver,et=new w("late cancellation observer"),Z._attachExtraTrace(et),rt=S),b.invoke(ot,Z,{handler:tt===null?rt:typeof rt=="function"&&m.domainBind(tt,rt),promise:U,receiver:M,value:et})}else Z._addCallbacks(z,S,U,M,tt);return U},O.prototype._length=function(){return 65535&this._bitField},O.prototype._isFateSealed=function(){return(117506048&this._bitField)!=0},O.prototype._isFollowing=function(){return(67108864&this._bitField)==67108864},O.prototype._setLength=function(z){this._bitField=-65536&this._bitField|65535&z},O.prototype._setFulfilled=function(){this._bitField=33554432|this._bitField,this._fireEvent("promiseFulfilled",this)},O.prototype._setRejected=function(){this._bitField=16777216|this._bitField,this._fireEvent("promiseRejected",this)},O.prototype._setFollowing=function(){this._bitField=67108864|this._bitField,this._fireEvent("promiseResolved",this)},O.prototype._setIsFinal=function(){this._bitField=4194304|this._bitField},O.prototype._isFinal=function(){return(4194304&this._bitField)>0},O.prototype._unsetCancelled=function(){this._bitField=-65537&this._bitField},O.prototype._setCancelled=function(){this._bitField=65536|this._bitField,this._fireEvent("promiseCancelled",this)},O.prototype._setWillBeCancelled=function(){this._bitField=8388608|this._bitField},O.prototype._setAsyncGuaranteed=function(){b.hasCustomScheduler()||(this._bitField=134217728|this._bitField)},O.prototype._receiverAt=function(z){var S=z===0?this._receiver0:this[4*z-4+3];if(S!==p)return S===void 0&&this._isBound()?this._boundValue():S},O.prototype._promiseAt=function(z){return this[4*z-4+2]},O.prototype._fulfillmentHandlerAt=function(z){return this[4*z-4+0]},O.prototype._rejectionHandlerAt=function(z){return this[4*z-4+1]},O.prototype._boundValue=function(){},O.prototype._migrateCallback0=function(z){z._bitField;var S=z._fulfillmentHandler0,C=z._rejectionHandler0,M=z._promise0,j=z._receiverAt(0);j===void 0&&(j=p),this._addCallbacks(S,C,M,j,null)},O.prototype._migrateCallbackAt=function(z,S){var C=z._fulfillmentHandlerAt(S),M=z._rejectionHandlerAt(S),j=z._promiseAt(S),B=z._receiverAt(S);B===void 0&&(B=p),this._addCallbacks(C,M,j,B,null)},O.prototype._addCallbacks=function(z,S,C,M,j){var B=this._length();if(B>=65531&&(B=0,this._setLength(0)),B===0)this._promise0=C,this._receiver0=M,typeof z=="function"&&(this._fulfillmentHandler0=j===null?z:m.domainBind(j,z)),typeof S=="function"&&(this._rejectionHandler0=j===null?S:m.domainBind(j,S));else{var U=4*B-4;this[U+2]=C,this[U+3]=M,typeof z=="function"&&(this[U+0]=j===null?z:m.domainBind(j,z)),typeof S=="function"&&(this[U+1]=j===null?S:m.domainBind(j,S))}return this._setLength(B+1),B},O.prototype._proxy=function(z,S){this._addCallbacks(void 0,void 0,S,z,null)},O.prototype._resolveCallback=function(z,S){if(!(117506048&this._bitField)){if(z===this)return this._rejectCallback(a(),!1);var C=I(z,this);if(!(C instanceof O))return this._fulfill(z);S&&this._propagateFrom(C,2);var M=C._target();if(M!==this){var j=M._bitField;if(50397184&j)if(33554432&j)this._fulfill(M._value());else if(16777216&j)this._reject(M._reason());else{var Z=new w("late cancellation observer");M._attachExtraTrace(Z),this._reject(Z)}else{var B=this._length();B>0&&M._migrateCallback0(this);for(var U=1;U<B;++U)M._migrateCallbackAt(this,U);this._setFollowing(),this._setLength(0),this._setFollowee(M)}}else this._reject(a())}},O.prototype._rejectCallback=function(z,S,C){var M=m.ensureErrorObject(z),j=M===z;if(!j&&!C&&F.warnings()){var B="a promise was rejected with a non-error: "+m.classString(z);this._warn(B,!0)}this._attachExtraTrace(M,!!S&&j),this._reject(z)},O.prototype._resolveFromExecutor=function(z){if(z!==x){var S=this;this._captureStackTrace(),this._pushContext();var C=!0,M=this._execute(z,function(j){S._resolveCallback(j)},function(j){S._rejectCallback(j,C)});C=!1,this._popContext(),M!==void 0&&S._rejectCallback(M,!0)}},O.prototype._settlePromiseFromHandler=function(z,S,C,M){var j=M._bitField;if(!(65536&j)){var B;M._pushContext(),S===T?C&&typeof C.length=="number"?B=G(z).apply(this._boundValue(),C):(B=N).e=new $("cannot .spread() a non-array: "+m.classString(C)):B=G(z).call(S,C);var U=M._popContext();!(65536&(j=M._bitField))&&(B===D?M._reject(C):B===N?M._rejectCallback(B.e,!1):(F.checkForgottenReturns(B,U,"",M,this),M._resolveCallback(B)))}},O.prototype._target=function(){for(var z=this;z._isFollowing();)z=z._followee();return z},O.prototype._followee=function(){return this._rejectionHandler0},O.prototype._setFollowee=function(z){this._rejectionHandler0=z},O.prototype._settlePromise=function(z,S,C,M){var j=z instanceof O,B=this._bitField,U=(134217728&B)!=0;65536&B?(j&&z._invokeInternalOnCancel(),C instanceof Y&&C.isFinallyHandler()?(C.cancelPromise=z,G(S).call(C,M)===N&&z._reject(N.e)):S===l?z._fulfill(l.call(C)):C instanceof f?C._promiseCancelled(z):j||z instanceof P?z._cancel():C.cancel()):typeof S=="function"?j?(U&&z._setAsyncGuaranteed(),this._settlePromiseFromHandler(S,C,M,z)):S.call(C,M,z):C instanceof f?C._isResolved()||(33554432&B?C._promiseFulfilled(M,z):C._promiseRejected(M,z)):j&&(U&&z._setAsyncGuaranteed(),33554432&B?z._fulfill(M):z._reject(M))},O.prototype._settlePromiseLateCancellationObserver=function(z){var S=z.handler,C=z.promise,M=z.receiver,j=z.value;typeof S=="function"?C instanceof O?this._settlePromiseFromHandler(S,M,j,C):S.call(M,j,C):C instanceof O&&C._reject(j)},O.prototype._settlePromiseCtx=function(z){this._settlePromise(z.promise,z.handler,z.receiver,z.value)},O.prototype._settlePromise0=function(z,S,C){var M=this._promise0,j=this._receiverAt(0);this._promise0=void 0,this._receiver0=void 0,this._settlePromise(M,z,j,S)},O.prototype._clearCallbackDataAtIndex=function(z){var S=4*z-4;this[S+2]=this[S+3]=this[S+0]=this[S+1]=void 0},O.prototype._fulfill=function(z){var S=this._bitField;if(!((117506048&S)>>>16)){if(z===this){var C=a();return this._attachExtraTrace(C),this._reject(C)}this._setFulfilled(),this._rejectionHandler0=z,(65535&S)>0&&(134217728&S?this._settlePromises():b.settlePromises(this),this._dereferenceTrace())}},O.prototype._reject=function(z){var S=this._bitField;if(!((117506048&S)>>>16)){if(this._setRejected(),this._fulfillmentHandler0=z,this._isFinal())return b.fatalError(z,m.isNode);(65535&S)>0?b.settlePromises(this):this._ensurePossibleRejectionHandled()}},O.prototype._fulfillPromises=function(z,S){for(var C=1;C<z;C++){var M=this._fulfillmentHandlerAt(C),j=this._promiseAt(C),B=this._receiverAt(C);this._clearCallbackDataAtIndex(C),this._settlePromise(j,M,B,S)}},O.prototype._rejectPromises=function(z,S){for(var C=1;C<z;C++){var M=this._rejectionHandlerAt(C),j=this._promiseAt(C),B=this._receiverAt(C);this._clearCallbackDataAtIndex(C),this._settlePromise(j,M,B,S)}},O.prototype._settlePromises=function(){var z=this._bitField,S=65535&z;if(S>0){if(16842752&z){var C=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,C,z),this._rejectPromises(S,C)}else{var M=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,M,z),this._fulfillPromises(S,M)}this._setLength(0)}this._clearCancellationData()},O.prototype._settledValue=function(){var z=this._bitField;return 33554432&z?this._rejectionHandler0:16777216&z?this._fulfillmentHandler0:void 0},O.defer=O.pending=function(){return F.deprecated("Promise.defer","new Promise"),{promise:new O(x),resolve:V,reject:K}},m.notEnumerableProp(O,"_makeSelfResolutionError",a),t("./method")(O,x,I,d,F),t("./bind")(O,x,I,F),t("./cancel")(O,P,d,F),t("./direct_resolve")(O),t("./synchronous_inspection")(O),t("./join")(O,P,I,x,b,g),O.Promise=O,O.version="3.5.4",t("./map.js")(O,P,d,I,x,F),t("./call_get.js")(O),t("./using.js")(O,d,I,H,x,F),t("./timers.js")(O,x,F),t("./generators.js")(O,d,x,I,f,F),t("./nodeify.js")(O),t("./promisify.js")(O,x),t("./props.js")(O,P,I,d),t("./race.js")(O,x,I,d),t("./reduce.js")(O,P,d,I,x,F),t("./settle.js")(O,P,F),t("./some.js")(O,P,d),t("./filter.js")(O,x),t("./each.js")(O,x),t("./any.js")(O),m.toFastProperties(O),m.toFastProperties(O.prototype),J({a:1}),J({b:2}),J({c:3}),J(1),J(function(){}),J(void 0),J(!1),J(new O(x)),F.setBounds(v.firstLineError,m.lastLineError),O}},{"./any.js":1,"./async":2,"./bind":3,"./call_get.js":5,"./cancel":6,"./catch_filter":7,"./context":8,"./debuggability":9,"./direct_resolve":10,"./each.js":11,"./errors":12,"./es5":13,"./filter.js":14,"./finally":15,"./generators.js":16,"./join":17,"./map.js":18,"./method":19,"./nodeback":20,"./nodeify.js":21,"./promise_array":23,"./promisify.js":24,"./props.js":25,"./race.js":27,"./reduce.js":28,"./settle.js":30,"./some.js":31,"./synchronous_inspection":32,"./thenables":33,"./timers.js":34,"./using.js":35,"./util":36}],23:[function(t,n,o){n.exports=function(a,l,d,f,g){var p=t("./util");p.isArray;function m(y){var v=this._promise=new a(l);y instanceof a&&v._propagateFrom(y,3),v._setOnCancel(this),this._values=y,this._length=0,this._totalResolved=0,this._init(void 0,-2)}return p.inherits(m,g),m.prototype.length=function(){return this._length},m.prototype.promise=function(){return this._promise},m.prototype._init=function y(v,b){var k=d(this._values,this._promise);if(k instanceof a){var $=(k=k._target())._bitField;if(this._values=k,(50397184&$)==0)return this._promise._setAsyncGuaranteed(),k._then(y,this._reject,void 0,this,b);if(!(33554432&$))return 16777216&$?this._reject(k._reason()):this._cancel();k=k._value()}if((k=p.asArray(k))!==null)k.length!==0?this._iterate(k):b===-5?this._resolveEmptyArray():this._resolve(function(x){switch(x){case-2:return[];case-3:return{};case-6:return new Map}}(b));else{var w=f("expecting an array or an iterable object but got "+p.classString(k)).reason();this._promise._rejectCallback(w,!1)}},m.prototype._iterate=function(y){var v=this.getActualLength(y.length);this._length=v,this._values=this.shouldCopyValues()?new Array(v):this._values;for(var b=this._promise,k=!1,$=null,w=0;w<v;++w){var x=d(y[w],b);$=x instanceof a?(x=x._target())._bitField:null,k?$!==null&&x.suppressUnhandledRejections():$!==null?50397184&$?k=33554432&$?this._promiseFulfilled(x._value(),w):16777216&$?this._promiseRejected(x._reason(),w):this._promiseCancelled(w):(x._proxy(this,w),this._values[w]=x):k=this._promiseFulfilled(x,w)}k||b._setAsyncGuaranteed()},m.prototype._isResolved=function(){return this._values===null},m.prototype._resolve=function(y){this._values=null,this._promise._fulfill(y)},m.prototype._cancel=function(){!this._isResolved()&&this._promise._isCancellable()&&(this._values=null,this._promise._cancel())},m.prototype._reject=function(y){this._values=null,this._promise._rejectCallback(y,!1)},m.prototype._promiseFulfilled=function(y,v){return this._values[v]=y,++this._totalResolved>=this._length&&(this._resolve(this._values),!0)},m.prototype._promiseCancelled=function(){return this._cancel(),!0},m.prototype._promiseRejected=function(y){return this._totalResolved++,this._reject(y),!0},m.prototype._resultCancelled=function(){if(!this._isResolved()){var y=this._values;if(this._cancel(),y instanceof a)y.cancel();else for(var v=0;v<y.length;++v)y[v]instanceof a&&y[v].cancel()}},m.prototype.shouldCopyValues=function(){return!0},m.prototype.getActualLength=function(y){return y},m}},{"./util":36}],24:[function(t,n,o){n.exports=function(a,l){var d={},f=t("./util"),g=t("./nodeback"),p=f.withAppended,m=f.maybeWrapAsError,y=f.canEvaluate,v=t("./errors").TypeError,b={__isPromisified__:!0},k=new RegExp("^(?:"+["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"].join("|")+")$"),$=function(H){return f.isIdentifier(H)&&H.charAt(0)!=="_"&&H!=="constructor"};function w(H){return!k.test(H)}function x(H){try{return H.__isPromisified__===!0}catch{return!1}}function T(H,F,Y){var q=f.getDataPropertyOrDefault(H,F+Y,b);return!!q&&x(q)}function D(H,F,Y,q){for(var L=f.inheritedDataKeys(H),N=[],G=0;G<L.length;++G){var O=L[G],V=H[O],K=q===$||$(O);typeof V!="function"||x(V)||T(H,O,F)||!q(O,V,H,K)||N.push(O,V)}return function(J,z,S){for(var C=0;C<J.length;C+=2){var M=J[C];if(S.test(M)){for(var j=M.replace(S,""),B=0;B<J.length;B+=2)if(J[B]===j)throw new v(`Cannot promisify an API that has normal methods with '%s'-suffix

    See http://goo.gl/MqrFmX
`.replace("%s",z))}}}(N,F,Y),N}var I=function(H){return H.replace(/([$])/,"\\$")},P=y?void 0:function(H,F,Y,q,L,N){var G=function(){return this}(),O=H;function V(){var K=F;F===d&&(K=this);var J=new a(l);J._captureStackTrace();var z=typeof O=="string"&&this!==G?this[O]:H,S=g(J,N);try{z.apply(K,p(arguments,S))}catch(C){J._rejectCallback(m(C),!0,!0)}return J._isFateSealed()||J._setAsyncGuaranteed(),J}return typeof O=="string"&&(H=q),f.notEnumerableProp(V,"__isPromisified__",!0),V};function R(H,F,Y,q,L){for(var N=new RegExp(I(F)+"$"),G=D(H,F,N,Y),O=0,V=G.length;O<V;O+=2){var K=G[O],J=G[O+1],z=K+F;if(q===P)H[z]=P(K,d,K,J,F,L);else{var S=q(J,function(){return P(K,d,K,J,F,L)});f.notEnumerableProp(S,"__isPromisified__",!0),H[z]=S}}return f.toFastProperties(H),H}a.promisify=function(H,F){if(typeof H!="function")throw new v("expecting a function but got "+f.classString(H));if(x(H))return H;var Y=function(q,L,N){return P(q,L,void 0,q,null,N)}(H,(F=Object(F)).context===void 0?d:F.context,!!F.multiArgs);return f.copyDescriptors(H,Y,w),Y},a.promisifyAll=function(H,F){if(typeof H!="function"&&e(H)!=="object")throw new v(`the target of promisifyAll must be an object or a function

    See http://goo.gl/MqrFmX
`);var Y=!!(F=Object(F)).multiArgs,q=F.suffix;typeof q!="string"&&(q="Async");var L=F.filter;typeof L!="function"&&(L=$);var N=F.promisifier;if(typeof N!="function"&&(N=P),!f.isIdentifier(q))throw new RangeError(`suffix must be a valid identifier

    See http://goo.gl/MqrFmX
`);for(var G=f.inheritedDataKeys(H),O=0;O<G.length;++O){var V=H[G[O]];G[O]!=="constructor"&&f.isClass(V)&&(R(V.prototype,q,L,N,Y),R(V,q,L,N,Y))}return R(H,q,L,N,Y)}}},{"./errors":12,"./nodeback":20,"./util":36}],25:[function(t,n,o){n.exports=function(a,l,d,f){var g,p=t("./util"),m=p.isObject,y=t("./es5");typeof Map=="function"&&(g=Map);var v=function(){var $=0,w=0;function x(T,D){this[$]=T,this[$+w]=D,$++}return function(T){w=T.size,$=0;var D=new Array(2*T.size);return T.forEach(x,D),D}}();function b($){var w,x=!1;if(g!==void 0&&$ instanceof g)w=v($),x=!0;else{var T=y.keys($),D=T.length;w=new Array(2*D);for(var I=0;I<D;++I){var P=T[I];w[I]=$[P],w[I+D]=P}}this.constructor$(w),this._isMap=x,this._init$(void 0,x?-6:-3)}function k($){var w,x=d($);return m(x)?(w=x instanceof a?x._then(a.props,void 0,void 0,void 0,void 0):new b(x).promise(),x instanceof a&&w._propagateFrom(x,2),w):f(`cannot await properties of a non-object

    See http://goo.gl/MqrFmX
`)}p.inherits(b,l),b.prototype._init=function(){},b.prototype._promiseFulfilled=function($,w){if(this._values[w]=$,++this._totalResolved>=this._length){var x;if(this._isMap)x=function(P){for(var R=new g,H=P.length/2|0,F=0;F<H;++F){var Y=P[H+F],q=P[F];R.set(Y,q)}return R}(this._values);else{x={};for(var T=this.length(),D=0,I=this.length();D<I;++D)x[this._values[D+T]]=this._values[D]}return this._resolve(x),!0}return!1},b.prototype.shouldCopyValues=function(){return!1},b.prototype.getActualLength=function($){return $>>1},a.prototype.props=function(){return k(this)},a.props=function($){return k($)}}},{"./es5":13,"./util":36}],26:[function(t,n,o){function a(l){this._capacity=l,this._length=0,this._front=0}a.prototype._willBeOverCapacity=function(l){return this._capacity<l},a.prototype._pushOne=function(l){var d=this.length();this._checkCapacity(d+1),this[this._front+d&this._capacity-1]=l,this._length=d+1},a.prototype.push=function(l,d,f){var g=this.length()+3;if(this._willBeOverCapacity(g))return this._pushOne(l),this._pushOne(d),void this._pushOne(f);var p=this._front+g-3;this._checkCapacity(g);var m=this._capacity-1;this[p+0&m]=l,this[p+1&m]=d,this[p+2&m]=f,this._length=g},a.prototype.shift=function(){var l=this._front,d=this[l];return this[l]=void 0,this._front=l+1&this._capacity-1,this._length--,d},a.prototype.length=function(){return this._length},a.prototype._checkCapacity=function(l){this._capacity<l&&this._resizeTo(this._capacity<<1)},a.prototype._resizeTo=function(l){var d=this._capacity;this._capacity=l,function(f,g,p,m,y){for(var v=0;v<y;++v)p[v+m]=f[v+g],f[v+g]=void 0}(this,0,this,d,this._front+this._length&d-1)},n.exports=a},{}],27:[function(t,n,o){n.exports=function(a,l,d,f){var g=t("./util"),p=function(y){return y.then(function(v){return m(v,y)})};function m(y,v){var b=d(y);if(b instanceof a)return p(b);if((y=g.asArray(y))===null)return f("expecting an array or an iterable object but got "+g.classString(y));var k=new a(l);v!==void 0&&k._propagateFrom(v,3);for(var $=k._fulfill,w=k._reject,x=0,T=y.length;x<T;++x){var D=y[x];(D!==void 0||x in y)&&a.cast(D)._then($,w,void 0,k,null)}return k}a.race=function(y){return m(y,void 0)},a.prototype.race=function(){return m(this,void 0)}}},{"./util":36}],28:[function(t,n,o){n.exports=function(a,l,d,f,g,p){var m=a._getDomain,y=t("./util"),v=y.tryCatch;function b(T,D,I,P){this.constructor$(T);var R=m();this._fn=R===null?D:y.domainBind(R,D),I!==void 0&&(I=a.resolve(I))._attachCancellationCallback(this),this._initialValue=I,this._currentCancellable=null,this._eachValues=P===g?Array(this._length):P===0?null:void 0,this._promise._captureStackTrace(),this._init$(void 0,-5)}function k(T,D){this.isFulfilled()?D._resolve(T):D._reject(T)}function $(T,D,I,P){return typeof D!="function"?d("expecting a function but got "+y.classString(D)):new b(T,D,I,P).promise()}function w(T){this.accum=T,this.array._gotAccum(T);var D=f(this.value,this.array._promise);return D instanceof a?(this.array._currentCancellable=D,D._then(x,void 0,void 0,this,void 0)):x.call(this,D)}function x(T){var D,I=this.array,P=I._promise,R=v(I._fn);P._pushContext(),(D=I._eachValues!==void 0?R.call(P._boundValue(),T,this.index,this.length):R.call(P._boundValue(),this.accum,T,this.index,this.length))instanceof a&&(I._currentCancellable=D);var H=P._popContext();return p.checkForgottenReturns(D,H,I._eachValues!==void 0?"Promise.each":"Promise.reduce",P),D}y.inherits(b,l),b.prototype._gotAccum=function(T){this._eachValues!==void 0&&this._eachValues!==null&&T!==g&&this._eachValues.push(T)},b.prototype._eachComplete=function(T){return this._eachValues!==null&&this._eachValues.push(T),this._eachValues},b.prototype._init=function(){},b.prototype._resolveEmptyArray=function(){this._resolve(this._eachValues!==void 0?this._eachValues:this._initialValue)},b.prototype.shouldCopyValues=function(){return!1},b.prototype._resolve=function(T){this._promise._resolveCallback(T),this._values=null},b.prototype._resultCancelled=function(T){if(T===this._initialValue)return this._cancel();this._isResolved()||(this._resultCancelled$(),this._currentCancellable instanceof a&&this._currentCancellable.cancel(),this._initialValue instanceof a&&this._initialValue.cancel())},b.prototype._iterate=function(T){var D,I;this._values=T;var P=T.length;if(this._initialValue!==void 0?(D=this._initialValue,I=0):(D=a.resolve(T[0]),I=1),this._currentCancellable=D,!D.isRejected())for(;I<P;++I){var R={accum:null,value:T[I],index:I,length:P,array:this};D=D._then(w,void 0,void 0,R,void 0)}this._eachValues!==void 0&&(D=D._then(this._eachComplete,void 0,void 0,this,void 0)),D._then(k,k,void 0,D,this)},a.prototype.reduce=function(T,D){return $(this,T,D,null)},a.reduce=function(T,D,I,P){return $(T,D,I,P)}}},{"./util":36}],29:[function(t,n,o){var a,l=t("./util"),d=l.getNativePromise();if(l.isNode&&typeof MutationObserver>"u"){var f=u.setImmediate,g=_.nextTick;a=l.isRecentNode?function(m){f.call(u,m)}:function(m){g.call(_,m)}}else if(typeof d=="function"&&typeof d.resolve=="function"){var p=d.resolve();a=function(m){p.then(m)}}else a=typeof MutationObserver>"u"||typeof window<"u"&&window.navigator&&(window.navigator.standalone||window.cordova)?s!==void 0?function(m){s(m)}:typeof setTimeout<"u"?function(m){setTimeout(m,0)}:function(){throw new Error(`No async scheduler available

    See http://goo.gl/MqrFmX
`)}:function(){var m=document.createElement("div"),y={attributes:!0},v=!1,b=document.createElement("div");return new MutationObserver(function(){m.classList.toggle("foo"),v=!1}).observe(b,y),function(k){var $=new MutationObserver(function(){$.disconnect(),k()});$.observe(m,y),v||(v=!0,b.classList.toggle("foo"))}}();n.exports=a},{"./util":36}],30:[function(t,n,o){n.exports=function(a,l,d){var f=a.PromiseInspection;function g(p){this.constructor$(p)}t("./util").inherits(g,l),g.prototype._promiseResolved=function(p,m){return this._values[p]=m,++this._totalResolved>=this._length&&(this._resolve(this._values),!0)},g.prototype._promiseFulfilled=function(p,m){var y=new f;return y._bitField=33554432,y._settledValueField=p,this._promiseResolved(m,y)},g.prototype._promiseRejected=function(p,m){var y=new f;return y._bitField=16777216,y._settledValueField=p,this._promiseResolved(m,y)},a.settle=function(p){return d.deprecated(".settle()",".reflect()"),new g(p).promise()},a.prototype.settle=function(){return a.settle(this)}}},{"./util":36}],31:[function(t,n,o){n.exports=function(a,l,d){var f=t("./util"),g=t("./errors").RangeError,p=t("./errors").AggregateError,m=f.isArray,y={};function v(k){this.constructor$(k),this._howMany=0,this._unwrap=!1,this._initialized=!1}function b(k,$){if((0|$)!==$||$<0)return d(`expecting a positive integer

    See http://goo.gl/MqrFmX
`);var w=new v(k),x=w.promise();return w.setHowMany($),w.init(),x}f.inherits(v,l),v.prototype._init=function(){if(this._initialized)if(this._howMany!==0){this._init$(void 0,-5);var k=m(this._values);!this._isResolved()&&k&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}else this._resolve([])},v.prototype.init=function(){this._initialized=!0,this._init()},v.prototype.setUnwrap=function(){this._unwrap=!0},v.prototype.howMany=function(){return this._howMany},v.prototype.setHowMany=function(k){this._howMany=k},v.prototype._promiseFulfilled=function(k){return this._addFulfilled(k),this._fulfilled()===this.howMany()&&(this._values.length=this.howMany(),this.howMany()===1&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values),!0)},v.prototype._promiseRejected=function(k){return this._addRejected(k),this._checkOutcome()},v.prototype._promiseCancelled=function(){return this._values instanceof a||this._values==null?this._cancel():(this._addRejected(y),this._checkOutcome())},v.prototype._checkOutcome=function(){if(this.howMany()>this._canPossiblyFulfill()){for(var k=new p,$=this.length();$<this._values.length;++$)this._values[$]!==y&&k.push(this._values[$]);return k.length>0?this._reject(k):this._cancel(),!0}return!1},v.prototype._fulfilled=function(){return this._totalResolved},v.prototype._rejected=function(){return this._values.length-this.length()},v.prototype._addRejected=function(k){this._values.push(k)},v.prototype._addFulfilled=function(k){this._values[this._totalResolved++]=k},v.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},v.prototype._getRangeError=function(k){var $="Input array must contain at least "+this._howMany+" items but contains only "+k+" items";return new g($)},v.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))},a.some=function(k,$){return b(k,$)},a.prototype.some=function(k){return b(this,k)},a._SomePromiseArray=v}},{"./errors":12,"./util":36}],32:[function(t,n,o){n.exports=function(a){function l(v){v!==void 0?(v=v._target(),this._bitField=v._bitField,this._settledValueField=v._isFateSealed()?v._settledValue():void 0):(this._bitField=0,this._settledValueField=void 0)}l.prototype._settledValue=function(){return this._settledValueField};var d=l.prototype.value=function(){if(!this.isFulfilled())throw new TypeError(`cannot get fulfillment value of a non-fulfilled promise

    See http://goo.gl/MqrFmX
`);return this._settledValue()},f=l.prototype.error=l.prototype.reason=function(){if(!this.isRejected())throw new TypeError(`cannot get rejection reason of a non-rejected promise

    See http://goo.gl/MqrFmX
`);return this._settledValue()},g=l.prototype.isFulfilled=function(){return(33554432&this._bitField)!=0},p=l.prototype.isRejected=function(){return(16777216&this._bitField)!=0},m=l.prototype.isPending=function(){return(50397184&this._bitField)==0},y=l.prototype.isResolved=function(){return(50331648&this._bitField)!=0};l.prototype.isCancelled=function(){return(8454144&this._bitField)!=0},a.prototype.__isCancelled=function(){return(65536&this._bitField)==65536},a.prototype._isCancelled=function(){return this._target().__isCancelled()},a.prototype.isCancelled=function(){return(8454144&this._target()._bitField)!=0},a.prototype.isPending=function(){return m.call(this._target())},a.prototype.isRejected=function(){return p.call(this._target())},a.prototype.isFulfilled=function(){return g.call(this._target())},a.prototype.isResolved=function(){return y.call(this._target())},a.prototype.value=function(){return d.call(this._target())},a.prototype.reason=function(){var v=this._target();return v._unsetRejectionIsUnhandled(),f.call(v)},a.prototype._value=function(){return this._settledValue()},a.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},a.PromiseInspection=l}},{}],33:[function(t,n,o){n.exports=function(a,l){var d=t("./util"),f=d.errorObj,g=d.isObject,p={}.hasOwnProperty;return function(m,y){if(g(m)){if(m instanceof a)return m;var v=function(k){try{return function($){return $.then}(k)}catch($){return f.e=$,f}}(m);if(v===f){y&&y._pushContext();var b=a.reject(v.e);return y&&y._popContext(),b}if(typeof v=="function")return function(k){try{return p.call(k,"_promise0")}catch{return!1}}(m)?(b=new a(l),m._then(b._fulfill,b._reject,void 0,b,null),b):function(k,$,w){var x=new a(l),T=x;w&&w._pushContext(),x._captureStackTrace(),w&&w._popContext();var D=!0,I=d.tryCatch($).call(k,function(P){x&&(x._resolveCallback(P),x=null)},function(P){x&&(x._rejectCallback(P,D,!0),x=null)});return D=!1,x&&I===f&&(x._rejectCallback(I.e,!0,!0),x=null),T}(m,v,y)}return m}}},{"./util":36}],34:[function(t,n,o){n.exports=function(a,l,d){var f=t("./util"),g=a.TimeoutError;function p(k){this.handle=k}p.prototype._resultCancelled=function(){clearTimeout(this.handle)};var m=function(k){return y(+this).thenReturn(k)},y=a.delay=function(k,$){var w,x;return $!==void 0?(w=a.resolve($)._then(m,null,null,k,void 0),d.cancellation()&&$ instanceof a&&w._setOnCancel($)):(w=new a(l),x=setTimeout(function(){w._fulfill()},+k),d.cancellation()&&w._setOnCancel(new p(x)),w._captureStackTrace()),w._setAsyncGuaranteed(),w};a.prototype.delay=function(k){return y(k,this)};function v(k){return clearTimeout(this.handle),k}function b(k){throw clearTimeout(this.handle),k}a.prototype.timeout=function(k,$){var w,x;k=+k;var T=new p(setTimeout(function(){w.isPending()&&function(D,I,P){var R;R=typeof I!="string"?I instanceof Error?I:new g("operation timed out"):new g(I),f.markAsOriginatingFromRejection(R),D._attachExtraTrace(R),D._reject(R),P!=null&&P.cancel()}(w,$,x)},k));return d.cancellation()?(x=this.then(),(w=x._then(v,b,void 0,T,void 0))._setOnCancel(T)):w=this._then(v,b,void 0,T,void 0),w}}},{"./util":36}],35:[function(t,n,o){n.exports=function(a,l,d,f,g,p){var m=t("./util"),y=t("./errors").TypeError,v=t("./util").inherits,b=m.errorObj,k=m.tryCatch,$={};function w(R){setTimeout(function(){throw R},0)}function x(R,H){var F=0,Y=R.length,q=new a(g);return function L(){if(F>=Y)return q._fulfill();var N=function(G){var O=d(G);return O!==G&&typeof G._isDisposable=="function"&&typeof G._getDisposer=="function"&&G._isDisposable()&&O._setDisposable(G._getDisposer()),O}(R[F++]);if(N instanceof a&&N._isDisposable()){try{N=d(N._getDisposer().tryDispose(H),R.promise)}catch(G){return w(G)}if(N instanceof a)return N._then(L,w,null,null,null)}L()}(),q}function T(R,H,F){this._data=R,this._promise=H,this._context=F}function D(R,H,F){this.constructor$(R,H,F)}function I(R){return T.isDisposer(R)?(this.resources[this.index]._setDisposable(R),R.promise()):R}function P(R){this.length=R,this.promise=null,this[R-1]=null}T.prototype.data=function(){return this._data},T.prototype.promise=function(){return this._promise},T.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():$},T.prototype.tryDispose=function(R){var H=this.resource(),F=this._context;F!==void 0&&F._pushContext();var Y=H!==$?this.doDispose(H,R):null;return F!==void 0&&F._popContext(),this._promise._unsetDisposable(),this._data=null,Y},T.isDisposer=function(R){return R!=null&&typeof R.resource=="function"&&typeof R.tryDispose=="function"},v(D,T),D.prototype.doDispose=function(R,H){return this.data().call(R,R,H)},P.prototype._resultCancelled=function(){for(var R=this.length,H=0;H<R;++H){var F=this[H];F instanceof a&&F.cancel()}},a.using=function(){var R=arguments.length;if(R<2)return l("you must pass at least 2 arguments to Promise.using");var H,F=arguments[R-1];if(typeof F!="function")return l("expecting a function but got "+m.classString(F));var Y=!0;R===2&&Array.isArray(arguments[0])?(R=(H=arguments[0]).length,Y=!1):(H=arguments,R--);for(var q=new P(R),L=0;L<R;++L){var N=H[L];if(T.isDisposer(N)){var G=N;(N=N.promise())._setDisposable(G)}else{var O=d(N);O instanceof a&&(N=O._then(I,null,null,{resources:q,index:L},void 0))}q[L]=N}var V=new Array(q.length);for(L=0;L<V.length;++L)V[L]=a.resolve(q[L]).reflect();var K=a.all(V).then(function(z){for(var S=0;S<z.length;++S){var C=z[S];if(C.isRejected())return b.e=C.error(),b;if(!C.isFulfilled())return void K.cancel();z[S]=C.value()}J._pushContext(),F=k(F);var M=Y?F.apply(void 0,z):F(z),j=J._popContext();return p.checkForgottenReturns(M,j,"Promise.using",J),M}),J=K.lastly(function(){var z=new a.PromiseInspection(K);return x(q,z)});return q.promise=J,J._setOnCancel(q),J},a.prototype._setDisposable=function(R){this._bitField=131072|this._bitField,this._disposer=R},a.prototype._isDisposable=function(){return(131072&this._bitField)>0},a.prototype._getDisposer=function(){return this._disposer},a.prototype._unsetDisposable=function(){this._bitField=-131073&this._bitField,this._disposer=void 0},a.prototype.disposer=function(R){if(typeof R=="function")return new D(R,this,f());throw new y}}},{"./errors":12,"./util":36}],36:[function(t,n,o){var a=t("./es5"),l=typeof navigator>"u",d={e:{}},f,g=typeof self<"u"?self:typeof window<"u"?window:u!==void 0?u:this!==void 0?this:null;function p(){try{var W=f;return f=null,W.apply(this,arguments)}catch(tt){return d.e=tt,d}}function m(W){return f=W,p}var y=function(W,tt){var rt={}.hasOwnProperty;function et(){for(var ot in this.constructor=W,this.constructor$=tt,tt.prototype)rt.call(tt.prototype,ot)&&ot.charAt(ot.length-1)!=="$"&&(this[ot+"$"]=tt.prototype[ot])}return et.prototype=tt.prototype,W.prototype=new et,W.prototype};function v(W){return W==null||W===!0||W===!1||typeof W=="string"||typeof W=="number"}function b(W){return typeof W=="function"||e(W)==="object"&&W!==null}function k(W){return v(W)?new Error(q(W)):W}function $(W,tt){var rt,et=W.length,ot=new Array(et+1);for(rt=0;rt<et;++rt)ot[rt]=W[rt];return ot[rt]=tt,ot}function w(W,tt,rt){if(!a.isES5)return{}.hasOwnProperty.call(W,tt)?W[tt]:void 0;var et=Object.getOwnPropertyDescriptor(W,tt);return et!=null?et.get==null&&et.set==null?et.value:rt:void 0}function x(W,tt,rt){if(v(W))return W;var et={value:rt,configurable:!0,enumerable:!1,writable:!0};return a.defineProperty(W,tt,et),W}function T(W){throw W}var D=function(){var W=[Array.prototype,Object.prototype,Function.prototype],tt=function(ot){for(var ut=0;ut<W.length;++ut)if(W[ut]===ot)return!0;return!1};if(a.isES5){var rt=Object.getOwnPropertyNames;return function(ot){for(var ut=[],_t=Object.create(null);ot!=null&&!tt(ot);){var gt;try{gt=rt(ot)}catch{return ut}for(var vt=0;vt<gt.length;++vt){var xt=gt[vt];if(!_t[xt]){_t[xt]=!0;var kt=Object.getOwnPropertyDescriptor(ot,xt);kt!=null&&kt.get==null&&kt.set==null&&ut.push(xt)}}ot=a.getPrototypeOf(ot)}return ut}}var et={}.hasOwnProperty;return function(ot){if(tt(ot))return[];var ut=[];t:for(var _t in ot)if(et.call(ot,_t))ut.push(_t);else{for(var gt=0;gt<W.length;++gt)if(et.call(W[gt],_t))continue t;ut.push(_t)}return ut}}(),I=/this\s*\.\s*\S+\s*=/;function P(W){try{if(typeof W=="function"){var tt=a.names(W.prototype),rt=a.isES5&&tt.length>1,et=tt.length>0&&!(tt.length===1&&tt[0]==="constructor"),ot=I.test(W+"")&&a.names(W).length>0;if(rt||et||ot)return!0}return!1}catch{return!1}}function R(W){function tt(){}tt.prototype=W;var rt=new tt;function et(){return e(rt.foo)}return et(),et(),W}var H=/^[a-z$_][a-z$_0-9]*$/i;function F(W){return H.test(W)}function Y(W,tt,rt){for(var et=new Array(W),ot=0;ot<W;++ot)et[ot]=tt+ot+rt;return et}function q(W){try{return W+""}catch{return"[no string representation]"}}function L(W){return W instanceof Error||W!==null&&e(W)==="object"&&typeof W.message=="string"&&typeof W.name=="string"}function N(W){try{x(W,"isOperational",!0)}catch{}}function G(W){return W!=null&&(W instanceof Error.__BluebirdErrorTypes__.OperationalError||W.isOperational===!0)}function O(W){return L(W)&&a.propertyIsWritable(W,"stack")}var V="stack"in new Error?function(W){return O(W)?W:new Error(q(W))}:function(W){if(O(W))return W;try{throw new Error(q(W))}catch(tt){return tt}};function K(W){return{}.toString.call(W)}function J(W,tt,rt){for(var et=a.names(W),ot=0;ot<et.length;++ot){var ut=et[ot];if(rt(ut))try{a.defineProperty(tt,ut,a.getDescriptor(W,ut))}catch{}}}var z=function(W){return a.isArray(W)?W:null};if(typeof Symbol<"u"&&Symbol.iterator){var S=typeof Array.from=="function"?function(W){return Array.from(W)}:function(W){for(var tt,rt=[],et=W[Symbol.iterator]();!(tt=et.next()).done;)rt.push(tt.value);return rt};z=function(W){return a.isArray(W)?W:W!=null&&typeof W[Symbol.iterator]=="function"?S(W):null}}var C=_!==void 0&&K(_).toLowerCase()==="[object process]",M=_!==void 0&&_.env!==void 0;function j(W){return M?_.env[W]:void 0}function B(){if(typeof Promise=="function")try{var W=new Promise(function(){});if({}.toString.call(W)==="[object Promise]")return Promise}catch{}}function U(W,tt){return W.bind(tt)}var Z={isClass:P,isIdentifier:F,inheritedDataKeys:D,getDataPropertyOrDefault:w,thrower:T,isArray:a.isArray,asArray:z,notEnumerableProp:x,isPrimitive:v,isObject:b,isError:L,canEvaluate:l,errorObj:d,tryCatch:m,inherits:y,withAppended:$,maybeWrapAsError:k,toFastProperties:R,filledRange:Y,toString:q,canAttachTrace:O,ensureErrorObject:V,originatesFromRejection:G,markAsOriginatingFromRejection:N,classString:K,copyDescriptors:J,hasDevTools:typeof chrome<"u"&&chrome&&typeof chrome.loadTimes=="function",isNode:C,hasEnvVariables:M,env:j,global:g,getNativePromise:B,domainBind:U};Z.isRecentNode=Z.isNode&&function(){var W;return _.versions&&_.versions.node?W=_.versions.node.split(".").map(Number):_.version&&(W=_.version.split(".").map(Number)),W[0]===0&&W[1]>10||W[0]>0}(),Z.isNode&&Z.toFastProperties(_);try{throw new Error}catch(W){Z.lastLineError=W}n.exports=Z},{"./es5":13}]},{},[4])(4)}),typeof window<"u"&&window!==null?window.P=window.Promise:typeof self<"u"&&self!==null&&(self.P=self.Promise)}).call(this,h(9),h(4),h(57).setImmediate)},function(A,E,h){A.exports=h(233)},function(A,E,h){var _=h(0);A.exports=function(){var u={};return{getState:function(s){if(u[s])return u[s].method();var c={};for(var i in u)u[i].internal||_.mixin(c,u[i].method(),!0);return c},registerProvider:function(s,c,i){u[s]={method:c,internal:i}},unregisterProvider:function(s){delete u[s]}}}},function(A,E){A.exports=function(h){var _={};function u(s,c,i){i=i||s;var r=h.config,e=h.templates;h.config[s]&&_[i]!=r[s]&&(c&&e[i]||(e[i]=h.date.date_to_str(r[s]),_[i]=r[s]))}return{initTemplates:function(){var s=h.locale.labels;s.gantt_save_btn=s.icon_save,s.gantt_cancel_btn=s.icon_cancel,s.gantt_delete_btn=s.icon_delete;var c=h.date,i=c.date_to_str,r=h.config,e=i(r.xml_date||r.date_format,r.server_utc),t=c.str_to_date(r.xml_date||r.date_format,r.server_utc);u("date_scale",!0,void 0,h.config,h.templates),u("date_grid",!0,"grid_date_format",h.config,h.templates),u("task_date",!0,void 0,h.config,h.templates),h.mixin(h.templates,{xml_format:void 0,format_date:e,xml_date:void 0,parse_date:t,progress_text:function(n,o,a){return""},grid_header_class:function(n,o){return""},task_text:function(n,o,a){return a.text},task_class:function(n,o,a){return""},task_end_date:function(n){return h.templates.task_date(n)},grid_row_class:function(n,o,a){return""},task_row_class:function(n,o,a){return""},timeline_cell_class:function(n,o){return""},timeline_cell_content:function(n,o){return""},scale_cell_class:function(n){return""},scale_row_class:function(n){return""},grid_indent:function(n){return"<div class='gantt_tree_indent'></div>"},grid_folder:function(n){return"<div class='gantt_tree_icon gantt_folder_"+(n.$open?"open":"closed")+"'></div>"},grid_file:function(n){return"<div class='gantt_tree_icon gantt_file'></div>"},grid_open:function(n){return"<div class='gantt_tree_icon gantt_"+(n.$open?"close":"open")+"'></div>"},grid_blank:function(n){return"<div class='gantt_tree_icon gantt_blank'></div>"},date_grid:function(n,o,a){return o&&h.isUnscheduledTask(o)&&h.config.show_unscheduled?h.templates.task_unscheduled_time(o):h.templates.grid_date_format(n,a)},task_time:function(n,o,a){return h.isUnscheduledTask(a)&&h.config.show_unscheduled?h.templates.task_unscheduled_time(a):h.templates.task_date(n)+" - "+h.templates.task_end_date(o)},task_unscheduled_time:function(n){return""},time_picker:i(r.time_picker),link_class:function(n){return""},link_description:function(n){var o=h.getTask(n.source),a=h.getTask(n.target);return"<b>"+o.text+"</b> &ndash;  <b>"+a.text+"</b>"},drag_link:function(n,o,a,l){n=h.getTask(n);var d=h.locale.labels,f="<b>"+n.text+"</b> "+(o?d.link_start:d.link_end)+"<br/>";return a&&(f+="<b> "+(a=h.getTask(a)).text+"</b> "+(l?d.link_start:d.link_end)+"<br/>"),f},drag_link_class:function(n,o,a,l){var d="";return n&&a&&(d=" "+(h.isLinkAllowed(n,a,o,l)?"gantt_link_allow":"gantt_link_deny")),"gantt_link_tooltip"+d},tooltip_date_format:c.date_to_str("%Y-%m-%d"),tooltip_text:function(n,o,a){return"<b>Task:</b> "+a.text+"<br/><b>Start date:</b> "+h.templates.tooltip_date_format(n)+"<br/><b>End date:</b> "+h.templates.tooltip_date_format(o)}})},initTemplate:u}}},function(A,E,h){var _=h(5),u=h(0),s=h(50),c=h(21),i=h(1);A.exports=function(r){function e(n){return{target:n.target||n.srcElement,pageX:n.pageX,pageY:n.pageY,clientX:n.clientX,clientY:n.clientY,metaKey:n.metaKey,shiftKey:n.shiftKey,ctrlKey:n.ctrlKey,altKey:n.altKey}}function t(n,o){this._obj=n,this._settings=o||{},_(this);var a=this.getInputMethods();this._drag_start_timer=null,r.attachEvent("onGanttScroll",u.bind(function(f,g){this.clearDragTimer()},this));for(var l={passive:!1},d=0;d<a.length;d++)u.bind(function(f){r.event(n,f.down,u.bind(function(p){f.accessor(p)&&(o.preventDefault&&o.selector&&i.closest(p.target,o.selector)&&p.preventDefault(),r.config.touch&&p.timeStamp&&p.timeStamp-0<300||(this._settings.original_target=e(p),r.config.touch?(this.clearDragTimer(),this._drag_start_timer=setTimeout(u.bind(function(){r.getState().lightbox||this.dragStart(n,p,f)},this),r.config.touch_drag)):this.dragStart(n,p,f)))},this),l);var g=document.body;r.event(g,f.up,u.bind(function(p){f.accessor(p)&&this.clearDragTimer()},this),l)},this)(a[d])}return t.prototype={traceDragEvents:function(n,o){var a=u.bind(function(m){return this.dragMove(n,m,o.accessor)},this);u.bind(function(m){return this.dragScroll(n,m)},this);var l=u.bind(function(m){if(!this.config.started||!u.defined(this.config.updates_per_second)||s(this,this.config.updates_per_second)){var y=a(m);if(y)try{m&&m.preventDefault&&m.cancelable&&m.preventDefault()}catch{}return y}},this),d=i.getRootNode(r.$root),f=this.config.mousemoveContainer||i.getRootNode(r.$root),g={passive:!1},p=u.bind(function(m){return r.eventRemove(f,o.move,l),r.eventRemove(d,o.up,p,g),this.dragEnd(n)},this);r.event(f,o.move,l,g),r.event(d,o.up,p,g)},checkPositionChange:function(n){var o=n.x-this.config.pos.x,a=n.y-this.config.pos.y;return Math.sqrt(Math.pow(Math.abs(o),2)+Math.pow(Math.abs(a),2))>this.config.sensitivity},initDnDMarker:function(){var n=this.config.marker=document.createElement("div");n.className="gantt_drag_marker",n.innerHTML="",document.body.appendChild(n)},backupEventTarget:function(n,o){if(r.config.touch){var a=o(n),l=a.target||a.srcElement,d=l.cloneNode(!0);this.config.original_target=e(a),this.config.original_target.target=d,this.config.backup_element=l,l.parentNode.appendChild(d),l.style.display="none",(this.config.mousemoveContainer||document.body).appendChild(l)}},getInputMethods:function(){var n=[];if(n.push({move:"mousemove",down:"mousedown",up:"mouseup",accessor:function(a){return a}}),r.config.touch){var o=!0;try{document.createEvent("TouchEvent")}catch{o=!1}o?n.push({move:"touchmove",down:"touchstart",up:"touchend",accessor:function(a){return a.touches&&a.touches.length>1?null:a.touches[0]?{target:document.elementFromPoint(a.touches[0].clientX,a.touches[0].clientY),pageX:a.touches[0].pageX,pageY:a.touches[0].pageY,clientX:a.touches[0].clientX,clientY:a.touches[0].clientY}:a}}):c.navigator.pointerEnabled?n.push({move:"pointermove",down:"pointerdown",up:"pointerup",accessor:function(a){return a.pointerType=="mouse"?null:a}}):c.navigator.msPointerEnabled&&n.push({move:"MSPointerMove",down:"MSPointerDown",up:"MSPointerUp",accessor:function(a){return a.pointerType==a.MSPOINTER_TYPE_MOUSE?null:a}})}return n},clearDragTimer:function(){this._drag_start_timer&&(clearTimeout(this._drag_start_timer),this._drag_start_timer=null)},dragStart:function(n,o,a){this.config&&this.config.started||(this.config={obj:n,marker:null,started:!1,pos:this.getPosition(o),sensitivity:4},this._settings&&u.mixin(this.config,this._settings,!0),this.traceDragEvents(n,a),r._prevent_touch_scroll=!0,document.body.className+=" gantt_noselect",r.config.touch&&this.dragMove(n,o,a.accessor))},dragMove:function(n,o,a){var l=a(o);if(!l)return!1;if(!this.config.marker&&!this.config.started){var d=this.getPosition(l);if(r.config.touch||this.checkPositionChange(d)){if(this.config.started=!0,this.config.ignore=!1,this.callEvent("onBeforeDragStart",[n,this.config.original_target])===!1)return this.config.ignore=!0,!1;this.backupEventTarget(o,a),this.initDnDMarker(),r._touch_feedback(),this.callEvent("onAfterDragStart",[n,this.config.original_target])}else this.config.ignore=!0}return this.config.ignore?!1:o.targetTouches&&!l.target?void 0:(l.pos=this.getPosition(l),this.config.marker.style.left=l.pos.x+"px",this.config.marker.style.top=l.pos.y+"px",this.callEvent("onDragMove",[n,l]),!0)},dragEnd:function(n){var o=this.config.backup_element;o&&o.parentNode&&o.parentNode.removeChild(o),r._prevent_touch_scroll=!1,this.config.marker&&(this.config.marker.parentNode.removeChild(this.config.marker),this.config.marker=null,this.callEvent("onDragEnd",[])),this.config.started=!1,document.body.className=document.body.className.replace(" gantt_noselect","")},getPosition:function(n){var o=0,a=0;return n.pageX||n.pageY?(o=n.pageX,a=n.pageY):(n.clientX||n.clientY)&&(o=n.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,a=n.clientY+document.body.scrollTop+document.documentElement.scrollTop),{x:o,y:a}}},t}},function(A,E,h){function _(s,c){for(var i=0;i<c.length;i++){var r=c[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(s,r.key,r)}}h.r(E),h.d(E,"Client",function(){return u});var u=function(){function s(c){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,s);var i=c.url,r=c.token;this._url=i,this._token=r,this._mode=1,this._seed=1,this._queue=[],this.data={},this.api={},this._events={}}return function(c,i,r){i&&_(c.prototype,i),r&&_(c,r)}(s,[{key:"headers",value:function(){return{Accept:"application/json","Content-Type":"application/json","Remote-Token":this._token}}},{key:"fetch",value:function(c){function i(r,e){return c.apply(this,arguments)}return i.toString=function(){return c.toString()},i}(function(c,i){var r={credentials:"include",headers:this.headers()};return i&&(r.method="POST",r.body=i),fetch(c,r).then(function(e){return e.json()})})},{key:"load",value:function(c){var i=this;return c&&(this._url=c),this.fetch(this._url).then(function(r){return i.parse(r)})}},{key:"parse",value:function(c){var i=c.key,r=c.websocket;for(var e in i&&(this._token=c.key),c.data)this.data[e]=c.data[e];for(var t in c.api){var n=this.api[t]={},o=c.api[t];for(var a in o)n[a]=this._wrapper(t+"."+a)}return r&&this.connect(),this}},{key:"connect",value:function(){var c=this,i=this._socket;i&&(this._socket=null,i.onclose=function(){},i.close()),this._mode=2,this._socket=function(r,e,t,n){var o=e;o[0]==="/"&&(o=document.location.protocol+"//"+document.location.host+e);var a=(o=o.replace(/^http(s|):/,"ws$1:")).indexOf("?")!=-1?"&":"?";o="".concat(o).concat(a,"token=").concat(t,"&ws=1");var l=new WebSocket(o);return l.onclose=function(){return setTimeout(function(){return r.connect()},2e3)},l.onmessage=function(d){var f=JSON.parse(d.data);switch(f.action){case"result":r.result(f.body,[]);break;case"event":r.fire(f.body.name,f.body.value);break;case"start":c._mode=3,c._send(),c._resubscribe();break;default:r.onError(f.data)}},l}(this,this._url,this._token)}},{key:"_wrapper",value:function(c){return(function(){var i=this,r=[].slice.call(arguments),e=null,t=new Promise(function(n,o){e={data:{id:i._uid(),name:c,args:r},status:1,resolve:n,reject:o},i._queue.push(e)});return this.onCall(e,t),this._mode===3?this._send(e):setTimeout(function(){return i._send()},1),t}).bind(this)}},{key:"_uid",value:function(){return(this._seed++).toString()}},{key:"_send",value:function(c){var i=this;if(this._mode!=2){var r=c?[c]:this._queue.filter(function(t){return t.status===1});if(r.length){var e=r.map(function(t){return t.status=2,t.data});this._mode!==3?this.fetch(this._url,JSON.stringify(e)).catch(function(t){return i.onError(t)}).then(function(t){return i.result(t,e)}):this._socket.send(JSON.stringify({action:"call",body:e}))}}else setTimeout(function(){return i._send()},100)}},{key:"result",value:function(c,i){var r={};if(c)for(var e=0;e<c.length;e++)r[c[e].id]=c[e];else for(var t=0;t<i.length;t++)r[i[t].id]={id:i[t].id,error:"Network Error",data:null};for(var n=this._queue.length-1;n>=0;n--){var o=this._queue[n],a=r[o.data.id];a&&(this.onResponse(o,a),a.error?o.reject(a.error):o.resolve(a.data),this._queue.splice(n,1))}}},{key:"on",value:function(c,i){var r=this._uid(),e=this._events[c],t=!!e;return t||(e=this._events[c]=[]),e.push({id:r,handler:i}),t||this._mode!=3||this._socket.send(JSON.stringify({action:"subscribe",name:c})),{name:c,id:r}}},{key:"_resubscribe",value:function(){if(this._mode==3)for(var c in this._events)this._socket.send(JSON.stringify({action:"subscribe",name:c}))}},{key:"detach",value:function(c){if(c){var i=c.id,r=c.name,e=this._events[r];if(e){var t=e.filter(function(o){return o.id!=i});t.length?this._events[r]=t:(delete this._events[r],this._mode==3&&this._socket.send(JSON.stringify({action:"unsubscribe",name:r})))}}else{if(this._mode==3)for(var n in this._events)this._socket.send(JSON.stringify({action:"unsubscribe",key:n}));this._events={}}}},{key:"fire",value:function(c,i){var r=this._events[c];if(r)for(var e=0;e<r.length;e++)r[e].handler(i)}},{key:"onError",value:function(c){return null}},{key:"onCall",value:function(c,i){}},{key:"onResponse",value:function(c,i){}}]),s}()},function(A,E,h){var _=h(238);A.exports={remoteEvents:function(u,s){var c=this,i=new _.Client({url:u,token:s});i.fetch=function(r,e){var t={headers:this.headers()};return e&&(t.method="POST",t.body=e),fetch(r,t).then(function(n){return n.json()})},this._ready=i.load().then(function(r){return c._remote=r}),this.ready=function(){return this._ready},this.on=function(r,e){this.ready().then(function(t){if(typeof r=="string")t.on(r,e);else for(var n in r)t.on(n,r[n])})}}}},function(A,E,h){Object.defineProperty(E,"__esModule",{value:!0});var _={date_to_str:function(u,s,c){return function(i){return u.replace(/%[a-zA-Z]/g,function(r){switch(r){case"%d":return s?c.date.to_fixed(i.getUTCDate()):c.date.to_fixed(i.getDate());case"%m":return s?c.date.to_fixed(i.getUTCMonth()+1):c.date.to_fixed(i.getMonth()+1);case"%j":return s?i.getUTCDate():i.getDate();case"%n":return s?i.getUTCMonth()+1:i.getMonth()+1;case"%y":return s?c.date.to_fixed(i.getUTCFullYear()%100):c.date.to_fixed(i.getFullYear()%100);case"%Y":return s?i.getUTCFullYear():i.getFullYear();case"%D":return s?c.locale.date.day_short[i.getUTCDay()]:c.locale.date.day_short[i.getDay()];case"%l":return s?c.locale.date.day_full[i.getUTCDay()]:c.locale.date.day_full[i.getDay()];case"%M":return s?c.locale.date.month_short[i.getUTCMonth()]:c.locale.date.month_short[i.getMonth()];case"%F":return s?c.locale.date.month_full[i.getUTCMonth()]:c.locale.date.month_full[i.getMonth()];case"%h":return s?c.date.to_fixed((i.getUTCHours()+11)%12+1):c.date.to_fixed((i.getHours()+11)%12+1);case"%g":return s?(i.getUTCHours()+11)%12+1:(i.getHours()+11)%12+1;case"%G":return s?i.getUTCHours():i.getHours();case"%H":return s?c.date.to_fixed(i.getUTCHours()):c.date.to_fixed(i.getHours());case"%i":return s?c.date.to_fixed(i.getUTCMinutes()):c.date.to_fixed(i.getMinutes());case"%a":return s?i.getUTCHours()>11?"pm":"am":i.getHours()>11?"pm":"am";case"%A":return s?i.getUTCHours()>11?"PM":"AM":i.getHours()>11?"PM":"AM";case"%s":return s?c.date.to_fixed(i.getUTCSeconds()):c.date.to_fixed(i.getSeconds());case"%W":return s?c.date.to_fixed(c.date.getUTCISOWeek(i)):c.date.to_fixed(c.date.getISOWeek(i));default:return r}})}},str_to_date:function(u,s,c){return function(i){for(var r=[0,0,1,0,0,0],e=i.match(/[a-zA-Z]+|[0-9]+/g),t=u.match(/%[a-zA-Z]/g),n=0;n<t.length;n++)switch(t[n]){case"%j":case"%d":r[2]=e[n]||1;break;case"%n":case"%m":r[1]=(e[n]||1)-1;break;case"%y":r[0]=1*e[n]+(e[n]>50?1900:2e3);break;case"%g":case"%G":case"%h":case"%H":r[3]=e[n]||0;break;case"%i":r[4]=e[n]||0;break;case"%Y":r[0]=e[n]||0;break;case"%a":case"%A":r[3]=r[3]%12+((e[n]||"").toLowerCase()==="am"?0:12);break;case"%s":r[5]=e[n]||0;break;case"%M":r[1]=c.locale.date.month_short_hash[e[n]]||0;break;case"%F":r[1]=c.locale.date.month_full_hash[e[n]]||0}return s?new Date(Date.UTC(r[0],r[1],r[2],r[3],r[4],r[5])):new Date(r[0],r[1],r[2],r[3],r[4],r[5])}}};E.default=_},function(A,E,h){Object.defineProperty(E,"__esModule",{value:!0});var _={date_to_str:function(u,s,c){u=u.replace(/%[a-zA-Z]/g,function(r){switch(r){case"%d":return'"+to_fixed(date.get'+(s?"UTC":"")+'Date())+"';case"%m":return'"+to_fixed((date.get'+(s?"UTC":"")+'Month()+1))+"';case"%j":return'"+date.get'+(s?"UTC":"")+'Date()+"';case"%n":return'"+(date.get'+(s?"UTC":"")+'Month()+1)+"';case"%y":return'"+to_fixed(date.get'+(s?"UTC":"")+'FullYear()%100)+"';case"%Y":return'"+date.get'+(s?"UTC":"")+'FullYear()+"';case"%D":return'"+locale.date.day_short[date.get'+(s?"UTC":"")+'Day()]+"';case"%l":return'"+locale.date.day_full[date.get'+(s?"UTC":"")+'Day()]+"';case"%M":return'"+locale.date.month_short[date.get'+(s?"UTC":"")+'Month()]+"';case"%F":return'"+locale.date.month_full[date.get'+(s?"UTC":"")+'Month()]+"';case"%h":return'"+to_fixed((date.get'+(s?"UTC":"")+'Hours()+11)%12+1)+"';case"%g":return'"+((date.get'+(s?"UTC":"")+'Hours()+11)%12+1)+"';case"%G":return'"+date.get'+(s?"UTC":"")+'Hours()+"';case"%H":return'"+to_fixed(date.get'+(s?"UTC":"")+'Hours())+"';case"%i":return'"+to_fixed(date.get'+(s?"UTC":"")+'Minutes())+"';case"%a":return'"+(date.get'+(s?"UTC":"")+'Hours()>11?"pm":"am")+"';case"%A":return'"+(date.get'+(s?"UTC":"")+'Hours()>11?"PM":"AM")+"';case"%s":return'"+to_fixed(date.get'+(s?"UTC":"")+'Seconds())+"';case"%W":return'"+to_fixed(getISOWeek(date))+"';case"%w":return'"+to_fixed(getWeek(date))+"';default:return r}});var i=new Function("date","to_fixed","locale","getISOWeek","getWeek",'return "'+u+'";');return function(r){return i(r,c.date.to_fixed,c.locale,c.date.getISOWeek,c.date.getWeek)}},str_to_date:function(u,s,c){for(var i="var temp=date.match(/[a-zA-Z]+|[0-9]+/g);",r=u.match(/%[a-zA-Z]/g),e=0;e<r.length;e++)switch(r[e]){case"%j":case"%d":i+="set[2]=temp["+e+"]||1;";break;case"%n":case"%m":i+="set[1]=(temp["+e+"]||1)-1;";break;case"%y":i+="set[0]=temp["+e+"]*1+(temp["+e+"]>50?1900:2000);";break;case"%g":case"%G":case"%h":case"%H":i+="set[3]=temp["+e+"]||0;";break;case"%i":i+="set[4]=temp["+e+"]||0;";break;case"%Y":i+="set[0]=temp["+e+"]||0;";break;case"%a":case"%A":i+="set[3]=set[3]%12+((temp["+e+"]||'').toLowerCase()=='am'?0:12);";break;case"%s":i+="set[5]=temp["+e+"]||0;";break;case"%M":i+="set[1]=locale.date.month_short_hash[temp["+e+"]]||0;";break;case"%F":i+="set[1]=locale.date.month_full_hash[temp["+e+"]]||0;"}var t="set[0],set[1],set[2],set[3],set[4],set[5]";s&&(t=" Date.UTC("+t+")");var n=new Function("date","locale","var set=[0,0,1,0,0,0]; "+i+" return new Date("+t+");");return function(o){return n(o,c.locale)}}};E.default=_},function(A,E,h){var _=h(241).default,u=h(240).default;A.exports=function(s){var c=null;function i(){var r=!1;return s.config.csp==="auto"?(c===null&&function(){try{new Function("canUseCsp = false;")}catch{c=!0}}(),r=c):r=s.config.csp,r}return{init:function(){for(var r=s.locale,e=r.date.month_short,t=r.date.month_short_hash={},n=0;n<e.length;n++)t[e[n]]=n;for(e=r.date.month_full,t=r.date.month_full_hash={},n=0;n<e.length;n++)t[e[n]]=n},date_part:function(r){var e=new Date(r);return r.setHours(0),this.hour_start(r),r.getHours()&&(r.getDate()<e.getDate()||r.getMonth()<e.getMonth()||r.getFullYear()<e.getFullYear())&&r.setTime(r.getTime()+36e5*(24-r.getHours())),r},time_part:function(r){return(r.valueOf()/1e3-60*r.getTimezoneOffset())%86400},week_start:function(r){var e=r.getDay();return s.config.start_on_monday&&(e===0?e=6:e--),this.date_part(this.add(r,-1*e,"day"))},month_start:function(r){return r.setDate(1),this.date_part(r)},quarter_start:function(r){this.month_start(r);var e,t=r.getMonth();return e=t>=9?9:t>=6?6:t>=3?3:0,r.setMonth(e),r},year_start:function(r){return r.setMonth(0),this.month_start(r)},day_start:function(r){return this.date_part(r)},hour_start:function(r){return r.getMinutes()&&r.setMinutes(0),this.minute_start(r),r},minute_start:function(r){return r.getSeconds()&&r.setSeconds(0),r.getMilliseconds()&&r.setMilliseconds(0),r},_add_days:function(r,e,t){r.setDate(r.getDate()+e);var n=e>=0,o=!t.getHours()&&r.getHours(),a=r.getDate()<=t.getDate()||r.getMonth()<t.getMonth()||r.getFullYear()<t.getFullYear();return n&&o&&a&&r.setTime(r.getTime()+36e5*(24-r.getHours())),e>1&&o&&r.setHours(0),r},add:function(r,e,t){var n=new Date(r.valueOf());switch(t){case"day":n=this._add_days(n,e,r);break;case"week":n=this._add_days(n,7*e,r);break;case"month":n.setMonth(n.getMonth()+e);break;case"year":n.setYear(n.getFullYear()+e);break;case"hour":n.setTime(n.getTime()+60*e*60*1e3);break;case"minute":n.setTime(n.getTime()+60*e*1e3);break;default:return this["add_"+t](r,e,t)}return n},add_quarter:function(r,e){return this.add(r,3*e,"month")},to_fixed:function(r){return r<10?"0"+r:r},copy:function(r){return new Date(r.valueOf())},date_to_str:function(r,e){var t=_;return i()&&(t=u),t.date_to_str(r,e,s)},str_to_date:function(r,e){var t=_;return i()&&(t=u),t.str_to_date(r,e,s)},getISOWeek:function(r){return s.date._getWeekNumber(r,!0)},_getWeekNumber:function(r,e){if(!r)return!1;var t=r.getDay();e&&t===0&&(t=7);var n=new Date(r.valueOf());n.setDate(r.getDate()+(4-t));var o=n.getFullYear(),a=Math.round((n.getTime()-new Date(o,0,1).getTime())/864e5);return 1+Math.floor(a/7)},getWeek:function(r){return s.date._getWeekNumber(r,s.config.start_on_monday)},getUTCISOWeek:function(r){return s.date.getISOWeek(r)},convert_to_utc:function(r){return new Date(r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate(),r.getUTCHours(),r.getUTCMinutes(),r.getUTCSeconds())},parseDate:function(r,e){return r&&!r.getFullYear&&(typeof e!="function"&&(e=typeof e=="string"?e==="parse_date"||e==="xml_date"?s.defined(s.templates.xml_date)?s.templates.xml_date:s.templates.parse_date:s.defined(s.templates[e])?s.templates[e]:s.date.str_to_date(e):s.defined(s.templates.xml_date)?s.templates.xml_date:s.templates.parse_date),r=r?e(r):null),r}}}},function(A,E,h){Object.defineProperty(E,"__esModule",{value:!0}),E.default=function(_){if(typeof _=="string"||typeof _=="number")return _;var u="";for(var s in _){var c="";_.hasOwnProperty(s)&&(c=s+"="+(c=typeof _[s]=="string"?encodeURIComponent(_[s]):typeof _[s]=="number"?_[s]:encodeURIComponent(JSON.stringify(_[s]))),u.length&&(c="&"+c),u+=c)}return u}},function(A,E,h){function _(r){"@babel/helpers - typeof";return(_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(r)}var u=h(11),s=h(21),c=h(243).default;function i(r,e){var t={method:r};if(e.length===0)throw new Error("Arguments list of query is wrong.");if(e.length===1)return typeof e[0]=="string"?(t.url=e[0],t.async=!0):(t.url=e[0].url,t.async=e[0].async||!0,t.callback=e[0].callback,t.headers=e[0].headers),e[0].data?typeof e[0].data!="string"?t.data=c(e[0].data):t.data=e[0].data:t.data="",t;switch(t.url=e[0],r){case"GET":case"DELETE":t.callback=e[1],t.headers=e[2];break;case"POST":case"PUT":e[1]?typeof e[1]!="string"?t.data=c(e[1]):t.data=e[1]:t.data="",t.callback=e[2],t.headers=e[3]}return t}A.exports=function(r){return{cache:!0,method:"get",parse:function(e){return typeof e!="string"?e:(e=e.replace(/^[\s]+/,""),typeof DOMParser>"u"||u.isIE?s.ActiveXObject!==void 0&&((t=new s.ActiveXObject("Microsoft.XMLDOM")).async="false",t.loadXML(e)):t=new DOMParser().parseFromString(e,"text/xml"),t);var t},xmltop:function(e,t,n){if(t.status===void 0||t.status<400){var o=t.responseXML?t.responseXML||t:this.parse(t.responseText||t);if(o&&o.documentElement!==null&&!o.getElementsByTagName("parsererror").length)return o.getElementsByTagName(e)[0]}return n!==-1&&r.callEvent("onLoadXMLError",["Incorrect XML",arguments[1],n]),document.createElement("DIV")},xpath:function(e,t){if(t.nodeName||(t=t.responseXML||t),u.isIE)return t.selectNodes(e)||[];for(var n,o=[],a=(t.ownerDocument||t).evaluate(e,t,null,XPathResult.ANY_TYPE,null);n=a.iterateNext();)o.push(n);return o},query:function(e){return this._call(e.method||"GET",e.url,e.data||"",e.async||!0,e.callback,e.headers)},get:function(e,t,n){var o=i("GET",arguments);return this.query(o)},getSync:function(e,t){var n=i("GET",arguments);return n.async=!1,this.query(n)},put:function(e,t,n,o){var a=i("PUT",arguments);return this.query(a)},del:function(e,t,n){var o=i("DELETE",arguments);return this.query(o)},post:function(e,t,n,o){(arguments.length==1||arguments.length==2&&typeof t=="function")&&(t="");var a=i("POST",arguments);return this.query(a)},postSync:function(e,t,n){t=t===null?"":String(t);var o=i("POST",arguments);return o.async=!1,this.query(o)},_call:function(e,t,n,o,a,l){return new r.Promise(function(d,f){var g=(typeof XMLHttpRequest>"u"?"undefined":_(XMLHttpRequest))!==void 0?new XMLHttpRequest:new s.ActiveXObject("Microsoft.XMLHTTP"),p=navigator.userAgent.match(/AppleWebKit/)!==null&&navigator.userAgent.match(/Qt/)!==null&&navigator.userAgent.match(/Safari/)!==null;o&&(g.onreadystatechange=function(){if(g.readyState==4||p&&g.readyState==3){if((g.status!=200||g.responseText==="")&&!r.callEvent("onAjaxError",[g]))return;setTimeout(function(){typeof a=="function"&&a.apply(s,[{xmlDoc:g,filePath:t}]),d(g),typeof a=="function"&&(a=null,g=null)},0)}});var m=!this||!this.cache;if(e=="GET"&&m&&(t+=(t.indexOf("?")>=0?"&":"?")+"dhxr"+new Date().getTime()+"=1"),g.open(e,t,o),l)for(var y in l)g.setRequestHeader(y,l[y]);else e.toUpperCase()=="POST"||e=="PUT"||e=="DELETE"?g.setRequestHeader("Content-Type","application/x-www-form-urlencoded"):e=="GET"&&(n=null);if(g.setRequestHeader("X-Requested-With","XMLHttpRequest"),g.send(n),!o)return{xmlDoc:g,filePath:t}})},urlSeparator:function(e){return e.indexOf("?")!=-1?"&":"?"}}}},function(A,E,h){Object.defineProperty(E,"__esModule",{value:!0}),A.exports=function(){return{layout:{css:"gantt_container",rows:[{cols:[{view:"grid",scrollX:"scrollHor",scrollY:"scrollVer"},{resizer:!0,width:1},{view:"timeline",scrollX:"scrollHor",scrollY:"scrollVer"},{view:"scrollbar",id:"scrollVer"}]},{view:"scrollbar",id:"scrollHor",height:20}]},links:{finish_to_start:"0",start_to_start:"1",finish_to_finish:"2",start_to_finish:"3"},types:{task:"task",project:"project",milestone:"milestone"},auto_types:!1,duration_unit:"day",work_time:!1,correct_work_time:!1,skip_off_time:!1,cascade_delete:!0,autosize:!1,autosize_min_width:0,autoscroll:!0,autoscroll_speed:30,deepcopy_on_parse:!1,show_links:!0,show_task_cells:!0,static_background:!1,static_background_cells:!0,branch_loading:!1,branch_loading_property:"$has_child",show_loading:!1,show_chart:!0,show_grid:!0,min_duration:36e5,date_format:"%d-%m-%Y %H:%i",xml_date:void 0,start_on_monday:!0,server_utc:!1,show_progress:!0,fit_tasks:!1,select_task:!0,scroll_on_click:!0,smart_rendering:!0,preserve_scroll:!0,readonly:!1,container_resize_timeout:20,date_grid:"%Y-%m-%d",drag_links:!0,drag_progress:!0,drag_resize:!0,drag_project:!1,drag_move:!0,drag_mode:{resize:"resize",progress:"progress",move:"move",ignore:"ignore"},round_dnd_dates:!0,link_wrapper_width:20,root_id:0,autofit:!1,columns:[{name:"text",tree:!0,width:"*",resize:!0},{name:"start_date",align:"center",resize:!0},{name:"duration",align:"center"},{name:"add",width:44}],scale_offset_minimal:!0,inherit_scale_class:!1,scales:[{unit:"day",step:1,date:"%d %M"}],time_step:60,duration_step:1,task_date:"%d %F %Y",time_picker:"%H:%i",task_attribute:"data-task-id",link_attribute:"data-link-id",layer_attribute:"data-layer",buttons_left:["gantt_save_btn","gantt_cancel_btn"],_migrate_buttons:{dhx_save_btn:"gantt_save_btn",dhx_cancel_btn:"gantt_cancel_btn",dhx_delete_btn:"gantt_delete_btn"},buttons_right:["gantt_delete_btn"],lightbox:{sections:[{name:"description",height:70,map_to:"text",type:"textarea",focus:!0},{name:"time",type:"duration",map_to:"auto"}],project_sections:[{name:"description",height:70,map_to:"text",type:"textarea",focus:!0},{name:"type",type:"typeselect",map_to:"type"},{name:"time",type:"duration",readonly:!0,map_to:"auto"}],milestone_sections:[{name:"description",height:70,map_to:"text",type:"textarea",focus:!0},{name:"type",type:"typeselect",map_to:"type"},{name:"time",type:"duration",single_date:!0,map_to:"auto"}]},drag_lightbox:!0,sort:!1,details_on_create:!0,details_on_dblclick:!0,initial_scroll:!0,task_scroll_offset:100,order_branch:!1,order_branch_free:!1,task_height:void 0,bar_height:"full",min_column_width:70,min_grid_column_width:70,grid_resizer_column_attribute:"data-column-index",keep_grid_width:!1,grid_resize:!1,grid_elastic_columns:!1,show_tasks_outside_timescale:!1,show_unscheduled:!0,resize_rows:!1,task_grid_row_resizer_attribute:"data-row-index",min_task_grid_row_height:30,readonly_property:"readonly",editable_property:"editable",calendar_property:"calendar_id",resource_calendars:{},dynamic_resource_calendars:!1,inherit_calendar:!1,type_renderers:{},open_tree_initially:!1,optimize_render:!0,prevent_default_scroll:!1,show_errors:!0,wai_aria_attributes:!0,smart_scales:!0,rtl:!1,placeholder_task:!1,horizontal_scroll_key:"shiftKey",drag_timeline:{useKey:void 0,ignore:".gantt_task_line, .gantt_task_link"},drag_multiple:!0,csp:"auto"}}},function(A,E){A.exports=function(){var h={};return{services:{},setService:function(_,u){h[_]=u},getService:function(_){return h[_]?h[_]():null},dropService:function(_){h[_]&&delete h[_]},destructor:function(){for(var _ in h)if(h[_]){var u=h[_];u&&u.destructor&&u.destructor()}h=null}}}},function(A,E,h){Object.defineProperty(E,"__esModule",{value:!0});var _=function(){return function(u){var s=this;for(var c in this.addExtension=function(i,r){s._extensions[i]=r},this.getExtension=function(i){return s._extensions[i]},this._extensions={},u)this._extensions[c]=u[c]}}();E.default=_},function(A,E){A.exports={KEY_CODES:{UP:38,DOWN:40,LEFT:37,RIGHT:39,SPACE:32,ENTER:13,DELETE:46,ESC:27,TAB:9}}},function(A,E,h){function _(u){"@babel/helpers - typeof";return(_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s})(u)}A.exports=function(u){var s=new function(){this.constants=h(248),this.version="8.0.6",this.license="gpl",this.templates={},this.ext={},this.keys={edit_save:this.constants.KEY_CODES.ENTER,edit_cancel:this.constants.KEY_CODES.ESC}},c=new(h(247)).default(u),i={};s.plugins=function(l){for(var d in l)if(l[d]&&!i[d]){var f=c.getExtension(d);f&&(f(s),i[d]=!0)}return i},s.$services=h(246)(),s.config=h(245)(),s.ajax=h(244)(s),s.date=h(242)(s),s.RemoteEvents=h(239).remoteEvents;var r=h(237)(s);s.$services.setService("dnd",function(){return r});var e=h(236)(s);s.$services.setService("templateLoader",function(){return e}),h(5)(s);var t=new(h(235));t.registerProvider("global",function(){var l={min_date:s._min_date,max_date:s._max_date,selected_task:null};return s.$data&&s.$data.tasksStore&&(l.selected_task=s.$data.tasksStore.getSelectedId()),l}),s.getState=t.getState,s.$services.setService("state",function(){return t});var n=h(0);n.mixin(s,n),s.Promise=h(234),s.env=h(11),h(232)(s);var o=h(226);s.dataProcessor=o.DEPRECATED_api,s.createDataProcessor=o.createDataProcessor,h(221)(s),h(211)(s),h(210)(s),h(202)(s),h(201)(s),h(200)(s),h(187)(s),h(186).default(s),h(185)(s),h(184)(s),h(183)(s),h(180)(s),h(179).default(s);var a=h(178).default();return s.i18n={addLocale:a.addLocale,setLocale:function(l){if(typeof l=="string"){var d=a.getLocale(l);d||(d=a.getLocale("en")),s.locale=d}else if(l)if(s.locale)for(var f in l)l[f]&&_(l[f])==="object"?(s.locale[f]||(s.locale[f]={}),s.mixin(s.locale[f],l[f],!0)):s.locale[f]=l[f];else s.locale=l},getLocale:a.getLocale},s.i18n.setLocale("en"),s}},function(A,E,h){h(35);var _=h(249);A.exports=function(u){var s=_(u);return s.env.isNode||h(144)(s),s}},function(A,E,h){Object.defineProperty(E,"__esModule",{value:!0});var _=100,u=function(){function s(c){var i=this;this.maxSteps=_,this.undoEnabled=!0,this.redoEnabled=!0,this.action={create:function(r){return{commands:r?r.slice():[]}},invert:function(r){for(var e,t=i._gantt.copy(r),n=i.command,o=0;o<r.commands.length;o++){var a=t.commands[o]=n.invert(t.commands[o]);a.type!==n.type.update&&a.type!==n.type.move||(e=[a.oldValue,a.value],a.value=e[0],a.oldValue=e[1])}return t}},this.command={entity:null,type:null,create:function(r,e,t,n){var o=i._gantt;return{entity:n,type:t,value:o.copy(r),oldValue:o.copy(e||r)}},invert:function(r){var e=i._gantt.copy(r);return e.type=i.command.inverseCommands(r.type),e},inverseCommands:function(r){var e=i._gantt,t=i.command.type;switch(r){case t.update:return t.update;case t.remove:return t.add;case t.add:return t.remove;case t.move:return t.move;default:return e.assert(!1,"Invalid command "+r),null}}},this._undoStack=[],this._redoStack=[],this._gantt=c}return s.prototype.getUndoStack=function(){return this._undoStack},s.prototype.setUndoStack=function(c){this._undoStack=c},s.prototype.getRedoStack=function(){return this._redoStack},s.prototype.setRedoStack=function(c){this._redoStack=c},s.prototype.clearUndoStack=function(){this._undoStack=[]},s.prototype.clearRedoStack=function(){this._redoStack=[]},s.prototype.updateConfigs=function(){var c=this._gantt;this.maxSteps=c.config.undo_steps||_,this.command.entity=c.config.undo_types,this.command.type=c.config.undo_actions,this.undoEnabled=!!c.config.undo,this.redoEnabled=!!c.config.redo},s.prototype.undo=function(){var c=this._gantt;if(this.updateConfigs(),this.undoEnabled){var i=this._pop(this._undoStack);if(i&&this._reorderCommands(i),c.callEvent("onBeforeUndo",[i])!==!1&&i)return this._applyAction(this.action.invert(i)),this._push(this._redoStack,c.copy(i)),void c.callEvent("onAfterUndo",[i]);c.callEvent("onAfterUndo",[null])}},s.prototype.redo=function(){var c=this._gantt;if(this.updateConfigs(),this.redoEnabled){var i=this._pop(this._redoStack);if(i&&this._reorderCommands(i),c.callEvent("onBeforeRedo",[i])!==!1&&i)return this._applyAction(i),this._push(this._undoStack,c.copy(i)),void c.callEvent("onAfterRedo",[i]);c.callEvent("onAfterRedo",[null])}},s.prototype.logAction=function(c){this._push(this._undoStack,c),this._redoStack=[]},s.prototype._push=function(c,i){var r=this._gantt;if(i.commands.length){var e=c===this._undoStack?"onBeforeUndoStack":"onBeforeRedoStack";if(r.callEvent(e,[i])!==!1&&i.commands.length){for(c.push(i);c.length>this.maxSteps;)c.shift();return i}}},s.prototype._pop=function(c){return c.pop()},s.prototype._reorderCommands=function(c){var i={any:0,link:1,task:2},r={move:1,any:0};c.commands.sort(function(e,t){if(e.entity==="task"&&t.entity==="task")return e.type!==t.type?(r[t.type]||0)-(r[e.type]||0):e.type==="move"&&e.oldValue&&t.oldValue&&t.oldValue.parent===e.oldValue.parent?e.oldValue.$index-t.oldValue.$index:0;var n=i[e.entity]||i.any;return(i[t.entity]||i.any)-n})},s.prototype._applyAction=function(c){var i=null,r=this.command.entity,e=this.command.type,t=this._gantt,n={};n[r.task]={add:"addTask",get:"getTask",update:"updateTask",remove:"deleteTask",move:"moveTask",isExists:"isTaskExists"},n[r.link]={add:"addLink",get:"getLink",update:"updateLink",remove:"deleteLink",isExists:"isLinkExists"},t.batchUpdate(function(){for(var o=0;o<c.commands.length;o++){i=c.commands[o];var a=n[i.entity][i.type],l=n[i.entity].get,d=n[i.entity].isExists;if(i.type===e.add)t[a](i.oldValue,i.oldValue.parent,i.oldValue.$local_index);else if(i.type===e.remove)t[d](i.value.id)&&t[a](i.value.id);else if(i.type===e.update){var f=t[l](i.value.id);for(var g in i.value)g.startsWith("$")||g.startsWith("_")||(f[g]=i.value[g]);t[a](i.value.id)}else i.type===e.move&&(t[a](i.value.id,i.value.$local_index,i.value.parent),t.callEvent("onRowDragEnd",[i.value.id]))}})},s}();E.Undo=u},function(A,E,h){Object.defineProperty(E,"__esModule",{value:!0});var _={onBeforeUndo:"onAfterUndo",onBeforeRedo:"onAfterRedo"},u=["onTaskDragStart","onAfterTaskUpdate","onAfterTaskDelete","onBeforeBatchUpdate"],s=function(){function c(i,r){this._batchAction=null,this._batchMode=!1,this._ignore=!1,this._ignoreMoveEvents=!1,this._initialTasks={},this._initialLinks={},this._nestedTasks={},this._nestedLinks={},this._undo=i,this._gantt=r,this._attachEvents()}return c.prototype.store=function(i,r,e){return e===void 0&&(e=!1),r===this._gantt.config.undo_types.task?this._storeTask(i,e):r===this._gantt.config.undo_types.link&&this._storeLink(i,e)},c.prototype.isMoveEventsIgnored=function(){return this._ignoreMoveEvents},c.prototype.toggleIgnoreMoveEvents=function(i){this._ignoreMoveEvents=i||!1},c.prototype.startIgnore=function(){this._ignore=!0},c.prototype.stopIgnore=function(){this._ignore=!1},c.prototype.startBatchAction=function(){var i=this;this._timeout||(this._timeout=setTimeout(function(){i.stopBatchAction(),i._timeout=null},10)),this._ignore||this._batchMode||(this._batchMode=!0,this._batchAction=this._undo.action.create())},c.prototype.stopBatchAction=function(){if(!this._ignore){var i=this._undo;this._batchAction&&i.logAction(this._batchAction),this._batchMode=!1,this._batchAction=null}},c.prototype.onTaskAdded=function(i){this._ignore||this._storeTaskCommand(i,this._undo.command.type.add)},c.prototype.onTaskUpdated=function(i){this._ignore||this._storeTaskCommand(i,this._undo.command.type.update)},c.prototype.onTaskMoved=function(i){if(!this._ignore){i.$local_index=this._gantt.getTaskIndex(i.id);var r=this.getInitialTask(i.id);if(i.$local_index===r.$local_index&&this._gantt.getParent(i)===this._gantt.getParent(r))return;this._storeEntityCommand(i,this.getInitialTask(i.id),this._undo.command.type.move,this._undo.command.entity.task)}},c.prototype.onTaskDeleted=function(i){if(!this._ignore){if(this._storeTaskCommand(i,this._undo.command.type.remove),this._nestedTasks[i.id])for(var r=this._nestedTasks[i.id],e=0;e<r.length;e++)this._storeTaskCommand(r[e],this._undo.command.type.remove);if(this._nestedLinks[i.id]){var t=this._nestedLinks[i.id];for(e=0;e<t.length;e++)this._storeLinkCommand(t[e],this._undo.command.type.remove)}}},c.prototype.onLinkAdded=function(i){this._ignore||this._storeLinkCommand(i,this._undo.command.type.add)},c.prototype.onLinkUpdated=function(i){this._ignore||this._storeLinkCommand(i,this._undo.command.type.update)},c.prototype.onLinkDeleted=function(i){this._ignore||this._storeLinkCommand(i,this._undo.command.type.remove)},c.prototype.setNestedTasks=function(i,r){for(var e=this._gantt,t=null,n=[],o=this._getLinks(e.getTask(i)),a=0;a<r.length;a++)t=this.setInitialTask(r[a]),o=o.concat(this._getLinks(t)),n.push(t);var l={};for(a=0;a<o.length;a++)l[o[a]]=!0;var d=[];for(var a in l)d.push(this.setInitialLink(a));this._nestedTasks[i]=n,this._nestedLinks[i]=d},c.prototype.setInitialTask=function(i,r){var e=this._gantt;if(r||!this._initialTasks[i]||!this._batchMode){var t=e.copy(e.getTask(i));t.$index=e.getGlobalTaskIndex(i),t.$local_index=e.getTaskIndex(i),this.setInitialTaskObject(i,t)}return this._initialTasks[i]},c.prototype.getInitialTask=function(i){return this._initialTasks[i]},c.prototype.clearInitialTasks=function(){this._initialTasks={}},c.prototype.setInitialTaskObject=function(i,r){this._initialTasks[i]=r},c.prototype.setInitialLink=function(i,r){return this._initialLinks[i]&&this._batchMode||(this._initialLinks[i]=this._gantt.copy(this._gantt.getLink(i))),this._initialLinks[i]},c.prototype.getInitialLink=function(i){return this._initialLinks[i]},c.prototype.clearInitialLinks=function(){this._initialLinks={}},c.prototype._attachEvents=function(){var i=this,r=null,e=this._gantt,t=function(){r||(r=setTimeout(function(){r=null}),i.clearInitialTasks(),e.eachTask(function(l){i.setInitialTask(l.id)}),i.clearInitialLinks(),e.getLinks().forEach(function(l){i.setInitialLink(l.id)}))},n=function(l){return e.copy(e.getTask(l))};for(var o in _)e.attachEvent(o,function(){return i.startIgnore(),!0}),e.attachEvent(_[o],function(){return i.stopIgnore(),!0});for(o=0;o<u.length;o++)e.attachEvent(u[o],function(){return i.startBatchAction(),!0});e.attachEvent("onParse",function(){i._undo.clearUndoStack(),i._undo.clearRedoStack(),t()}),e.attachEvent("onAfterTaskAdd",function(l,d){i.setInitialTask(l,!0),i.onTaskAdded(d)}),e.attachEvent("onAfterTaskUpdate",function(l,d){i.onTaskUpdated(d)}),e.attachEvent("onAfterTaskDelete",function(l,d){i.onTaskDeleted(d)}),e.attachEvent("onAfterLinkAdd",function(l,d){i.setInitialLink(l,!0),i.onLinkAdded(d)}),e.attachEvent("onAfterLinkUpdate",function(l,d){i.onLinkUpdated(d)}),e.attachEvent("onAfterLinkDelete",function(l,d){i.onLinkDeleted(d)}),e.attachEvent("onRowDragEnd",function(l,d){return i.onTaskMoved(n(l)),i.toggleIgnoreMoveEvents(),!0}),e.attachEvent("onBeforeTaskDelete",function(l){i.store(l,e.config.undo_types.task);var d=[];return t(),e.eachTask(function(f){d.push(f.id)},l),i.setNestedTasks(l,d),!0});var a=e.getDatastore("task");a.attachEvent("onBeforeItemMove",function(l,d,f){return i.isMoveEventsIgnored()||t(),!0}),a.attachEvent("onAfterItemMove",function(l,d,f){return i.isMoveEventsIgnored()||i.onTaskMoved(n(l)),!0}),e.attachEvent("onRowDragStart",function(l,d,f){return i.toggleIgnoreMoveEvents(!0),t(),!0}),e.attachEvent("onBeforeTaskDrag",function(l){return i.store(l,e.config.undo_types.task)}),e.attachEvent("onLightbox",function(l){return i.store(l,e.config.undo_types.task)}),e.attachEvent("onBeforeTaskAutoSchedule",function(l){return i.store(l.id,e.config.undo_types.task),!0}),e.ext.inlineEditors&&e.ext.inlineEditors.attachEvent("onEditStart",function(l){i.store(l.id,e.config.undo_types.task)})},c.prototype._storeCommand=function(i){var r=this._undo;if(r.updateConfigs(),r.undoEnabled)if(this._batchMode)this._batchAction.commands.push(i);else{var e=r.action.create([i]);r.logAction(e)}},c.prototype._storeEntityCommand=function(i,r,e,t){var n=this._undo.command.create(i,r,e,t);this._storeCommand(n)},c.prototype._storeTaskCommand=function(i,r){this._gantt.isTaskExists(i.id)&&(i.$local_index=this._gantt.getTaskIndex(i.id)),this._storeEntityCommand(i,this.getInitialTask(i.id),r,this._undo.command.entity.task)},c.prototype._storeLinkCommand=function(i,r){this._storeEntityCommand(i,this.getInitialLink(i.id),r,this._undo.command.entity.link)},c.prototype._getLinks=function(i){return i.$source.concat(i.$target)},c.prototype._storeTask=function(i,r){var e=this;r===void 0&&(r=!1);var t=this._gantt;return this.setInitialTask(i,r),t.eachTask(function(n){e.setInitialTask(n.id)},i),!0},c.prototype._storeLink=function(i,r){return r===void 0&&(r=!1),this.setInitialLink(i,r),!0},c}();E.Monitor=s},function(A,E,h){Object.defineProperty(E,"__esModule",{value:!0});var _=h(252),u=h(251);E.default=function(s){var c=new u.Undo(s),i=new _.Monitor(c,s);function r(l,d,f){l&&(l.id===d&&(l.id=f),l.parent===d&&(l.parent=f))}function e(l,d,f){r(l.value,d,f),r(l.oldValue,d,f)}function t(l,d,f){l&&(l.source===d&&(l.source=f),l.target===d&&(l.target=f))}function n(l,d,f){t(l.value,d,f),t(l.oldValue,d,f)}function o(l,d,f){for(var g=c,p=0;p<l.length;p++)for(var m=l[p],y=0;y<m.commands.length;y++)m.commands[y].entity===g.command.entity.task?e(m.commands[y],d,f):m.commands[y].entity===g.command.entity.link&&n(m.commands[y],d,f)}function a(l,d,f){for(var g=c,p=0;p<l.length;p++)for(var m=l[p],y=0;y<m.commands.length;y++){var v=m.commands[y];v.entity===g.command.entity.link&&(v.value&&v.value.id===d&&(v.value.id=f),v.oldValue&&v.oldValue.id===d&&(v.oldValue.id=f))}}s.config.undo=!0,s.config.redo=!0,s.config.undo_types={link:"link",task:"task"},s.config.undo_actions={update:"update",remove:"remove",add:"add",move:"move"},s.ext||(s.ext={}),s.ext.undo={undo:function(){return c.undo()},redo:function(){return c.redo()},getUndoStack:function(){return c.getUndoStack()},setUndoStack:function(l){return c.setUndoStack(l)},getRedoStack:function(){return c.getRedoStack()},setRedoStack:function(l){return c.setRedoStack(l)},clearUndoStack:function(){return c.clearUndoStack()},clearRedoStack:function(){return c.clearRedoStack()},saveState:function(l,d){return i.store(l,d,!0)},getInitialState:function(l,d){return d===s.config.undo_types.link?i.getInitialLink(l):i.getInitialTask(l)}},s.undo=s.ext.undo.undo,s.redo=s.ext.undo.redo,s.getUndoStack=s.ext.undo.getUndoStack,s.getRedoStack=s.ext.undo.getRedoStack,s.clearUndoStack=s.ext.undo.clearUndoStack,s.clearRedoStack=s.ext.undo.clearRedoStack,s.attachEvent("onTaskIdChange",function(l,d){var f=c;o(f.getUndoStack(),l,d),o(f.getRedoStack(),l,d)}),s.attachEvent("onLinkIdChange",function(l,d){var f=c;a(f.getUndoStack(),l,d),a(f.getRedoStack(),l,d)}),s.attachEvent("onGanttReady",function(){c.updateConfigs()})}},function(A,E,h){Object.defineProperty(E,"__esModule",{value:!0});var _=h(1),u=function(){function s(c){this._gantt=c}return s.prototype.getNode=function(){var c=this._gantt;return this._tooltipNode||(this._tooltipNode=document.createElement("div"),this._tooltipNode.className="gantt_tooltip",c._waiAria.tooltipAttr(this._tooltipNode)),this._tooltipNode},s.prototype.setViewport=function(c){return this._root=c,this},s.prototype.show=function(c,i){var r=this._gantt,e=document.body,t=this.getNode();if(_.isChildOf(t,e)||(this.hide(),e.appendChild(t)),this._isLikeMouseEvent(c)){var n=this._calculateTooltipPosition(c);i=n.top,c=n.left}return t.style.top=i+"px",t.style.left=c+"px",r._waiAria.tooltipVisibleAttr(t),this},s.prototype.hide=function(){var c=this._gantt,i=this.getNode();return i&&i.parentNode&&i.parentNode.removeChild(i),c._waiAria.tooltipHiddenAttr(i),this},s.prototype.setContent=function(c){return this.getNode().innerHTML=c,this},s.prototype._isLikeMouseEvent=function(c){return!(!c||typeof c!="object")&&"clientX"in c&&"clientY"in c},s.prototype._getViewPort=function(){return this._root||document.body},s.prototype._calculateTooltipPosition=function(c){var i=this._gantt,r=this._getViewPortSize(),e=this.getNode(),t={top:0,left:0,width:e.offsetWidth,height:e.offsetHeight,bottom:0,right:0},n=i.config.tooltip_offset_x,o=i.config.tooltip_offset_y,a=document.body,l=_.getRelativeEventPosition(c,a),d=_.getNodePosition(a);l.y+=d.y,t.top=l.y,t.left=l.x,t.top+=o,t.left+=n,t.bottom=t.top+t.height,t.right=t.left+t.width;var f=window.scrollY+a.scrollTop;return t.top<r.top-f?(t.top=r.top,t.bottom=t.top+t.height):t.bottom>r.bottom&&(t.bottom=r.bottom,t.top=t.bottom-t.height),t.left<r.left?(t.left=r.left,t.right=r.left+t.width):t.right>r.right&&(t.right=r.right,t.left=t.right-t.width),l.x>=t.left&&l.x<=t.right&&(t.left=l.x-t.width-n,t.right=t.left+t.width),l.y>=t.top&&l.y<=t.bottom&&(t.top=l.y-t.height-o,t.bottom=t.top+t.height),t},s.prototype._getViewPortSize=function(){var c,i=this._gantt,r=this._getViewPort(),e=r,t=window.scrollY+document.body.scrollTop,n=window.scrollX+document.body.scrollLeft;return r===i.$task_data?(e=i.$task,t=0,n=0,c=_.getNodePosition(i.$task)):c=_.getNodePosition(e),{left:c.x+n,top:c.y+t,width:c.width,height:c.height,bottom:c.y+c.height+t,right:c.x+c.width+n}},s}();E.Tooltip=u},function(A,E,h){Object.defineProperty(E,"__esModule",{value:!0});var _=h(51),u=h(1),s=h(2),c=h(254),i=function(){function r(e){this._listeners={},this.tooltip=new c.Tooltip(e),this._gantt=e,this._domEvents=_(),this._initDelayedFunctions()}return r.prototype.destructor=function(){this.tooltip.hide(),this._domEvents.detachAll()},r.prototype.hideTooltip=function(){this.delayHide()},r.prototype.attach=function(e){var t=this,n=document.body,o=this._gantt;e.global||(n=o.$root);var a=null,l=function(d){var f=u.getTargetNode(d),g=u.closest(f,e.selector);if(!u.isChildOf(f,t.tooltip.getNode())){var p=function(){a=g,e.onmouseenter(d,g)};a?g&&g===a?e.onmousemove(d,g):(e.onmouseleave(d,a),a=null,g&&g!==a&&p()):g&&p()}};this.detach(e.selector),this._domEvents.attach(n,"mousemove",l),this._listeners[e.selector]={node:n,handler:l}},r.prototype.detach=function(e){var t=this._listeners[e];t&&this._domEvents.detach(t.node,"mousemove",t.handler)},r.prototype.tooltipFor=function(e){var t=this,n=function(o){var a=o;return document.createEventObject&&!document.createEvent&&(a=document.createEventObject(o)),a};this._initDelayedFunctions(),this.attach({selector:e.selector,global:e.global,onmouseenter:function(o,a){var l=e.html(o,a);l&&t.delayShow(n(o),l)},onmousemove:function(o,a){var l=e.html(o,a);l?t.delayShow(n(o),l):(t.delayShow.$cancelTimeout(),t.delayHide())},onmouseleave:function(){t.delayShow.$cancelTimeout(),t.delayHide()}})},r.prototype._initDelayedFunctions=function(){var e=this,t=this._gantt;this.delayShow&&this.delayShow.$cancelTimeout(),this.delayHide&&this.delayHide.$cancelTimeout(),this.tooltip.hide(),this.delayShow=s.delay(function(n,o){t.callEvent("onBeforeTooltip",[n])===!1?e.tooltip.hide():(e.tooltip.setContent(o),e.tooltip.show(n))},t.config.tooltip_timeout||1),this.delayHide=s.delay(function(){e.delayShow.$cancelTimeout(),e.tooltip.hide()},t.config.tooltip_hide_timeout||1)},r}();E.TooltipManager=i},function(A,E,h){Object.defineProperty(E,"__esModule",{value:!0});var _=h(255);E.default=function(u){u.config.tooltip_timeout=30,u.config.tooltip_offset_y=20,u.config.tooltip_offset_x=10,u.config.tooltip_hide_timeout=30;var s=new _.TooltipManager(u);u.ext.tooltips=s,u.attachEvent("onGanttReady",function(){s.tooltipFor({selector:"["+u.config.task_attribute+"]:not(.gantt_task_row)",html:function(c){if(!u.config.touch||u.config.touch_tooltip){var i=u.locate(c);if(u.isTaskExists(i)){var r=u.getTask(i);return u.templates.tooltip_text(r.start_date,r.end_date,r)}return null}},global:!1})}),u.attachEvent("onDestroy",function(){s.destructor()}),u.attachEvent("onLightbox",function(){s.hideTooltip()}),u.attachEvent("onBeforeTooltip",function(){if(u.getState().link_source_id)return!1}),u.attachEvent("onGanttScroll",function(){s.hideTooltip()})}},function(A,E,h){Object.defineProperty(E,"__esModule",{value:!0});var _=function(){function u(s){var c=this;this.show=function(i,r){r===void 0?c._showForTask(i):c._showAtCoordinates(i,r)},this.hide=function(i){var r=c._gantt,e=c._quickInfoBox;c._quickInfoBoxId=0;var t=c._quickInfoTask;if(c._quickInfoTask=null,e&&e.parentNode){if(r.config.quick_info_detached)return r.callEvent("onAfterQuickInfo",[t]),e.parentNode.removeChild(e);e.className+=" gantt_qi_hidden",e.style.right==="auto"?e.style.left="-350px":e.style.right="-350px",i&&(e.style.left=e.style.right="",e.parentNode.removeChild(e)),r.callEvent("onAfterQuickInfo",[t])}},this.getNode=function(){return c._quickInfoBox?c._quickInfoBox:null},this.setContainer=function(i){i&&(c._container=typeof i=="string"?document.getElementById(i):i)},this.setContent=function(i){var r=c._gantt,e={taskId:null,header:{title:"",date:""},content:"",buttons:r.config.quickinfo_buttons};i||(i=e),i.taskId||(i.taskId=e.taskId),i.header||(i.header=e.header),i.header.title||(i.header.title=e.header.title),i.header.date||(i.header.date=e.header.date),i.content||(i.content=e.content),i.buttons||(i.buttons=e.buttons);var t=c.getNode();t||(t=c._createQuickInfoElement()),i.taskId&&(c._quickInfoBoxId=i.taskId);var n=t.querySelector(".gantt_cal_qi_title"),o=n.querySelector(".gantt_cal_qi_tcontent"),a=n.querySelector(".gantt_cal_qi_tdate"),l=t.querySelector(".gantt_cal_qi_content"),d=t.querySelector(".gantt_cal_qi_controls");r._waiAria.quickInfoHeader(t,[i.header.title,i.header.date].join(" ")),o.innerHTML=i.header.title,a.innerHTML=i.header.date,i.header.title||i.header.date?n.style.display="":n.style.display="none",l.innerHTML=i.content;var f=i.buttons;f.length?d.style.display="":d.style.display="none";for(var g="",p=0;p<f.length;p++){var m=r._waiAria.quickInfoButtonAttrString(r.locale.labels[f[p]]);g+='<div class="gantt_qi_big_icon '+f[p]+'" title="'+r.locale.labels[f[p]]+'" '+m+"><div class='gantt_menu_icon "+f[p]+"'></div><div>"+r.locale.labels[f[p]]+"</div></div>"}d.innerHTML=g,r.eventRemove(t,"click",c._qiButtonClickHandler),r.eventRemove(t,"keypress",c._qiKeyPressHandler),r.event(t,"click",c._qiButtonClickHandler),r.event(t,"keypress",c._qiKeyPressHandler)},this._qiButtonClickHandler=function(i){i=i||event,c._qi_button_click(i.target||i.srcElement)},this._qiKeyPressHandler=function(i){var r=(i=i||event).which||event.keyCode;r!==13&&r!==32||setTimeout(function(){c._qi_button_click(i.target||i.srcElement)},1)},this._gantt=s}return u.prototype._showAtCoordinates=function(s,c){this.hide(!0),this._quickInfoBoxId=0,this._quickInfoTask=null,this._quickInfoBox||(this._createQuickInfoElement(),this.setContent()),this._appendAtCoordinates(s,c),this._gantt.callEvent("onQuickInfo",[null])},u.prototype._showForTask=function(s){var c=this._gantt;if((s!==this._quickInfoBoxId||!c.utils.dom.isChildOf(this._quickInfoBox,document.body))&&c.config.show_quick_info){this.hide(!0);var i=this._getContainer(),r=this._get_event_counter_part(s,6,i.xViewport,i.yViewport);r&&(this._quickInfoBox=this._init_quick_info(s),this._quickInfoTask=s,this._quickInfoBox.className=this._prepare_quick_info_classname(s),this._fill_quick_data(s),this._show_quick_info(r,6),c.callEvent("onQuickInfo",[s]))}},u.prototype._get_event_counter_part=function(s,c,i,r){var e=this._gantt,t=e.getTaskNode(s);if(!t&&!(t=e.getTaskRowNode(s)))return null;var n=0,o=c+t.offsetTop+t.offsetHeight,a=t;if(e.utils.dom.isChildOf(a,i))for(;a&&a!==i;)n+=a.offsetLeft,a=a.offsetParent;var l=e.getScrollState();return a?{left:n,top:o,dx:n+t.offsetWidth/2-l.x>i.offsetWidth/2?1:0,dy:o+t.offsetHeight/2-l.y>r.offsetHeight/2?1:0,width:t.offsetWidth,height:t.offsetHeight}:null},u.prototype._createQuickInfoElement=function(){var s=this,c=this._gantt,i=document.createElement("div");i.className+="gantt_cal_quick_info",c._waiAria.quickInfoAttr(i);var r='<div class="gantt_cal_qi_title" '+c._waiAria.quickInfoHeaderAttrString()+'><div class="gantt_cal_qi_tcontent"></div><div  class="gantt_cal_qi_tdate"></div></div><div class="gantt_cal_qi_content"></div>';if(r+='<div class="gantt_cal_qi_controls">',r+="</div>",i.innerHTML=r,c.config.quick_info_detached){var e=this._getContainer();c.event(e.parent,"scroll",function(){s.hide()})}return this._quickInfoBox=i,i},u.prototype._init_quick_info=function(s){var c=this._gantt,i=c.getTask(s);return typeof this._quickInfoReadonly=="boolean"&&c.isReadonly(i)!==this._quickInfoReadonly&&(this.hide(!0),this._quickInfoBox=null),this._quickInfoReadonly=c.isReadonly(i),this._quickInfoBox||(this._quickInfoBox=this._createQuickInfoElement()),this._quickInfoBox},u.prototype._prepare_quick_info_classname=function(s){var c=this._gantt,i=c.getTask(s),r="gantt_cal_quick_info",e=c.templates.quick_info_class(i.start_date,i.end_date,i);return e&&(r+=" "+e),r},u.prototype._fill_quick_data=function(s){var c=this._gantt,i=c.getTask(s);this._quickInfoBoxId=s;var r=[];if(this._quickInfoReadonly)for(var e=c.config.quickinfo_buttons,t={icon_delete:!0,icon_edit:!0},n=0;n<e.length;n++)this._quickInfoReadonly&&t[e[n]]||r.push(e[n]);else r=c.config.quickinfo_buttons;this.setContent({header:{title:c.templates.quick_info_title(i.start_date,i.end_date,i),date:c.templates.quick_info_date(i.start_date,i.end_date,i)},content:c.templates.quick_info_content(i.start_date,i.end_date,i),buttons:r})},u.prototype._appendAtCoordinates=function(s,c){var i=this._quickInfoBox,r=this._getContainer();i.parentNode&&i.parentNode.nodeName.toLowerCase()!=="#document-fragment"||r.parent.appendChild(i),i.style.left=s+"px",i.style.top=c+"px"},u.prototype._show_quick_info=function(s,c){var i=this._gantt,r=this._quickInfoBox;if(i.config.quick_info_detached){var e=this._getContainer();r.parentNode&&r.parentNode.nodeName.toLowerCase()!=="#document-fragment"||e.parent.appendChild(r);var t=r.offsetWidth,n=r.offsetHeight,o=i.getScrollState(),a=e.xViewport,l=e.yViewport,d=a.offsetWidth+o.x-t,f=s.top-o.y+n,g=s.top;f>l.offsetHeight/2&&(g=s.top-(n+s.height+2*c))<o.y&&f<=l.offsetHeight&&(g=s.top),g<o.y&&(g=o.y);var p=Math.min(Math.max(o.x,s.left-s.dx*(t-s.width)),d),m=g;this._appendAtCoordinates(p,m)}else r.style.top="20px",s.dx===1?(r.style.right="auto",r.style.left="-300px",setTimeout(function(){r.style.left="10px"},1)):(r.style.left="auto",r.style.right="-300px",setTimeout(function(){r.style.right="10px"},1)),r.className+=" gantt_qi_"+(s.dx===1?"left":"right"),i.$root.appendChild(r)},u.prototype._qi_button_click=function(s){var c=this._gantt,i=this._quickInfoBox;if(s&&s!==i){var r=s.className;if(r.indexOf("_icon")!==-1){var e=this._quickInfoBoxId;c.$click.buttons[r.split(" ")[1].replace("icon_","")](e)}else this._qi_button_click(s.parentNode)}},u.prototype._getContainer=function(){var s=this._gantt,c=this._container?this._container:s.$task_data;return c&&c.offsetHeight&&c.offsetWidth?{parent:c,xViewport:s.$task,yViewport:s.$task_data}:(c=this._container?this._container:s.$grid_data)&&c.offsetHeight&&c.offsetWidth?{parent:c,xViewport:s.$grid,yViewport:s.$grid_data}:{parent:this._container?this._container:s.$layout,xViewport:s.$layout,yViewport:s.$layout}},u}();E.QuickInfo=_},function(A,E,h){Object.defineProperty(E,"__esModule",{value:!0});var _=h(257);E.default=function(u){u.ext||(u.ext={}),u.ext.quickInfo=new _.QuickInfo(u),u.config.quickinfo_buttons=["icon_delete","icon_edit"],u.config.quick_info_detached=!0,u.config.show_quick_info=!0,u.templates.quick_info_title=function(e,t,n){return n.text.substr(0,50)},u.templates.quick_info_content=function(e,t,n){return n.details||n.text},u.templates.quick_info_date=function(e,t,n){return u.templates.task_time(e,t,n)},u.templates.quick_info_class=function(e,t,n){return""},u.attachEvent("onTaskClick",function(e,t){return u.utils.dom.closest(t.target,".gantt_add")||setTimeout(function(){u.ext.quickInfo.show(e)},0),!0});for(var s=["onViewChange","onLightbox","onBeforeTaskDelete","onBeforeDrag"],c=function(){return u.ext.quickInfo.hide(),!0},i=0;i<s.length;i++)u.attachEvent(s[i],c);function r(){return u.ext.quickInfo.hide(),u.ext.quickInfo._quickInfoBox=null,!0}u.attachEvent("onEmptyClick",function(e){var t=!0,n=document.querySelector(".gantt_cal_quick_info");n&&u.utils.dom.isChildOf(e.target,n)&&(t=!1),t&&c()}),u.attachEvent("onGanttReady",r),u.attachEvent("onDestroy",r),u.event(window,"keydown",function(e){e.keyCode===27&&u.ext.quickInfo.hide()})}},function(A,E,h){var _=h(2).replaceValidZeroId;A.exports=function(u){u.config.multiselect=!0,u.config.multiselect_one_level=!1,u._multiselect={_selected:{},_one_level:!1,_active:!0,_first_selected_when_shift:null,getDefaultSelected:function(){var s=this.getSelected();return s.length?s[s.length-1]:null},setFirstSelected:function(s){this._first_selected_when_shift=s},getFirstSelected:function(){return this._first_selected_when_shift},isActive:function(){return this.updateState(),this._active},updateState:function(){this._one_level=u.config.multiselect_one_level;var s=this._active;this._active=u.config.select_task,this._active!=s&&this.reset()},reset:function(){this._selected={}},setLastSelected:function(s){u.$data.tasksStore.silent(function(){var c=u.$data.tasksStore;s?c.select(s+""):c.unselect(null)})},getLastSelected:function(){var s=u.$data.tasksStore.getSelectedId();return s&&u.isTaskExists(s)?s:null},select:function(s,c){return!!(s&&u.callEvent("onBeforeTaskMultiSelect",[s,!0,c])&&u.callEvent("onBeforeTaskSelected",[s]))&&(this._selected[s]=!0,this.setLastSelected(s),this.afterSelect(s),u.callEvent("onTaskMultiSelect",[s,!0,c]),u.callEvent("onTaskSelected",[s]),!0)},toggle:function(s,c){this._selected[s]?this.unselect(s,c):this.select(s,c)},unselect:function(s,c){s&&u.callEvent("onBeforeTaskMultiSelect",[s,!1,c])&&(this._selected[s]=!1,this.getLastSelected()==s&&this.setLastSelected(this.getDefaultSelected()),this.afterSelect(s),u.callEvent("onTaskMultiSelect",[s,!1,c]),u.callEvent("onTaskUnselected",[s]))},isSelected:function(s){return!(!u.isTaskExists(s)||!this._selected[s])},getSelected:function(){var s=[];for(var c in this._selected)this._selected[c]&&u.isTaskExists(c)?s.push(c):this._selected[c]=!1;return s.sort(function(i,r){return u.getGlobalTaskIndex(i)>u.getGlobalTaskIndex(r)?1:-1}),s},forSelected:function(s){for(var c=this.getSelected(),i=0;i<c.length;i++)s(c[i])},isSameLevel:function(s){if(!this._one_level)return!0;var c=this.getLastSelected();return!c||!u.isTaskExists(c)||!u.isTaskExists(s)||u.calculateTaskLevel(u.getTask(c))==u.calculateTaskLevel(u.getTask(s))},afterSelect:function(s){u.isTaskExists(s)&&u._quickRefresh(function(){u.refreshTask(s)})},doSelection:function(s){if(!this.isActive()||u._is_icon_open_click(s))return!1;var c=u.locate(s);if(!c||!u.callEvent("onBeforeMultiSelect",[s]))return!1;var i=this.getSelected(),r=this.getFirstSelected(),e=!1,t=this.getLastSelected(),n=u.config.multiselect,o=(function(){var l=u.ext.inlineEditors,d=l.getState(),f=l.locateCell(s.target);u.config.inline_editors_multiselect_open&&f&&l.getEditorConfig(f.columnName)&&(l.isVisible()&&d.id==f.id&&d.columnName==f.columnName||l.startEdit(f.id,f.columnName)),this.setFirstSelected(c),this.isSelected(c)||this.select(c,s),i=this.getSelected();for(var g=0;g<i.length;g++)i[g]!==c&&this.unselect(i[g],s)}).bind(this),a=(function(){if(t){if(c){for(var l=u.getGlobalTaskIndex(this.getFirstSelected()),d=u.getGlobalTaskIndex(c),f=u.getGlobalTaskIndex(t),g=t;u.getGlobalTaskIndex(g)!==l;)this.unselect(g,s),g=l>f?u.getNext(g):u.getPrev(g);for(g=c;u.getGlobalTaskIndex(g)!==l;)this.select(g,s)&&!e&&(e=!0,r=g),g=l>d?u.getNext(g):u.getPrev(g)}}else t=c}).bind(this);return n&&(s.ctrlKey||s.metaKey)?(this.isSelected(c)||this.setFirstSelected(c),c&&this.toggle(c,s)):n&&s.shiftKey?(u.isTaskExists(this.getFirstSelected())&&this.getFirstSelected()!==null||this.setFirstSelected(c),i.length?a():o()):o(),this.isSelected(c)?this.setLastSelected(c):r?c==t&&this.setLastSelected(s.shiftKey?r:this.getDefaultSelected()):this.setLastSelected(null),this.getSelected().length||this.setLastSelected(null),this.getLastSelected()&&this.isSelected(this.getFirstSelected())||this.setFirstSelected(this.getLastSelected()),!0}},function(){var s=u.selectTask;u.selectTask=function(i){if(!(i=_(i,this.config.root_id)))return!1;var r=u._multiselect,e=i;return r.isActive()?(r.select(i,null)&&r.setLastSelected(i),r.setFirstSelected(r.getLastSelected())):e=s.call(this,i),e};var c=u.unselectTask;u.unselectTask=function(i){var r=u._multiselect,e=r.isActive();(i=i||r.getLastSelected())&&e&&(r.unselect(i,null),i==r.getLastSelected()&&r.setLastSelected(null),u.refreshTask(i),r.setFirstSelected(r.getLastSelected()));var t=i;return e||(t=c.call(this,i)),t},u.toggleTaskSelection=function(i){var r=u._multiselect;i&&r.isActive()&&(r.toggle(i),r.setFirstSelected(r.getLastSelected()))},u.getSelectedTasks=function(){var i=u._multiselect;return i.isActive(),i.getSelected()},u.eachSelectedTask=function(i){return this._multiselect.forSelected(i)},u.isSelectedTask=function(i){return this._multiselect.isSelected(i)},u.getLastSelectedTask=function(){return this._multiselect.getLastSelected()},u.attachEvent("onGanttReady",function(){var i=u.$data.tasksStore.isSelected;u.$data.tasksStore.isSelected=function(r){return u._multiselect.isActive()?u._multiselect.isSelected(r):i.call(this,r)}})}(),u.attachEvent("onTaskIdChange",function(s,c){var i=u._multiselect;if(!i.isActive())return!0;u.isSelectedTask(s)&&(i.unselect(s,null),i.select(c,null))}),u.attachEvent("onAfterTaskDelete",function(s,c){var i=u._multiselect;if(!i.isActive())return!0;i._selected[s]&&(i.unselect(s,null),i._selected[s]=!1,i.setLastSelected(i.getDefaultSelected())),i.forSelected(function(r){u.isTaskExists(r)||i.unselect(r,null)})}),u.attachEvent("onBeforeTaskMultiSelect",function(s,c,i){var r=u._multiselect;return!(c&&r.isActive()&&r._one_level)||r.isSameLevel(s)}),u.attachEvent("onTaskClick",function(s,c){return u._multiselect.doSelection(c)&&u.callEvent("onMultiSelect",[c]),!0})}},function(A,E){A.exports=function(h){function _(s){if(!h.config.show_markers||!s.start_date)return!1;var c=h.getState();if(!(+s.start_date>+c.max_date||(!s.end_date||+s.end_date<+c.min_date)&&+s.start_date<+c.min_date)){var i=document.createElement("div");i.setAttribute("data-marker-id",s.id);var r="gantt_marker";h.templates.marker_class&&(r+=" "+h.templates.marker_class(s)),s.css&&(r+=" "+s.css),s.title&&(i.title=s.title),i.className=r;var e=h.posFromDate(s.start_date);i.style.left=e+"px";var t=Math.max(h.getRowTop(h.getVisibleTaskCount()),0)+"px";if(h.config.timeline_placeholder&&(t=h.$container.scrollHeight+"px"),i.style.height=t,s.end_date){var n=h.posFromDate(s.end_date);i.style.width=Math.max(n-e,0)+"px"}return s.text&&(i.innerHTML="<div class='gantt_marker_content' >"+s.text+"</div>"),i}}function u(){if(h.$task_data){var s=document.createElement("div");s.className="gantt_marker_area",h.$task_data.appendChild(s),h.$marker_area=s}}h._markers||(h._markers=h.createDatastore({name:"marker",initItem:function(s){return s.id=s.id||h.uid(),s}})),h.config.show_markers=!0,h.attachEvent("onBeforeGanttRender",function(){h.$marker_area||u()}),h.attachEvent("onDataRender",function(){h.$marker_area||(u(),h.renderMarkers())}),h.attachEvent("onGanttLayoutReady",function(){h.attachEvent("onBeforeGanttRender",function(){u(),h.$services.getService("layers").createDataRender({name:"marker",defaultContainer:function(){return h.$marker_area}}).addLayer(_)},{once:!0})}),h.getMarker=function(s){return this._markers?this._markers.getItem(s):null},h.addMarker=function(s){return this._markers.addItem(s)},h.deleteMarker=function(s){return!!this._markers.exists(s)&&(this._markers.removeItem(s),!0)},h.updateMarker=function(s){this._markers.refresh(s)},h._getMarkers=function(){return this._markers.getItems()},h.renderMarkers=function(){this._markers.refresh()}}},function(A,E){A.exports=function(h){h.$keyboardNavigation.dispatcher={isActive:!1,activeNode:null,globalNode:new h.$keyboardNavigation.GanttNode,enable:function(){this.isActive=!0,this.setActiveNode(this.getActiveNode())},disable:function(){this.isActive=!1},isEnabled:function(){return!!this.isActive},getDefaultNode:function(){var _;return(_=h.config.keyboard_navigation_cells?new h.$keyboardNavigation.TaskCell:new h.$keyboardNavigation.TaskRow).isValid()||(_=_.fallback()),_},setDefaultNode:function(){this.setActiveNode(this.getDefaultNode())},getActiveNode:function(){var _=this.activeNode;return _&&!_.isValid()&&(_=_.fallback()),_},fromDomElement:function(_){for(var u=[h.$keyboardNavigation.TaskRow,h.$keyboardNavigation.TaskCell,h.$keyboardNavigation.HeaderCell],s=0;s<u.length;s++)if(u[s].prototype.fromDomElement){var c=u[s].prototype.fromDomElement(_);if(c)return c}return null},focusGlobalNode:function(){this.blurNode(this.globalNode),this.focusNode(this.globalNode)},setActiveNode:function(_){var u=!0;this.activeNode&&this.activeNode.compareTo(_)&&(u=!1),this.isEnabled()&&(u&&this.blurNode(this.activeNode),this.activeNode=_,this.focusNode(this.activeNode,!u))},focusNode:function(_,u){_&&_.focus&&_.focus(u)},blurNode:function(_){_&&_.blur&&_.blur()},keyDownHandler:function(_){if(!h.$keyboardNavigation.isModal()&&this.isEnabled()&&!_.defaultPrevented){var u=this.globalNode,s=h.$keyboardNavigation.shortcuts.getCommandFromEvent(_),c=this.getActiveNode();h.$keyboardNavigation.facade.callEvent("onKeyDown",[s,_])!==!1&&(c?c.findHandler(s)?c.doAction(s,_):u.findHandler(s)&&u.doAction(s,_):this.setDefaultNode())}},_timeout:null,awaitsFocus:function(){return this._timeout!==null},delay:function(_,u){clearTimeout(this._timeout),this._timeout=setTimeout(h.bind(function(){this._timeout=null,_()},this),u||1)},clearDelay:function(){clearTimeout(this._timeout)}}}},function(A,E){A.exports=function(h){(function(){var _=[];function u(){return!!_.length}function s(n){setTimeout(function(){u()||h.$destroyed||h.focus()},1)}function c(n){h.eventRemove(n,"keydown",r),h.event(n,"keydown",r),_.push(n)}function i(){var n=_.pop();n&&h.eventRemove(n,"keydown",r),s()}function r(n){var o=n.currentTarget;(function(a){return a==_[_.length-1]})(o)&&h.$keyboardNavigation.trapFocus(o,n)}function e(){c(h.getLightbox())}h.attachEvent("onLightbox",e),h.attachEvent("onAfterLightbox",i),h.attachEvent("onLightboxChange",function(){i(),e()}),h.attachEvent("onAfterQuickInfo",function(){s()}),h.attachEvent("onMessagePopup",function(n){t=h.utils.dom.getActiveElement(),c(n)}),h.attachEvent("onAfterMessagePopup",function(){i(),setTimeout(function(){t&&(t.focus(),t=null)},1)});var t=null;h.$keyboardNavigation.isModal=u})()}},function(A,E,h){A.exports=function(_){var u=h(1),s=h(2).replaceValidZeroId;_.$keyboardNavigation.TaskCell=function(c,i){if(!(c=s(c,_.config.root_id))){var r=_.getChildren(_.config.root_id);r[0]&&(c=r[0])}this.taskId=c,this.columnIndex=i||0,_.isTaskExists(this.taskId)&&(this.index=_.getTaskIndex(this.taskId),this.globalIndex=_.getGlobalTaskIndex(this.taskId))},_.$keyboardNavigation.TaskCell.prototype=_._compose(_.$keyboardNavigation.TaskRow,{_handlers:null,isValid:function(){return _.$keyboardNavigation.TaskRow.prototype.isValid.call(this)&&!!_.getGridColumns()[this.columnIndex]},fallback:function(){var c=_.$keyboardNavigation.TaskRow.prototype.fallback.call(this),i=c;if(c instanceof _.$keyboardNavigation.TaskRow){for(var r=_.getGridColumns(),e=this.columnIndex;e>=0&&!r[e];)e--;r[e]&&(i=new _.$keyboardNavigation.TaskCell(c.taskId,e))}return i},fromDomElement:function(c){if(!_.config.keyboard_navigation_cells)return null;var i=_.locate(c);if(_.isTaskExists(i)){var r=0,e=u.locateAttribute(c,"data-column-index");return e&&(r=1*e.getAttribute("data-column-index")),new _.$keyboardNavigation.TaskCell(i,r)}return null},getNode:function(){if(_.isTaskExists(this.taskId)&&_.isTaskVisible(this.taskId)){if(_.config.show_grid){var c=_.$grid.querySelector(".gantt_row["+_.config.task_attribute+"='"+this.taskId+"']");return c?c.querySelector("[data-column-index='"+this.columnIndex+"']"):null}return _.getTaskNode(this.taskId)}},keys:{up:function(){var c=null,i=_.getPrev(this.taskId);c=_.isTaskExists(i)?new _.$keyboardNavigation.TaskCell(i,this.columnIndex):new _.$keyboardNavigation.HeaderCell(this.columnIndex),this.moveTo(c)},down:function(){var c=_.getNext(this.taskId);_.isTaskExists(c)&&this.moveTo(new _.$keyboardNavigation.TaskCell(c,this.columnIndex))},left:function(){this.columnIndex>0&&this.moveTo(new _.$keyboardNavigation.TaskCell(this.taskId,this.columnIndex-1))},right:function(){var c=_.getGridColumns();this.columnIndex<c.length-1&&this.moveTo(new _.$keyboardNavigation.TaskCell(this.taskId,this.columnIndex+1))},end:function(){var c=_.getGridColumns();this.moveTo(new _.$keyboardNavigation.TaskCell(this.taskId,c.length-1))},home:function(){this.moveTo(new _.$keyboardNavigation.TaskCell(this.taskId,0))},pagedown:function(){_.getVisibleTaskCount()&&this.moveTo(new _.$keyboardNavigation.TaskCell(_.getTaskByIndex(_.getVisibleTaskCount()-1).id,this.columnIndex))},pageup:function(){_.getVisibleTaskCount()&&this.moveTo(new _.$keyboardNavigation.TaskCell(_.getTaskByIndex(0).id,this.columnIndex))}}}),_.$keyboardNavigation.TaskCell.prototype.bindAll(_.$keyboardNavigation.TaskRow.prototype.keys),_.$keyboardNavigation.TaskCell.prototype.bindAll(_.$keyboardNavigation.TaskCell.prototype.keys)}},function(A,E){A.exports=function(h){h.$keyboardNavigation.TaskRow=function(_){if(!_){var u=h.getChildren(h.config.root_id);u[0]&&(_=u[0])}this.taskId=_,h.isTaskExists(this.taskId)&&(this.index=h.getTaskIndex(this.taskId),this.globalIndex=h.getGlobalTaskIndex(this.taskId))},h.$keyboardNavigation.TaskRow.prototype=h._compose(h.$keyboardNavigation.KeyNavNode,{_handlers:null,isValid:function(){return h.isTaskExists(this.taskId)&&h.getTaskIndex(this.taskId)>-1},fallback:function(){if(!h.getVisibleTaskCount()){var _=new h.$keyboardNavigation.HeaderCell;return _.isValid()?_:null}var u=-1;if(h.getTaskByIndex(this.globalIndex-1))u=this.globalIndex-1;else if(h.getTaskByIndex(this.globalIndex+1))u=this.globalIndex+1;else for(var s=this.globalIndex;s>=0;){if(h.getTaskByIndex(s)){u=s;break}s--}if(u>-1)return new h.$keyboardNavigation.TaskRow(h.getTaskByIndex(u).id)},fromDomElement:function(_){if(h.config.keyboard_navigation_cells)return null;var u=h.locate(_);return h.isTaskExists(u)?new h.$keyboardNavigation.TaskRow(u):null},getNode:function(){if(h.isTaskExists(this.taskId)&&h.isTaskVisible(this.taskId))return h.config.show_grid?h.$grid.querySelector(".gantt_row["+h.config.task_attribute+"='"+this.taskId+"']"):h.getTaskNode(this.taskId)},focus:function(_){if(!_){var u,s,c=h.getTaskPosition(h.getTask(this.taskId)),i=h.getTaskHeight(this.taskId),r=h.getScrollState();u=h.$task?h.$task.offsetWidth:r.inner_width,s=h.$grid_data||h.$task_data?(h.$grid_data||h.$task_data).offsetHeight:r.inner_height,c.top<r.y||c.top+i>r.y+s?h.scrollTo(null,c.top-5*i):h.config.scroll_on_click&&h.config.show_chart&&(c.left>r.x+u?h.scrollTo(c.left-h.config.task_scroll_offset):c.left+c.width<r.x&&h.scrollTo(c.left+c.width-h.config.task_scroll_offset))}h.$keyboardNavigation.KeyNavNode.prototype.focus.apply(this,[_]),function(){var e=h.$ui.getView("grid"),t=parseInt(e.$grid.scrollLeft),n=parseInt(e.$grid_data.scrollTop),o=e.$config.scrollX;if(o&&e.$config.scrollable){var a=h.$ui.getView(o);a&&a.scrollTo(t,n)}var l=e.$config.scrollY;if(l){var d=h.$ui.getView(l);d&&d.scrollTo(t,n)}}()},keys:{pagedown:function(){h.getVisibleTaskCount()&&this.moveTo(new h.$keyboardNavigation.TaskRow(h.getTaskByIndex(h.getVisibleTaskCount()-1).id))},pageup:function(){h.getVisibleTaskCount()&&this.moveTo(new h.$keyboardNavigation.TaskRow(h.getTaskByIndex(0).id))},up:function(){var _=null,u=h.getPrev(this.taskId);_=h.isTaskExists(u)?new h.$keyboardNavigation.TaskRow(u):new h.$keyboardNavigation.HeaderCell,this.moveTo(_)},down:function(){var _=h.getNext(this.taskId);h.isTaskExists(_)&&this.moveTo(new h.$keyboardNavigation.TaskRow(_))},"shift+down":function(){h.hasChild(this.taskId)&&!h.getTask(this.taskId).$open&&h.open(this.taskId)},"shift+up":function(){h.hasChild(this.taskId)&&h.getTask(this.taskId).$open&&h.close(this.taskId)},"shift+right":function(){if(!h.isReadonly(this)){var _=h.getPrevSibling(this.taskId);h.isTaskExists(_)&&!h.isChildOf(this.taskId,_)&&(h.getTask(_).$open=!0,h.moveTask(this.taskId,-1,_)!==!1&&h.updateTask(this.taskId))}},"shift+left":function(){if(!h.isReadonly(this)){var _=h.getParent(this.taskId);h.isTaskExists(_)&&h.moveTask(this.taskId,h.getTaskIndex(_)+1,h.getParent(_))!==!1&&h.updateTask(this.taskId)}},space:function(_){h.isSelectedTask(this.taskId)?h.unselectTask(this.taskId):h.selectTask(this.taskId)},"ctrl+left":function(_){h.close(this.taskId)},"ctrl+right":function(_){h.open(this.taskId)},delete:function(_){h.isReadonly(this)||h.$click.buttons.delete(this.taskId)},enter:function(){h.isReadonly(this)||h.showLightbox(this.taskId)},"ctrl+enter":function(){h.isReadonly(this)||h.createTask({},this.taskId)}}}),h.$keyboardNavigation.TaskRow.prototype.bindAll(h.$keyboardNavigation.TaskRow.prototype.keys)}},function(A,E,h){A.exports=function(_){var u=h(1);_.$keyboardNavigation.HeaderCell=function(s){this.index=s||0},_.$keyboardNavigation.HeaderCell.prototype=_._compose(_.$keyboardNavigation.KeyNavNode,{_handlers:null,isValid:function(){return!(!_.config.show_grid&&_.getVisibleTaskCount())&&(!!_.getGridColumns()[this.index]||!_.getVisibleTaskCount())},fallback:function(){if(!_.config.show_grid)return _.getVisibleTaskCount()?new _.$keyboardNavigation.TaskRow:null;for(var s=_.getGridColumns(),c=this.index;c>=0&&!s[c];)c--;return s[c]?new _.$keyboardNavigation.HeaderCell(c):null},fromDomElement:function(s){var c=u.locateClassName(s,"gantt_grid_head_cell");if(c){for(var i=0;c&&c.previousSibling;)c=c.previousSibling,i+=1;return new _.$keyboardNavigation.HeaderCell(i)}return null},getNode:function(){return _.$grid_scale.childNodes[this.index]},keys:{left:function(){this.index>0&&this.moveTo(new _.$keyboardNavigation.HeaderCell(this.index-1))},right:function(){var s=_.getGridColumns();this.index<s.length-1&&this.moveTo(new _.$keyboardNavigation.HeaderCell(this.index+1))},down:function(){var s,c=_.getChildren(_.config.root_id);_.isTaskExists(c[0])&&(s=c[0]),s&&(_.config.keyboard_navigation_cells?this.moveTo(new _.$keyboardNavigation.TaskCell(s,this.index)):this.moveTo(new _.$keyboardNavigation.TaskRow(s)))},end:function(){var s=_.getGridColumns();this.moveTo(new _.$keyboardNavigation.HeaderCell(s.length-1))},home:function(){this.moveTo(new _.$keyboardNavigation.HeaderCell(0))},"enter, space":function(){u.getActiveElement().click()},"ctrl+enter":function(){_.isReadonly(this)||_.createTask({},this.taskId)}}}),_.$keyboardNavigation.HeaderCell.prototype.bindAll(_.$keyboardNavigation.HeaderCell.prototype.keys)}},function(A,E){A.exports=function(h){h.$keyboardNavigation.KeyNavNode=function(){},h.$keyboardNavigation.KeyNavNode.prototype=h._compose(h.$keyboardNavigation.EventHandler,{isValid:function(){return!0},fallback:function(){return null},moveTo:function(_){h.$keyboardNavigation.dispatcher.setActiveNode(_)},compareTo:function(_){if(!_)return!1;for(var u in this){if(!!this[u]!=!!_[u])return!1;var s=!(!this[u]||!this[u].toString),c=!(!_[u]||!_[u].toString);if(c!=s)return!1;if(c&&s){if(_[u].toString()!=this[u].toString())return!1}else if(_[u]!=this[u])return!1}return!0},getNode:function(){},focus:function(){var _=this.getNode();if(_){var u=h.$keyboardNavigation.facade;u.callEvent("onBeforeFocus",[_])!==!1&&_&&(_.setAttribute("tabindex","-1"),_.$eventAttached||(_.$eventAttached=!0,h.event(_,"focus",function(s){return s.preventDefault(),!1},!1)),h.utils.dom.isChildOf(document.activeElement,_)&&(_=document.activeElement),_.focus&&_.focus(),u.callEvent("onFocus",[this.getNode()]))}},blur:function(){var _=this.getNode();_&&(h.$keyboardNavigation.facade.callEvent("onBlur",[_]),_.setAttribute("tabindex","-1"))}})}},function(A,E){A.exports=function(h){h.$keyboardNavigation.GanttNode=function(){},h.$keyboardNavigation.GanttNode.prototype=h._compose(h.$keyboardNavigation.EventHandler,{focus:function(){h.focus()},blur:function(){},isEnabled:function(){return h.$container.hasAttribute("tabindex")},scrollHorizontal:function(_){var u=h.dateFromPos(h.getScrollState().x),s=h.getScale(),c=_<0?-s.step:s.step;u=h.date.add(u,c,s.unit),h.scrollTo(h.posFromDate(u))},scrollVertical:function(_){var u=h.getScrollState().y,s=h.config.row_height;h.scrollTo(null,u+(_<0?-1:1)*s)},keys:{"alt+left":function(_){this.scrollHorizontal(-1)},"alt+right":function(_){this.scrollHorizontal(1)},"alt+up":function(_){this.scrollVertical(-1)},"alt+down":function(_){this.scrollVertical(1)},"ctrl+z":function(){h.undo&&h.undo()},"ctrl+r":function(){h.redo&&h.redo()}}}),h.$keyboardNavigation.GanttNode.prototype.bindAll(h.$keyboardNavigation.GanttNode.prototype.keys)}},function(A,E,h){A.exports=function(_){(function(){var u=h(1);_.$keyboardNavigation.getFocusableNodes=u.getFocusableNodes,_.$keyboardNavigation.trapFocus=function(s,c){if(c.keyCode!=9)return!1;for(var i=_.$keyboardNavigation.getFocusableNodes(s),r=u.getActiveElement(),e=-1,t=0;t<i.length;t++)if(i[t]==r){e=t;break}if(c.shiftKey){if(e<=0){var n=i[i.length-1];if(n)return n.focus(),c.preventDefault(),!0}}else if(e>=i.length-1){var o=i[0];if(o)return o.focus(),c.preventDefault(),!0}return!1}})()}},function(A,E){A.exports=function(h){h.$keyboardNavigation.EventHandler={_handlers:null,findHandler:function(_){this._handlers||(this._handlers={});var u=h.$keyboardNavigation.shortcuts.getHash(_);return this._handlers[u]},doAction:function(_,u){var s=this.findHandler(_);if(s){if(h.$keyboardNavigation.facade.callEvent("onBeforeAction",[_,u])===!1)return;s.call(this,u),u.preventDefault?u.preventDefault():u.returnValue=!1}},bind:function(_,u){this._handlers||(this._handlers={});for(var s=h.$keyboardNavigation.shortcuts,c=s.parse(_),i=0;i<c.length;i++)this._handlers[s.getHash(c[i])]=u},unbind:function(_){for(var u=h.$keyboardNavigation.shortcuts,s=u.parse(_),c=0;c<s.length;c++)this._handlers[u.getHash(s[c])]&&delete this._handlers[u.getHash(s[c])]},bindAll:function(_){for(var u in _)this.bind(u,_[u])},initKeys:function(){this._handlers||(this._handlers={}),this.keys&&this.bindAll(this.keys)}}}},function(A,E){A.exports=function(h){h.$keyboardNavigation.shortcuts={createCommand:function(){return{modifiers:{shift:!1,alt:!1,ctrl:!1,meta:!1},keyCode:null}},parse:function(_){for(var u=[],s=this.getExpressions(this.trim(_)),c=0;c<s.length;c++){for(var i=this.getWords(s[c]),r=this.createCommand(),e=0;e<i.length;e++)this.commandKeys[i[e]]?r.modifiers[i[e]]=!0:this.specialKeys[i[e]]?r.keyCode=this.specialKeys[i[e]]:r.keyCode=i[e].charCodeAt(0);u.push(r)}return u},getCommandFromEvent:function(_){var u=this.createCommand();u.modifiers.shift=!!_.shiftKey,u.modifiers.alt=!!_.altKey,u.modifiers.ctrl=!!_.ctrlKey,u.modifiers.meta=!!_.metaKey,u.keyCode=_.which||_.keyCode,u.keyCode>=96&&u.keyCode<=105&&(u.keyCode-=48);var s=String.fromCharCode(u.keyCode);return s&&(u.keyCode=s.toLowerCase().charCodeAt(0)),u},getHashFromEvent:function(_){return this.getHash(this.getCommandFromEvent(_))},getHash:function(_){var u=[];for(var s in _.modifiers)_.modifiers[s]&&u.push(s);return u.push(_.keyCode),u.join(this.junctionChar)},getExpressions:function(_){return _.split(this.junctionChar)},getWords:function(_){return _.split(this.combinationChar)},trim:function(_){return _.replace(/\s/g,"")},junctionChar:",",combinationChar:"+",commandKeys:{shift:16,alt:18,ctrl:17,meta:!0},specialKeys:{backspace:8,tab:9,enter:13,esc:27,space:32,up:38,down:40,left:37,right:39,home:36,end:35,pageup:33,pagedown:34,delete:46,insert:45,plus:107,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123}}}},function(A,E,h){A.exports=function(_){var u=h(5);(function(s){s.config.keyboard_navigation=!0,s.config.keyboard_navigation_cells=!1,s.$keyboardNavigation={},s._compose=function(){for(var i=Array.prototype.slice.call(arguments,0),r={},e=0;e<i.length;e++){var t=i[e];for(var n in typeof t=="function"&&(t=new t),t)r[n]=t[n]}return r},h(270)(s),h(269)(s),h(268)(s),h(267)(s),h(266)(s),h(265)(s),h(264)(s),h(263)(s),h(262)(s),h(261)(s);var c=h(1);(function(){var i=s.$keyboardNavigation.dispatcher;i.isTaskFocused=function(v){var b=i.activeNode;return(b instanceof s.$keyboardNavigation.TaskRow||b instanceof s.$keyboardNavigation.TaskCell)&&b.taskId==v};var r=function(v){if(s.config.keyboard_navigation&&(s.config.keyboard_navigation_cells||!n(v))&&!o(v)&&!function(b){return!!c.closest(b.target,".gantt_cal_light")}(v))return i.keyDownHandler(v)},e=function(v){if(i.$preventDefault)return v.preventDefault(),s.$container.blur(),!1;i.awaitsFocus()||i.focusGlobalNode()},t=function(){if(i.isEnabled()){var v=!c.isChildOf(document.activeElement,s.$container)&&document.activeElement.localName!="body",b=i.getActiveNode();if(b&&!v){var k,$,w=b.getNode();w&&w.parentNode&&(k=w.parentNode.scrollTop,$=w.parentNode.scrollLeft),b.focus(!0),w&&w.parentNode&&(w.parentNode.scrollTop=k,w.parentNode.scrollLeft=$)}}};function n(v){return!!c.closest(v.target,".gantt_grid_editor_placeholder")}function o(v){return!!c.closest(v.target,".no_keyboard_navigation")}function a(v){if(!s.config.keyboard_navigation||!s.config.keyboard_navigation_cells&&n(v))return!0;if(!o(v)){var b,k=i.fromDomElement(v);k&&(i.activeNode instanceof s.$keyboardNavigation.TaskCell&&c.isChildOf(v.target,s.$task)&&(k=new s.$keyboardNavigation.TaskCell(k.taskId,i.activeNode.columnIndex)),b=k),b?i.isEnabled()?i.delay(function(){i.setActiveNode(b)}):i.activeNode=b:(i.$preventDefault=!0,setTimeout(function(){i.$preventDefault=!1},300))}}s.attachEvent("onDataRender",function(){s.config.keyboard_navigation&&t()}),s.attachEvent("onGanttRender",function(){s.eventRemove(s.$root,"keydown",r),s.eventRemove(s.$container,"focus",e),s.eventRemove(s.$container,"mousedown",a),s.config.keyboard_navigation?(s.event(s.$root,"keydown",r),s.event(s.$container,"focus",e),s.event(s.$container,"mousedown",a),s.$container.setAttribute("tabindex","0")):s.$container.removeAttribute("tabindex")});var l=s.attachEvent("onGanttReady",function(){if(s.detachEvent(l),s.$data.tasksStore.attachEvent("onStoreUpdated",function(b){if(s.config.keyboard_navigation&&i.isEnabled()){var k=i.getActiveNode();k&&k.taskId==b&&t()}}),s._smart_render){var v=s._smart_render._redrawTasks;s._smart_render._redrawTasks=function(b,k){if(s.config.keyboard_navigation&&i.isEnabled()){var $=i.getActiveNode();if($&&$.taskId!==void 0){for(var w=!1,x=0;x<k.length;x++)if(k[x].id==$.taskId&&k[x].start_date){w=!0;break}w||k.push(s.getTask($.taskId))}}return v.apply(this,arguments)}}}),d=null,f=!1;s.attachEvent("onTaskCreated",function(v){return d=v.id,!0}),s.attachEvent("onAfterTaskAdd",function(v,b){if(!s.config.keyboard_navigation)return!0;if(i.isEnabled()){if(v==d&&(f=!0,setTimeout(function(){f=!1,d=null})),f&&b.type==s.config.types.placeholder)return;var k=0,$=i.activeNode;$ instanceof s.$keyboardNavigation.TaskCell&&(k=$.columnIndex);var w=s.config.keyboard_navigation_cells?s.$keyboardNavigation.TaskCell:s.$keyboardNavigation.TaskRow;b.type==s.config.types.placeholder&&s.config.placeholder_task.focusOnCreate===!1||i.setActiveNode(new w(v,k))}}),s.attachEvent("onTaskIdChange",function(v,b){if(!s.config.keyboard_navigation)return!0;var k=i.activeNode;return i.isTaskFocused(v)&&(k.taskId=b),!0});var g=setInterval(function(){s.config.keyboard_navigation&&(i.isEnabled()||i.enable())},500);function p(v){var b={gantt:s.$keyboardNavigation.GanttNode,headerCell:s.$keyboardNavigation.HeaderCell,taskRow:s.$keyboardNavigation.TaskRow,taskCell:s.$keyboardNavigation.TaskCell};return b[v]||b.gantt}function m(v){for(var b=s.getGridColumns(),k=0;k<b.length;k++)if(b[k].name==v)return k;return 0}s.attachEvent("onDestroy",function(){clearInterval(g)});var y={};u(y),s.mixin(y,{addShortcut:function(v,b,k){var $=p(k);$&&$.prototype.bind(v,b)},getShortcutHandler:function(v,b){var k=s.$keyboardNavigation.shortcuts.parse(v);if(k.length)return y.getCommandHandler(k[0],b)},getCommandHandler:function(v,b){var k=p(b);if(k&&v)return k.prototype.findHandler(v)},removeShortcut:function(v,b){var k=p(b);k&&k.prototype.unbind(v)},focus:function(v){var b,k=v?v.type:null,$=p(k);switch(k){case"taskCell":b=new $(v.id,m(v.column));break;case"taskRow":b=new $(v.id);break;case"headerCell":b=new $(m(v.column))}i.delay(function(){b?i.setActiveNode(b):(i.enable(),i.getActiveNode()?i.awaitsFocus()||i.enable():i.setDefaultNode())})},getActiveNode:function(){if(i.isEnabled()){var v=i.getActiveNode(),b=function($){return $ instanceof s.$keyboardNavigation.GanttNode?"gantt":$ instanceof s.$keyboardNavigation.HeaderCell?"headerCell":$ instanceof s.$keyboardNavigation.TaskRow?"taskRow":$ instanceof s.$keyboardNavigation.TaskCell?"taskCell":null}(v),k=s.getGridColumns();switch(b){case"taskCell":return{type:"taskCell",id:v.taskId,column:k[v.columnIndex].name};case"taskRow":return{type:"taskRow",id:v.taskId};case"headerCell":return{type:"headerCell",column:k[v.index].name}}}return null}}),s.$keyboardNavigation.facade=y,s.ext.keyboardNavigation=y,s.focus=function(){y.focus()},s.addShortcut=y.addShortcut,s.getShortcutHandler=y.getShortcutHandler,s.removeShortcut=y.removeShortcut})()})(_)}},function(A,E,h){Object.defineProperty(E,"__esModule",{value:!0}),E.default=function(_){function u(){var a=document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement;return!(!a||a!==document.body)}function s(){try{return document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled}catch(a){console.error("Fullscreen is not available:",a)}}_.$services.getService("state").registerProvider("fullscreen",function(){return s()?{fullscreen:u()}:void 0});var c={overflow:null,padding:null,paddingTop:null,paddingRight:null,paddingBottom:null,paddingLeft:null},i={width:null,height:null,top:null,left:null,position:null,zIndex:null,modified:!1},r=null;function e(a,l){l.width=a.width,l.height=a.height,l.top=a.top,l.left=a.left,l.position=a.position,l.zIndex=a.zIndex}var t=!1;function n(){var a;_.$container&&(u()?t&&(a="onExpand",function(){var l=_.ext.fullscreen.getFullscreenElement(),d=document.body;e(l.style,i),c={overflow:d.style.overflow,padding:d.style.padding?d.style.padding:null,paddingTop:d.style.paddingTop?d.style.paddingTop:null,paddingRight:d.style.paddingRight?d.style.paddingRight:null,paddingBottom:d.style.paddingBottom?d.style.paddingBottom:null,paddingLeft:d.style.paddingLeft?d.style.paddingLeft:null},d.style.padding&&(d.style.padding="0"),d.style.paddingTop&&(d.style.paddingTop="0"),d.style.paddingRight&&(d.style.paddingRight="0"),d.style.paddingBottom&&(d.style.paddingBottom="0"),d.style.paddingLeft&&(d.style.paddingLeft="0"),d.style.overflow="hidden",l.style.width="100vw",l.style.height="100vh",l.style.top="0px",l.style.left="0px",l.style.position="absolute",l.style.zIndex=1,i.modified=!0,r=function(f){for(var g=f.parentNode,p=[];g&&g.style;)p.push({element:g,originalPositioning:g.style.position}),g.style.position="static",g=g.parentNode;return p}(l)}()):t&&(t=!1,a="onCollapse",function(){var l=_.ext.fullscreen.getFullscreenElement(),d=document.body;i.modified&&(c.padding&&(d.style.padding=c.padding),c.paddingTop&&(d.style.paddingTop=c.paddingTop),c.paddingRight&&(d.style.paddingRight=c.paddingRight),c.paddingBottom&&(d.style.paddingBottom=c.paddingBottom),c.paddingLeft&&(d.style.paddingLeft=c.paddingLeft),d.style.overflow=c.overflow,c={overflow:null,padding:null,paddingTop:null,paddingRight:null,paddingBottom:null,paddingLeft:null},e(i,l.style),i.modified=!1),function(f){f.forEach(function(g){g.element.style.position=g.originalPositioning})}(r),r=null}()),setTimeout(function(){_.render()}),setTimeout(function(){_.callEvent(a,[_.ext.fullscreen.getFullscreenElement()])}))}function o(){return!_.$container||!_.ext.fullscreen.getFullscreenElement()||!s()&&((console.warning||console.log)("The `fullscreen` feature not being allowed, or full-screen mode not being supported"),!0)}_.ext.fullscreen={expand:function(){if(!o()&&!u()&&_.callEvent("onBeforeExpand",[this.getFullscreenElement()])){t=!0;var a=document.body,l=a.webkitRequestFullscreen?[Element.ALLOW_KEYBOARD_INPUT]:[],d=a.msRequestFullscreen||a.mozRequestFullScreen||a.webkitRequestFullscreen||a.requestFullscreen;d&&d.apply(a,l)}},collapse:function(){if(!o()&&u()&&_.callEvent("onBeforeCollapse",[this.getFullscreenElement()])){var a=document.msExitFullscreen||document.mozCancelFullScreen||document.webkitExitFullscreen||document.exitFullscreen;a&&a.apply(document)}},toggle:function(){o()||(u()?this.collapse():this.expand())},getFullscreenElement:function(){return _.$root}},_.expand=function(){_.ext.fullscreen.expand()},_.collapse=function(){_.ext.fullscreen.collapse()},_.attachEvent("onGanttReady",function(){_.event(document,"webkitfullscreenchange",n),_.event(document,"mozfullscreenchange",n),_.event(document,"MSFullscreenChange",n),_.event(document,"fullscreenChange",n),_.event(document,"fullscreenchange",n)})}},function(A,E,h){function _(r){"@babel/helpers - typeof";return(_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(r)}var u=function(r){switch(_(r)){case"string":return r;case"boolean":return r?"true":"false";case"number":return isFinite(r)?r:"";default:return""}};A.exports=function(r,e,t,n){return e=e||"&",t=t||"=",r===null&&(r=void 0),_(r)==="object"?c(i(r),function(o){var a=encodeURIComponent(u(o))+t;return s(r[o])?c(r[o],function(l){return a+encodeURIComponent(u(l))}).join(e):a+encodeURIComponent(u(r[o]))}).join(e):n?encodeURIComponent(u(n))+t+encodeURIComponent(u(r)):""};var s=Array.isArray||function(r){return Object.prototype.toString.call(r)==="[object Array]"};function c(r,e){if(r.map)return r.map(e);for(var t=[],n=0;n<r.length;n++)t.push(e(r[n],n));return t}var i=Object.keys||function(r){var e=[];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&e.push(t);return e}},function(A,E,h){function _(s,c){return Object.prototype.hasOwnProperty.call(s,c)}A.exports=function(s,c,i,r){c=c||"&",i=i||"=";var e={};if(typeof s!="string"||s.length===0)return e;var t=/\+/g;s=s.split(c);var n=1e3;r&&typeof r.maxKeys=="number"&&(n=r.maxKeys);var o=s.length;n>0&&o>n&&(o=n);for(var a=0;a<o;++a){var l,d,f,g,p=s[a].replace(t,"%20"),m=p.indexOf(i);m>=0?(l=p.substr(0,m),d=p.substr(m+1)):(l=p,d=""),f=decodeURIComponent(l),g=decodeURIComponent(d),_(e,f)?u(e[f])?e[f].push(g):e[f]=[e[f],g]:e[f]=g}return e};var u=Array.isArray||function(s){return Object.prototype.toString.call(s)==="[object Array]"}},function(A,E,h){E.decode=E.parse=h(274),E.encode=E.stringify=h(273)},function(A,E,h){function _(u){"@babel/helpers - typeof";return(_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s})(u)}A.exports={isString:function(u){return typeof u=="string"},isObject:function(u){return _(u)==="object"&&u!==null},isNull:function(u){return u===null},isNullOrUndefined:function(u){return u==null}}},function(A,E){A.exports=function(h){return h.webpackPolyfill||(h.deprecate=function(){},h.paths=[],h.children||(h.children=[]),Object.defineProperty(h,"loaded",{enumerable:!0,get:function(){return h.l}}),Object.defineProperty(h,"id",{enumerable:!0,get:function(){return h.i}}),h.webpackPolyfill=1),h}},function(A,E,h){(function(_,u){var s;function c(i){"@babel/helpers - typeof";return(c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(i)}/*! https://mths.be/punycode v1.4.1 by @mathias */(function(i){var r=c(E)=="object"&&E&&!E.nodeType&&E,e=c(_)=="object"&&_&&!_.nodeType&&_,t=(u===void 0?"undefined":c(u))=="object"&&u;t.global!==t&&t.window!==t&&t.self!==t||(i=t);var n,o,a=2147483647,l=36,d=1,f=26,g=38,p=700,m=72,y=128,v="-",b=/^xn--/,k=/[^\x20-\x7E]/,$=/[\x2E\u3002\uFF0E\uFF61]/g,w={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},x=l-d,T=Math.floor,D=String.fromCharCode;function I(O){throw new RangeError(w[O])}function P(O,V){for(var K=O.length,J=[];K--;)J[K]=V(O[K]);return J}function R(O,V){var K=O.split("@"),J="";return K.length>1&&(J=K[0]+"@",O=K[1]),J+P((O=O.replace($,".")).split("."),V).join(".")}function H(O){for(var V,K,J=[],z=0,S=O.length;z<S;)(V=O.charCodeAt(z++))>=55296&&V<=56319&&z<S?(64512&(K=O.charCodeAt(z++)))==56320?J.push(((1023&V)<<10)+(1023&K)+65536):(J.push(V),z--):J.push(V);return J}function F(O){return P(O,function(V){var K="";return V>65535&&(K+=D((V-=65536)>>>10&1023|55296),V=56320|1023&V),K+=D(V)}).join("")}function Y(O){return O-48<10?O-22:O-65<26?O-65:O-97<26?O-97:l}function q(O,V){return O+22+75*(O<26)-((V!=0)<<5)}function L(O,V,K){var J=0;for(O=K?T(O/p):O>>1,O+=T(O/V);O>x*f>>1;J+=l)O=T(O/x);return T(J+(x+1)*O/(O+g))}function N(O){var V,K,J,z,S,C,M,j,B,U,Z=[],W=O.length,tt=0,rt=y,et=m;for((K=O.lastIndexOf(v))<0&&(K=0),J=0;J<K;++J)O.charCodeAt(J)>=128&&I("not-basic"),Z.push(O.charCodeAt(J));for(z=K>0?K+1:0;z<W;){for(S=tt,C=1,M=l;z>=W&&I("invalid-input"),((j=Y(O.charCodeAt(z++)))>=l||j>T((a-tt)/C))&&I("overflow"),tt+=j*C,!(j<(B=M<=et?d:M>=et+f?f:M-et));M+=l)C>T(a/(U=l-B))&&I("overflow"),C*=U;et=L(tt-S,V=Z.length+1,S==0),T(tt/V)>a-rt&&I("overflow"),rt+=T(tt/V),tt%=V,Z.splice(tt++,0,rt)}return F(Z)}function G(O){var V,K,J,z,S,C,M,j,B,U,Z,W,tt,rt,et,ot=[];for(W=(O=H(O)).length,V=y,K=0,S=m,C=0;C<W;++C)(Z=O[C])<128&&ot.push(D(Z));for(J=z=ot.length,z&&ot.push(v);J<W;){for(M=a,C=0;C<W;++C)(Z=O[C])>=V&&Z<M&&(M=Z);for(M-V>T((a-K)/(tt=J+1))&&I("overflow"),K+=(M-V)*tt,V=M,C=0;C<W;++C)if((Z=O[C])<V&&++K>a&&I("overflow"),Z==V){for(j=K,B=l;!(j<(U=B<=S?d:B>=S+f?f:B-S));B+=l)et=j-U,rt=l-U,ot.push(D(q(U+et%rt,0))),j=T(et/rt);ot.push(D(q(j,0))),S=L(K,tt,J==z),K=0,++J}++K,++V}return ot.join("")}if(n={version:"1.4.1",ucs2:{decode:H,encode:F},decode:N,encode:G,toASCII:function(O){return R(O,function(V){return k.test(V)?"xn--"+G(V):V})},toUnicode:function(O){return R(O,function(V){return b.test(V)?N(V.slice(4).toLowerCase()):V})}},c(h(53))=="object"&&h(53))(s=(function(){return n}).call(E,h,E,_))===void 0||(_.exports=s);else if(r&&e)if(_.exports==r)e.exports=n;else for(o in n)n.hasOwnProperty(o)&&(r[o]=n[o]);else i.punycode=n})(this)}).call(this,h(277)(A),h(4))},function(A,E){A.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},function(A,E){A.exports=function(){for(var _={},u=0;u<arguments.length;u++){var s=arguments[u];for(var c in s)h.call(s,c)&&(_[c]=s[c])}return _};var h=Object.prototype.hasOwnProperty},function(A,E,h){var _=h(13).Buffer;A.exports=function(u){if(u instanceof Uint8Array){if(u.byteOffset===0&&u.byteLength===u.buffer.byteLength)return u.buffer;if(typeof u.buffer.slice=="function")return u.buffer.slice(u.byteOffset,u.byteOffset+u.byteLength)}if(_.isBuffer(u)){for(var s=new Uint8Array(u.length),c=u.length,i=0;i<c;i++)s[i]=u[i];return s.buffer}throw new Error("Argument must be a Buffer")}},function(A,E,h){A.exports=s;var _=h(55),u=h(17);function s(c){if(!(this instanceof s))return new s(c);_.call(this,c)}u.inherits=h(8),u.inherits(s,_),s.prototype._transform=function(c,i,r){r(null,c)}},function(A,E,h){(function(_){function u(s){try{if(!_.localStorage)return!1}catch{return!1}var c=_.localStorage[s];return c!=null&&String(c).toLowerCase()==="true"}A.exports=function(s,c){if(u("noDeprecation"))return s;var i=!1;return function(){if(!i){if(u("throwDeprecation"))throw new Error(c);u("traceDeprecation")?console.trace(c):console.warn(c),i=!0}return s.apply(this,arguments)}}}).call(this,h(4))},function(A,E,h){(function(_,u){(function(s,c){if(!s.setImmediate){var i,r=1,e={},t=!1,n=s.document,o=Object.getPrototypeOf&&Object.getPrototypeOf(s);o=o&&o.setTimeout?o:s,{}.toString.call(s.process)==="[object process]"?i=function(d){u.nextTick(function(){l(d)})}:function(){if(s.postMessage&&!s.importScripts){var d=!0,f=s.onmessage;return s.onmessage=function(){d=!1},s.postMessage("","*"),s.onmessage=f,d}}()?function(){var d="setImmediate$"+Math.random()+"$",f=function(g){g.source===s&&typeof g.data=="string"&&g.data.indexOf(d)===0&&l(+g.data.slice(d.length))};s.addEventListener?s.addEventListener("message",f,!1):s.attachEvent("onmessage",f),i=function(g){s.postMessage(d+g,"*")}}():s.MessageChannel?function(){var d=new MessageChannel;d.port1.onmessage=function(f){l(f.data)},i=function(f){d.port2.postMessage(f)}}():n&&"onreadystatechange"in n.createElement("script")?function(){var d=n.documentElement;i=function(f){var g=n.createElement("script");g.onreadystatechange=function(){l(f),g.onreadystatechange=null,d.removeChild(g),g=null},d.appendChild(g)}}():i=function(d){setTimeout(l,0,d)},o.setImmediate=function(d){typeof d!="function"&&(d=new Function(""+d));for(var f=new Array(arguments.length-1),g=0;g<f.length;g++)f[g]=arguments[g+1];var p={callback:d,args:f};return e[r]=p,i(r),r++},o.clearImmediate=a}function a(d){delete e[d]}function l(d){if(t)setTimeout(l,0,d);else{var f=e[d];if(f){t=!0;try{(function(g){var p=g.callback,m=g.args;switch(m.length){case 0:p();break;case 1:p(m[0]);break;case 2:p(m[0],m[1]);break;case 3:p(m[0],m[1],m[2]);break;default:p.apply(c,m)}})(f)}finally{a(d),t=!1}}}}})(typeof self>"u"?_===void 0?this:_:self)}).call(this,h(4),h(9))},function(A,E){},function(A,E,h){var _=h(22).Buffer,u=h(285);function s(c,i,r){c.copy(i,r)}A.exports=function(){function c(){(function(i,r){if(!(i instanceof r))throw new TypeError("Cannot call a class as a function")})(this,c),this.head=null,this.tail=null,this.length=0}return c.prototype.push=function(i){var r={data:i,next:null};this.length>0?this.tail.next=r:this.head=r,this.tail=r,++this.length},c.prototype.unshift=function(i){var r={data:i,next:this.head};this.length===0&&(this.tail=r),this.head=r,++this.length},c.prototype.shift=function(){if(this.length!==0){var i=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,i}},c.prototype.clear=function(){this.head=this.tail=null,this.length=0},c.prototype.join=function(i){if(this.length===0)return"";for(var r=this.head,e=""+r.data;r=r.next;)e+=i+r.data;return e},c.prototype.concat=function(i){if(this.length===0)return _.alloc(0);if(this.length===1)return this.head.data;for(var r=_.allocUnsafe(i>>>0),e=this.head,t=0;e;)s(e.data,r,t),t+=e.data.length,e=e.next;return r},c}(),u&&u.inspect&&u.inspect.custom&&(A.exports.prototype[u.inspect.custom]=function(){var c=u.inspect({length:this.length});return this.constructor.name+" "+c})},function(A,E){},function(A,E,h){(function(_,u,s){var c=h(65),i=h(8),r=h(64),e=h(63),t=h(281),n=r.IncomingMessage,o=r.readyStates,a=A.exports=function(d){var f,g=this;e.Writable.call(g),g._opts=d,g._body=[],g._headers={},d.auth&&g.setHeader("Authorization","Basic "+new _(d.auth).toString("base64")),Object.keys(d.headers).forEach(function(m){g.setHeader(m,d.headers[m])});var p=!0;if(d.mode==="disable-fetch"||"requestTimeout"in d&&!c.abortController)p=!1,f=!0;else if(d.mode==="prefer-streaming")f=!1;else if(d.mode==="allow-wrong-content-type")f=!c.overrideMimeType;else{if(d.mode&&d.mode!=="default"&&d.mode!=="prefer-fast")throw new Error("Invalid value for opts.mode");f=!0}g._mode=function(m,y){return c.fetch&&y?"fetch":c.mozchunkedarraybuffer?"moz-chunked-arraybuffer":c.msstream?"ms-stream":c.arraybuffer&&m?"arraybuffer":c.vbArray&&m?"text:vbarray":"text"}(f,p),g._fetchTimer=null,g.on("finish",function(){g._onFinish()})};i(a,e.Writable),a.prototype.setHeader=function(d,f){var g=d.toLowerCase();l.indexOf(g)===-1&&(this._headers[g]={name:d,value:f})},a.prototype.getHeader=function(d){var f=this._headers[d.toLowerCase()];return f?f.value:null},a.prototype.removeHeader=function(d){delete this._headers[d.toLowerCase()]},a.prototype._onFinish=function(){var d=this;if(!d._destroyed){var f=d._opts,g=d._headers,p=null;f.method!=="GET"&&f.method!=="HEAD"&&(p=c.arraybuffer?t(_.concat(d._body)):c.blobConstructor?new u.Blob(d._body.map(function(k){return t(k)}),{type:(g["content-type"]||{}).value||""}):_.concat(d._body).toString());var m=[];if(Object.keys(g).forEach(function(k){var $=g[k].name,w=g[k].value;Array.isArray(w)?w.forEach(function(x){m.push([$,x])}):m.push([$,w])}),d._mode==="fetch"){var y=null;if(c.abortController){var v=new AbortController;y=v.signal,d._fetchAbortController=v,"requestTimeout"in f&&f.requestTimeout!==0&&(d._fetchTimer=u.setTimeout(function(){d.emit("requestTimeout"),d._fetchAbortController&&d._fetchAbortController.abort()},f.requestTimeout))}u.fetch(d._opts.url,{method:d._opts.method,headers:m,body:p||void 0,mode:"cors",credentials:f.withCredentials?"include":"same-origin",signal:y}).then(function(k){d._fetchResponse=k,d._connect()},function(k){u.clearTimeout(d._fetchTimer),d._destroyed||d.emit("error",k)})}else{var b=d._xhr=new u.XMLHttpRequest;try{b.open(d._opts.method,d._opts.url,!0)}catch(k){return void s.nextTick(function(){d.emit("error",k)})}"responseType"in b&&(b.responseType=d._mode.split(":")[0]),"withCredentials"in b&&(b.withCredentials=!!f.withCredentials),d._mode==="text"&&"overrideMimeType"in b&&b.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in f&&(b.timeout=f.requestTimeout,b.ontimeout=function(){d.emit("requestTimeout")}),m.forEach(function(k){b.setRequestHeader(k[0],k[1])}),d._response=null,b.onreadystatechange=function(){switch(b.readyState){case o.LOADING:case o.DONE:d._onXHRProgress()}},d._mode==="moz-chunked-arraybuffer"&&(b.onprogress=function(){d._onXHRProgress()}),b.onerror=function(){d._destroyed||d.emit("error",new Error("XHR error"))};try{b.send(p)}catch(k){return void s.nextTick(function(){d.emit("error",k)})}}}},a.prototype._onXHRProgress=function(){(function(d){try{var f=d.status;return f!==null&&f!==0}catch{return!1}})(this._xhr)&&!this._destroyed&&(this._response||this._connect(),this._response._onXHRProgress())},a.prototype._connect=function(){var d=this;d._destroyed||(d._response=new n(d._xhr,d._fetchResponse,d._mode,d._fetchTimer),d._response.on("error",function(f){d.emit("error",f)}),d.emit("response",d._response))},a.prototype._write=function(d,f,g){this._body.push(d),g()},a.prototype.abort=a.prototype.destroy=function(){this._destroyed=!0,u.clearTimeout(this._fetchTimer),this._response&&(this._response._destroyed=!0),this._xhr?this._xhr.abort():this._fetchAbortController&&this._fetchAbortController.abort()},a.prototype.end=function(d,f,g){typeof d=="function"&&(g=d,d=void 0),e.Writable.prototype.end.call(this,d,f,g)},a.prototype.flushHeaders=function(){},a.prototype.setTimeout=function(){},a.prototype.setNoDelay=function(){},a.prototype.setSocketKeepAlive=function(){};var l=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"]}).call(this,h(13).Buffer,h(4),h(9))},function(A,E,h){var _=h(66),u=h(54),s=A.exports;for(var c in _)_.hasOwnProperty(c)&&(s[c]=_[c]);function i(r){if(typeof r=="string"&&(r=u.parse(r)),r.protocol||(r.protocol="https:"),r.protocol!=="https:")throw new Error('Protocol "'+r.protocol+'" not supported. Expected "https:"');return r}s.request=function(r,e){return r=i(r),_.request.call(this,r,e)},s.get=function(r,e){return r=i(r),_.get.call(this,r,e)}},function(A,E){E.read=function(h,_,u,s,c){var i,r,e=8*c-s-1,t=(1<<e)-1,n=t>>1,o=-7,a=u?c-1:0,l=u?-1:1,d=h[_+a];for(a+=l,i=d&(1<<-o)-1,d>>=-o,o+=e;o>0;i=256*i+h[_+a],a+=l,o-=8);for(r=i&(1<<-o)-1,i>>=-o,o+=s;o>0;r=256*r+h[_+a],a+=l,o-=8);if(i===0)i=1-n;else{if(i===t)return r?NaN:1/0*(d?-1:1);r+=Math.pow(2,s),i-=n}return(d?-1:1)*r*Math.pow(2,i-s)},E.write=function(h,_,u,s,c,i){var r,e,t,n=8*i-c-1,o=(1<<n)-1,a=o>>1,l=c===23?Math.pow(2,-24)-Math.pow(2,-77):0,d=s?0:i-1,f=s?1:-1,g=_<0||_===0&&1/_<0?1:0;for(_=Math.abs(_),isNaN(_)||_===1/0?(e=isNaN(_)?1:0,r=o):(r=Math.floor(Math.log(_)/Math.LN2),_*(t=Math.pow(2,-r))<1&&(r--,t*=2),(_+=r+a>=1?l/t:l*Math.pow(2,1-a))*t>=2&&(r++,t/=2),r+a>=o?(e=0,r=o):r+a>=1?(e=(_*t-1)*Math.pow(2,c),r+=a):(e=_*Math.pow(2,a-1)*Math.pow(2,c),r=0));c>=8;h[u+d]=255&e,d+=f,e/=256,c-=8);for(r=r<<c|e,n+=c;n>0;h[u+d]=255&r,d+=f,r/=256,n-=8);h[u+d-f]|=128*g}},function(A,E,h){E.byteLength=function(o){var a=e(o),l=a[0],d=a[1];return 3*(l+d)/4-d},E.toByteArray=function(o){for(var a,l=e(o),d=l[0],f=l[1],g=new s(function(v,b,k){return 3*(b+k)/4-k}(0,d,f)),p=0,m=f>0?d-4:d,y=0;y<m;y+=4)a=u[o.charCodeAt(y)]<<18|u[o.charCodeAt(y+1)]<<12|u[o.charCodeAt(y+2)]<<6|u[o.charCodeAt(y+3)],g[p++]=a>>16&255,g[p++]=a>>8&255,g[p++]=255&a;return f===2&&(a=u[o.charCodeAt(y)]<<2|u[o.charCodeAt(y+1)]>>4,g[p++]=255&a),f===1&&(a=u[o.charCodeAt(y)]<<10|u[o.charCodeAt(y+1)]<<4|u[o.charCodeAt(y+2)]>>2,g[p++]=a>>8&255,g[p++]=255&a),g},E.fromByteArray=function(o){for(var a,l=o.length,d=l%3,f=[],g=0,p=l-d;g<p;g+=16383)f.push(n(o,g,g+16383>p?p:g+16383));return d===1?(a=o[l-1],f.push(_[a>>2]+_[a<<4&63]+"==")):d===2&&(a=(o[l-2]<<8)+o[l-1],f.push(_[a>>10]+_[a>>4&63]+_[a<<2&63]+"=")),f.join("")};for(var _=[],u=[],s=typeof Uint8Array<"u"?Uint8Array:Array,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,r=c.length;i<r;++i)_[i]=c[i],u[c.charCodeAt(i)]=i;function e(o){var a=o.length;if(a%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var l=o.indexOf("=");return l===-1&&(l=a),[l,l===a?0:4-l%4]}function t(o){return _[o>>18&63]+_[o>>12&63]+_[o>>6&63]+_[63&o]}function n(o,a,l){for(var d,f=[],g=a;g<l;g+=3)d=(o[g]<<16&16711680)+(o[g+1]<<8&65280)+(255&o[g+2]),f.push(t(d));return f.join("")}u[45]=62,u[95]=63},function(A,E,h){(function(_){Object.defineProperty(E,"__esModule",{value:!0}),E.default=function(u){u.ext=u.ext||{},u.ext.export_api=u.ext.export_api||{_apiUrl:"https://export.dhtmlx.com/gantt",getNodeJSTransport:function(s){var c,i,r=s.split("://")[0];switch(r){case"https":c=h(289),i=443;break;case"http":c=h(66),i=80;break;default:throw new Error("Unsupported protocol: "+r+", url: "+s)}return{module:c,defaultPort:i}},_prepareConfigPDF:function(s,c){if(s&&s.raw){var i=null;s.start&&s.end&&(i={start_date:u.config.start_date,end_date:u.config.end_date},u.config.start_date=u.date.str_to_date(u.config.date_format)(s.start),u.config.end_date=u.date.str_to_date(u.config.date_format)(s.end)),s=u.mixin(s,{name:"gantt."+c,data:u.ext.export_api._serializeHtml()}),i&&(u.config.start_date=i.start_date,u.config.end_date=i.end_date)}else s=u.mixin(s||{},{name:"gantt."+c,data:u.ext.export_api._serializeAll(),config:u.config}),u.ext.export_api._fixColumns(s.config.columns);s.version=u.version,u.ext.export_api._sendToExport(s,c)},exportToPDF:function(s){u.ext.export_api._prepareConfigPDF(s,"pdf")},exportToPNG:function(s){u.ext.export_api._prepareConfigPDF(s,"png")},exportToICal:function(s){s=u.mixin(s||{},{name:"gantt.ical",data:u.ext.export_api._serializePlain().data,version:u.version}),u.ext.export_api._sendToExport(s,"ical")},exportToExcel:function(s){var c,i,r,e;s=s||{};var t=u.config.smart_rendering;if(s.visual==="base-colors"&&(u.config.smart_rendering=!1),s.start||s.end){r=u.getState(),i=[u.config.start_date,u.config.end_date],e=u.getScrollState();var n=u.date.str_to_date(u.config.date_format);c=u.eachTask,s.start&&(u.config.start_date=n(s.start)),s.end&&(u.config.end_date=n(s.end)),u.render(),u.config.smart_rendering=t,u.eachTask=u.ext.export_api._eachTaskTimed(u.config.start_date,u.config.end_date)}else s.visual==="base-colors"&&(u.render(),u.config.smart_rendering=t);u._no_progress_colors=s.visual==="base-colors";var o=null;u.env.isNode||(o=u.ext.export_api._serializeTable(s).data),(s=u.mixin(s,{name:"gantt.xlsx",title:"Tasks",data:o,columns:u.ext.export_api._serializeColumns({rawDates:!0}),version:u.version})).visual&&(s.scales=u.ext.export_api._serializeScales(s)),u.ext.export_api._sendToExport(s,"excel"),(s.start||s.end)&&(u.config.start_date=r.min_date,u.config.end_date=r.max_date,u.eachTask=c,u.render(),u.scrollTo(e.x,e.y),u.config.start_date=i[0],u.config.end_date=i[1])},exportToJSON:function(s){s=u.mixin(s||{},{name:"gantt.json",data:u.ext.export_api._serializeAll(),config:u.config,columns:u.ext.export_api._serializeColumns(),worktime:u.ext.export_api._getWorktimeSettings(),version:u.version}),u.ext.export_api._sendToExport(s,"json")},importFromExcel:function(s){try{var c=s.data;if(!(c instanceof FormData)){if(c instanceof File){var i=new FormData;i.append("file",c),s.data=i}}}catch{}u.env.isNode?u.ext.export_api._nodejsImportExcel(s):u.ext.export_api._sendImportAjaxExcel(s)},importFromMSProject:function(s){var c=s.data;try{if(!(c instanceof FormData)){if(c instanceof File){var i=new FormData;i.append("file",c),s.data=i}}}catch{}u.env.isNode?u.ext.export_api._nodejsImportMSP(s):u.ext.export_api._sendImportAjaxMSP(s)},importFromPrimaveraP6:function(s){return s.type="primaveraP6-parse",u.importFromMSProject(s)},exportToMSProject:function(s){(s=s||{}).skip_circular_links=s.skip_circular_links===void 0||!!s.skip_circular_links;var c=u.templates.xml_format,i=u.templates.format_date,r=u.config.xml_date,e=u.config.date_format;u.config.xml_date="%d-%m-%Y %H:%i:%s",u.config.date_format="%d-%m-%Y %H:%i:%s",u.templates.xml_format=u.date.date_to_str("%d-%m-%Y %H:%i:%s"),u.templates.format_date=u.date.date_to_str("%d-%m-%Y %H:%i:%s");var t=u.ext.export_api._serializeAll();u.ext.export_api._customProjectProperties(t,s),u.ext.export_api._customTaskProperties(t,s),s.skip_circular_links&&u.ext.export_api._clearRecLinks(t),s=u.ext.export_api._exportConfig(t,s),u.ext.export_api._sendToExport(s,s.type||"msproject"),u.config.xml_date=r,u.config.date_format=e,u.templates.xml_format=c,u.templates.format_date=i,u.config.$custom_data=null,u.config.custom=null},exportToPrimaveraP6:function(s){return(s=s||{}).type="primaveraP6",u.exportToMSProject(s)},_nodejsImportExcel:function(s){var c=h(52),i=s.server||u.ext.export_api._apiUrl,r=u.ext.export_api.getNodeJSTransport(i),e=i.split("://")[1],t=e.split("/")[0].split(":"),n=e.split("/"),o={hostname:t[0],port:t[1]||r.defaultPort,path:"/"+n.slice(1).join("/"),method:"POST",headers:{"X-Requested-With":"XMLHttpRequest"}},a=new c;a.append("file",s.data),a.append("type","excel-parse"),a.append("data",JSON.stringify({sheet:s.sheet||0})),o.headers["Content-Type"]=a.getHeaders()["content-type"];var l=r.module.request(o,function(d){var f="";d.on("data",function(g){f+=g}),d.on("end",function(g){s.callback(f.toString())})});l.on("error",function(d){console.error(d)}),a.pipe(l)},_nodejsImportMSP:function(s){var c=h(52),i=s.server||u.ext.export_api._apiUrl,r=u.ext.export_api.getNodeJSTransport(i),e=i.split("://")[1],t=e.split("/")[0].split(":"),n=e.split("/"),o={hostname:t[0],port:t[1]||r.defaultPort,path:"/"+n.slice(1).join("/"),method:"POST",headers:{"X-Requested-With":"XMLHttpRequest"}},a={durationUnit:s.durationUnit||void 0,projectProperties:s.projectProperties||void 0,taskProperties:s.taskProperties||void 0},l=new c;l.append("file",s.data),l.append("type",s.type||"msproject-parse"),l.append("data",JSON.stringify(a),o),o.headers["Content-Type"]=l.getHeaders()["content-type"];var d=r.module.request(o,function(f){var g="";f.on("data",function(p){g+=p}),f.on("end",function(p){s.callback(g.toString())})});d.on("error",function(f){console.error(f)}),l.pipe(d)},_fixColumns:function(s){for(var c=0;c<s.length;c++)s[c].label=s[c].label||u.locale.labels["column_"+s[c].name],typeof s[c].width=="string"&&(s[c].width=1*s[c].width)},_xdr:function(s,c,i){u.env.isNode?u.ext.export_api._nodejsPostRequest(s,c,i):u.ajax.post(s,c,i)},_nodejsPostRequest:function(s,c,i){var r=u.ext.export_api.getNodeJSTransport(s),e=s.split("://")[1],t=e.split("/")[0].split(":"),n=e.split("/"),o={hostname:t[0],port:t[1]||r.defaultPort,path:"/"+n.slice(1).join("/"),method:"POST",headers:{"Content-Type":"application/json","Content-Length":JSON.stringify(c).length}},a=r.module.request(o,function(l){var d=[];l.on("data",function(f){d.push(f)}),l.on("end",function(f){i(_.concat(d))})});a.on("error",function(l){console.error(l)}),a.write(JSON.stringify(c)),a.end()},_markColumns:function(s){var c=s.config.columns;if(c)for(var i=0;i<c.length;i++)c[i].template&&(c[i].$template=!0)},_sendImportAjaxExcel:function(s){var c=s.server||u.ext.export_api._apiUrl,i=s.store||0,r=s.data,e=s.callback;r.append("type","excel-parse"),r.append("data",JSON.stringify({sheet:s.sheet||0})),i&&r.append("store",i);var t=new XMLHttpRequest;t.onreadystatechange=function(n){t.readyState===4&&t.status===0&&e&&e(null)},t.onload=function(){var n=null;if(!(t.status>400))try{n=JSON.parse(t.responseText)}catch{}e&&e(n)},t.open("POST",c,!0),t.setRequestHeader("X-Requested-With","XMLHttpRequest"),t.send(r)},_ajaxToExport:function(s,c,i){delete s.callback;var r=s.server||u.ext.export_api._apiUrl,e="type="+c+"&store=1&data="+encodeURIComponent(JSON.stringify(s));u.ext.export_api._xdr(r,e,function(t){var n=t.xmlDoc||t,o=null;if(!(n.status>400))try{o=JSON.parse(n.responseText)}catch{}i(o)})},_serializableGanttConfig:function(s){var c=u.mixin({},s);return c.columns&&(c.columns=c.columns.map(function(i){var r=u.mixin({},i);return delete r.editor,r})),delete c.editor_types,c},_sendToExport:function(s,c){var i=u.date.date_to_str(u.config.date_format||u.config.xml_date);if(s.config&&(s.config=u.copy(u.ext.export_api._serializableGanttConfig(s.config)),u.ext.export_api._markColumns(s,c),s.config.start_date&&s.config.end_date&&(s.config.start_date instanceof Date&&(s.config.start_date=i(s.config.start_date)),s.config.end_date instanceof Date&&(s.config.end_date=i(s.config.end_date)))),u.env.isNode){var r=s.server||u.ext.export_api._apiUrl,e={type:c,store:0,data:JSON.stringify(s)},t=s.callback||function(o){console.log(o)};return u.ext.export_api._xdr(r,e,t)}if(s.callback)return u.ext.export_api._ajaxToExport(s,c,s.callback);var n=u.ext.export_api._createHiddenForm();n.firstChild.action=s.server||u.ext.export_api._apiUrl,n.firstChild.childNodes[0].value=JSON.stringify(s),n.firstChild.childNodes[1].value=c,n.firstChild.submit()},_createHiddenForm:function(){if(!u.ext.export_api._hidden_export_form){var s=u.ext.export_api._hidden_export_form=document.createElement("div");s.style.display="none",s.innerHTML="<form method='POST' target='_blank'><textarea name='data' style='width:0px; height:0px;' readonly='true'></textarea><input type='hidden' name='type' value=''></form>",document.body.appendChild(s)}return u.ext.export_api._hidden_export_form},_copyObjectBase:function(s){var c={start_date:void 0,end_date:void 0};for(var i in s)i.charAt(0)!=="$"&&(c[i]=s[i]);var r=u.templates.xml_format||u.templates.format_date;return c.start_date=r(c.start_date),c.end_date&&(c.end_date=r(c.end_date)),c},_color_box:null,_color_hash:{},_getStyles:function(s){if(u.ext.export_api._color_box||(u.ext.export_api._color_box=document.createElement("DIV"),u.ext.export_api._color_box.style.cssText="position:absolute; display:none;",document.body.appendChild(u.ext.export_api._color_box)),u.ext.export_api._color_hash[s])return u.ext.export_api._color_hash[s];u.ext.export_api._color_box.className=s;var c=u.ext.export_api._getColor(u.ext.export_api._color_box,"color"),i=u.ext.export_api._getColor(u.ext.export_api._color_box,"backgroundColor");return u.ext.export_api._color_hash[s]=c+";"+i},_getMinutesWorktimeSettings:function(s){var c=[];return s.forEach(function(i){c.push(i.startMinute),c.push(i.endMinute)}),c},_getWorktimeSettings:function(){var s,c={hours:[0,24],minutes:null,dates:{0:!0,1:!0,2:!0,3:!0,4:!0,5:!0,6:!0}};if(u.config.work_time){var i=u._working_time_helper;if(i&&i.get_calendar)s=i.get_calendar();else if(i)s={hours:i.hours,minutes:null,dates:i.dates};else if(u.config.worktimes&&u.config.worktimes.global){var r=u.config.worktimes.global;if(r.parsed){var e=u.ext.export_api._getMinutesWorktimeSettings(r.parsed.hours);for(var t in s={hours:null,minutes:e,dates:{}},r.parsed.dates)Array.isArray(r.parsed.dates[t])?s.dates[t]=u.ext.export_api._getMinutesWorktimeSettings(r.parsed.dates[t]):s.dates[t]=r.parsed.dates[t]}else s={hours:r.hours,minutes:null,dates:r.dates}}else s=c}else s=c;return s},_eachTaskTimed:function(s,c){return function(i,r,e){r=r||u.config.root_id,e=e||u;var t=u.getChildren(r);if(t)for(var n=0;n<t.length;n++){var o=u._pull[t[n]];(!s||o.end_date>s)&&(!c||o.start_date<c)&&i.call(e,o),u.hasChild(o.id)&&u.eachTask(i,o.id,e)}}},_originalCopyObject:u.json._copyObject,_copyObjectPlain:function(s){var c=u.templates.task_text(s.start_date,s.end_date,s),i=u.ext.export_api._copyObjectBase(s);return i.text=c||i.text,i},_getColor:function(s,c){var i=s.currentStyle?s.currentStyle[c]:getComputedStyle(s,null)[c],r=i.replace(/\s/g,"").match(/^rgba?\((\d+),(\d+),(\d+)/i);return(r&&r.length===4?("0"+parseInt(r[1],10).toString(16)).slice(-2)+("0"+parseInt(r[2],10).toString(16)).slice(-2)+("0"+parseInt(r[3],10).toString(16)).slice(-2):i).replace("#","")},_copyObjectTable:function(s){var c=u.date.date_to_str("%Y-%m-%dT%H:%i:%s.000Z"),i=u.ext.export_api._copyObjectColumns(s,u.ext.export_api._copyObjectPlain(s));i.start_date&&(i.start_date=c(s.start_date)),i.end_date&&(i.end_date=c(s.end_date));var r=u._day_index_by_date?u._day_index_by_date:u.columnIndexByDate;i.$start=r.call(u,s.start_date),i.$end=r.call(u,s.end_date);var e=0,t=u.getScale().width;if(t.indexOf(0)>-1){for(var n=0;n<i.$start;n++)t[n]||e++;for(i.$start-=e;n<i.$end;n++)t[n]||e++;i.$end-=e}i.$level=s.$level,i.$type=s.$rendered_type;var o=u.templates;return i.$text=o.task_text(s.start,s.end_date,s),i.$left=o.leftside_text?o.leftside_text(s.start,s.end_date,s):"",i.$right=o.rightside_text?o.rightside_text(s.start,s.end_date,s):"",i},_copyObjectColors:function(s){var c=u.ext.export_api._copyObjectTable(s),i=u.getTaskNode(s.id);if(i&&i.firstChild){var r=u.ext.export_api._getColor(u._no_progress_colors?i:i.firstChild,"backgroundColor");r==="363636"&&(r=u.ext.export_api._getColor(i,"backgroundColor")),c.$color=r}else s.color&&(c.$color=s.color);return c},_copyObjectColumns:function(s,c){for(var i=0;i<u.config.columns.length;i++){var r=u.config.columns[i].template;if(r){var e=r(s);e instanceof Date&&(e=u.templates.date_grid(e,s)),c["_"+i]=e}}return c},_copyObjectAll:function(s){for(var c=u.ext.export_api._copyObjectBase(s),i=["leftside_text","rightside_text","task_text","progress_text","task_class"],r=0;r<i.length;r++){var e=u.templates[i[r]];e&&(c["$"+r]=e(s.start_date,s.end_date,s))}return u.ext.export_api._copyObjectColumns(s,c),c.open=s.$open,c},_serializeHtml:function(){var s=u.config.smart_scales,c=u.config.smart_rendering;(s||c)&&(u.config.smart_rendering=!1,u.config.smart_scales=!1,u.render());var i=u.$container.parentNode.innerHTML;return(s||c)&&(u.config.smart_scales=s,u.config.smart_rendering=c,u.render()),i},_serializeAll:function(){u.json._copyObject=u.ext.export_api._copyObjectAll;var s=u.ext.export_api._exportSerialize();return u.json._copyObject=u.ext.export_api._originalCopyObject,s},_serializePlain:function(){var s=u.templates.xml_format,c=u.templates.format_date;u.templates.xml_format=u.date.date_to_str("%Y%m%dT%H%i%s",!0),u.templates.format_date=u.date.date_to_str("%Y%m%dT%H%i%s",!0),u.json._copyObject=u.ext.export_api._copyObjectPlain;var i=u.ext.export_api._exportSerialize();return u.templates.xml_format=s,u.templates.format_date=c,u.json._copyObject=u.ext.export_api._originalCopyObject,delete i.links,i},_getRaw:function(){if(u._scale_helpers){var s=u._get_scales(),c=u.config.min_column_width,i=u._get_resize_options().x?Math.max(u.config.autosize_min_width,0):u.config.$task.offsetWidth,r=u.config.config.scale_height-1;return u._scale_helpers.prepareConfigs(s,c,i,r)}var e=u.$ui.getView("timeline");if(e){var t=e.$config.width;u.config.autosize!=="x"&&u.config.autosize!=="xy"||(t=Math.max(u.config.autosize_min_width,0));var n=u.getState(),o=(s=e._getScales(),c=u.config.min_column_width,r=u.config.scale_height-1,u.config.rtl);return e.$scaleHelper.prepareConfigs(s,c,t,r,n.min_date,n.max_date,o)}},_serializeTable:function(s){u.json._copyObject=s.visual?u.ext.export_api._copyObjectColors:u.ext.export_api._copyObjectTable;var c=u.ext.export_api._exportSerialize();if(u.json._copyObject=u.ext.export_api._originalCopyObject,delete c.links,s.cellColors){var i=u.templates.timeline_cell_class||u.templates.task_cell_class;if(i){for(var r=u.ext.export_api._getRaw(),e=r[0].trace_x,t=1;t<r.length;t++)r[t].trace_x.length>e.length&&(e=r[t].trace_x);for(t=0;t<c.data.length;t++){c.data[t].styles=[];for(var n=u.getTask(c.data[t].id),o=0;o<e.length;o++){var a=i(n,e[o]);a&&c.data[t].styles.push({index:o,styles:u.ext.export_api._getStyles(a)})}}}}return c},_serializeScales:function(s){for(var c=[],i=u.ext.export_api._getRaw(),r=1/0,e=0,t=0;t<i.length;t++)r=Math.min(r,i[t].col_width);for(t=0;t<i.length;t++){var n=0,o=0,a=[];c.push(a);var l=i[t];e=Math.max(e,l.trace_x.length);for(var d=l.format||l.template||(l.date?u.date.date_to_str(l.date):u.config.date_scale),f=0;f<l.trace_x.length;f++){var g=l.trace_x[f];o=n+Math.round(l.width[f]/r);var p={text:d(g),start:n,end:o,styles:""};if(s.cellColors){var m=l.css||u.templates.scaleCell_class;if(m){var y=m(g);y&&(p.styles=u.ext.export_api._getStyles(y))}}a.push(p),n=o}}return{width:e,height:c.length,data:c}},_serializeColumns:function(s){u.exportMode=!0;for(var c=[],i=u.config.columns,r=0,e=0;e<i.length;e++)i[e].name!=="add"&&i[e].name!=="buttons"&&(c[r]={id:i[e].template?"_"+e:i[e].name,header:i[e].label||u.locale.labels["column_"+i[e].name],width:i[e].width?Math.floor(i[e].width/4):""},i[e].name==="duration"&&(c[r].type="number"),i[e].name!=="start_date"&&i[e].name!=="end_date"||(c[r].type="date",s&&s.rawDates&&(c[r].id=i[e].name)),r++);return u.exportMode=!1,c},_exportSerialize:function(){u.exportMode=!0;var s=u.templates.xml_format,c=u.templates.format_date;u.templates.xml_format=u.templates.format_date=u.date.date_to_str(u.config.date_format||u.config.xml_date);var i=u.serialize();return u.templates.xml_format=s,u.templates.format_date=c,u.exportMode=!1,i},_setLevel:function(s){for(var c=0;c<s.length;c++){s[c].parent==0&&(s[c]._lvl=1);for(var i=c+1;i<s.length;i++)s[c].id==s[i].parent&&(s[i]._lvl=s[c]._lvl+1)}},_clearLevel:function(s){for(var c=0;c<s.length;c++)delete s[c]._lvl},_clearRecLinks:function(s){u.ext.export_api._setLevel(s.data);for(var c={},i=0;i<s.data.length;i++)c[s.data[i].id]=s.data[i];var r={};for(i=0;i<s.links.length;i++){var e=s.links[i];u.isTaskExists(e.source)&&u.isTaskExists(e.target)&&c[e.source]&&c[e.target]&&(r[e.id]=e)}for(var t in r)u.ext.export_api._makeLinksSameLevel(r[t],c);var n={};for(var t in c)u.ext.export_api._clearCircDependencies(c[t],r,c,{},n,null);for(Object.keys(r)&&u.ext.export_api._clearLinksSameLevel(r,c),i=0;i<s.links.length;i++)r[s.links[i].id]||(s.links.splice(i,1),i--);u.ext.export_api._clearLevel(s.data)},_clearCircDependencies:function(s,c,i,r,e,t){var n=s.$_source;if(n){r[s.id]&&u.ext.export_api._onCircDependencyFind(t,c,r,e),r[s.id]=!0;for(var o={},a=0;a<n.length;a++)if(!e[n[a]]){var l=c[n[a]],d=i[l._target];o[d.id]&&u.ext.export_api._onCircDependencyFind(l,c,r,e),o[d.id]=!0,u.ext.export_api._clearCircDependencies(d,c,i,r,e,l)}r[s.id]=!1}},_onCircDependencyFind:function(s,c,i,r){s&&(u.callEvent("onExportCircularDependency",[s.id,s])&&delete c[s.id],delete i[s._source],delete i[s._target],r[s.id]=!0)},_makeLinksSameLevel:function(s,c){var i,r,e={target:c[s.target],source:c[s.source]};if(e.target._lvl!=e.source._lvl){e.target._lvl<e.source._lvl?(i="source",r=e.target._lvl):(i="target",r=e.source._lvl);do{var t=c[e[i].parent];if(!t)break;e[i]=t}while(e[i]._lvl<r);for(var n=c[e.source.parent],o=c[e.target.parent];n&&o&&n.id!=o.id;)e.source=n,e.target=o,n=c[e.source.parent],o=c[e.target.parent]}s._target=e.target.id,s._source=e.source.id,e.target.$_target||(e.target.$_target=[]),e.target.$_target.push(s.id),e.source.$_source||(e.source.$_source=[]),e.source.$_source.push(s.id)},_clearLinksSameLevel:function(s,c){for(var i in s)delete s[i]._target,delete s[i]._source;for(var r in c)delete c[r].$_source,delete c[r].$_target},_customProjectProperties:function(s,c){if(c&&c.project){for(var i in c.project)u.config.$custom_data||(u.config.$custom_data={}),u.config.$custom_data[i]=typeof c.project[i]=="function"?c.project[i](u.config):c.project[i];delete c.project}},_customTaskProperties:function(s,c){c&&c.tasks&&(s.data.forEach(function(i){for(var r in c.tasks)i.$custom_data||(i.$custom_data={}),i.$custom_data[r]=typeof c.tasks[r]=="function"?c.tasks[r](i,u.config):c.tasks[r]}),delete c.tasks)},_exportConfig:function(s,c){var i=c.name||"gantt.xml";delete c.name,u.config.custom=c;var r=u.ext.export_api._getWorktimeSettings(),e=u.getSubtaskDates();if(e.start_date&&e.end_date){var t=u.templates.format_date||u.templates.xml_format;u.config.start_end={start_date:t(e.start_date),end_date:t(e.end_date)}}var n=c.auto_scheduling!==void 0&&!!c.auto_scheduling,o={callback:c.callback||null,config:u.config,data:s,manual:n,name:i,worktime:r};for(var a in c)o[a]=c[a];return o},_sendImportAjaxMSP:function(s){var c=s.server||u.ext.export_api._apiUrl,i=s.store||0,r=s.data,e=s.callback,t={durationUnit:s.durationUnit||void 0,projectProperties:s.projectProperties||void 0,taskProperties:s.taskProperties||void 0};r.append("type",s.type||"msproject-parse"),r.append("data",JSON.stringify(t)),i&&r.append("store",i);var n=new XMLHttpRequest;n.onreadystatechange=function(o){n.readyState===4&&n.status===0&&e&&e(null)},n.onload=function(){var o=null;if(!(n.status>400))try{o=JSON.parse(n.responseText)}catch{}e&&e(o)},n.open("POST",c,!0),n.setRequestHeader("X-Requested-With","XMLHttpRequest"),n.send(r)}},u.exportToPDF=u.ext.export_api.exportToPDF,u.exportToPNG=u.ext.export_api.exportToPNG,u.exportToICal=u.ext.export_api.exportToICal,u.exportToExcel=u.ext.export_api.exportToExcel,u.exportToJSON=u.ext.export_api.exportToJSON,u.importFromExcel=u.ext.export_api.importFromExcel,u.importFromMSProject=u.ext.export_api.importFromMSProject,u.exportToMSProject=u.ext.export_api.exportToMSProject,u.importFromPrimaveraP6=u.ext.export_api.importFromPrimaveraP6,u.exportToPrimaveraP6=u.ext.export_api.exportToPrimaveraP6}}).call(this,h(13).Buffer)},function(A,E,h){Object.defineProperty(E,"__esModule",{value:!0});var _=function(){function u(s){var c=this;this._mouseDown=!1,this._calculateDirectionVector=function(){if(c._trace.length>=10){for(var i=c._trace.slice(c._trace.length-10),r=[],e=1;e<i.length;e++)r.push({x:i[e].x-i[e-1].x,y:i[e].y-i[e-1].y});var t={x:0,y:0};return r.forEach(function(n){t.x+=n.x,t.y+=n.y}),{magnitude:Math.sqrt(t.x*t.x+t.y*t.y),angleDegrees:180*Math.atan2(Math.abs(t.y),Math.abs(t.x))/Math.PI}}return null},this._applyDndReadyStyles=function(){c._timeline.$task.classList.add("gantt_timeline_move_available")},this._clearDndReadyStyles=function(){c._timeline.$task.classList.remove("gantt_timeline_move_available")},this._getScrollPosition=function(i){var r=c._gantt;return{x:r.$ui.getView(i.$config.scrollX).getScrollState().position,y:r.$ui.getView(i.$config.scrollY).getScrollState().position}},this._countNewScrollPosition=function(i){var r=c._calculateDirectionVector(),e=c._startPoint.x-i.x,t=c._startPoint.y-i.y;return r&&(r.angleDegrees<15?t=0:r.angleDegrees>75&&(e=0)),{x:c._scrollState.x+e,y:c._scrollState.y+t}},this._setScrollPosition=function(i,r){var e=c._gantt;requestAnimationFrame(function(){e.scrollLayoutCell(i.$id,r.x,r.y)})},this._stopDrag=function(i){var r=c._gantt;if(c._trace=[],r.$root.classList.remove("gantt_noselect"),c._originalReadonly!==void 0&&(r.config.readonly=c._originalReadonly),c._originAutoscroll!==void 0&&(r.config.autoscroll=c._originAutoscroll),r.config.drag_timeline){var e=r.config.drag_timeline.useKey;if(e&&i[e]!==!0)return}c._mouseDown=!1},this._startDrag=function(i){var r=c._gantt;c._originAutoscroll=r.config.autoscroll,r.config.autoscroll=!1,r.$root.classList.add("gantt_noselect"),c._originalReadonly=r.config.readonly,r.config.readonly=!0,c._trace=[],c._mouseDown=!0;var e=c._getScrollPosition(c._timeline),t=e.x,n=e.y;c._scrollState={x:t,y:n},c._startPoint={x:i.clientX,y:i.clientY},c._trace.push(c._startPoint)},this._gantt=s,this._domEvents=s._createDomEventScope(),this._trace=[]}return u.create=function(s){return new u(s)},u.prototype.destructor=function(){this._domEvents.detachAll()},u.prototype.attach=function(s){var c=this;this._timeline=s;var i=this._gantt;this._domEvents.attach(s.$task,"mousedown",function(r){if(i.config.drag_timeline){var e=i.config.drag_timeline,t=e.useKey,n=e.ignore;if(e.enabled!==!1){var o=".gantt_task_line, .gantt_task_link";n!==void 0&&(o=n instanceof Array?n.join(", "):n),o&&i.utils.dom.closest(r.target,o)||t&&r[t]!==!0||c._startDrag(r)}}}),this._domEvents.attach(document,"keydown",function(r){if(i.config.drag_timeline){var e=i.config.drag_timeline.useKey;e&&r[e]===!0&&c._applyDndReadyStyles()}}),this._domEvents.attach(document,"keyup",function(r){if(i.config.drag_timeline){var e=i.config.drag_timeline.useKey;e&&r[e]===!1&&(c._clearDndReadyStyles(),c._stopDrag(r))}}),this._domEvents.attach(document,"mouseup",function(r){c._stopDrag(r)}),this._domEvents.attach(i.$root,"mouseup",function(r){c._stopDrag(r)}),this._domEvents.attach(document,"mouseleave",function(r){c._stopDrag(r)}),this._domEvents.attach(i.$root,"mouseleave",function(r){c._stopDrag(r)}),this._domEvents.attach(i.$root,"mousemove",function(r){if(i.config.drag_timeline){var e=i.config.drag_timeline.useKey;if(!e||r[e]===!0){var t=c._gantt.ext.clickDrag,n=(c._gantt.config.click_drag||{}).useKey;if((!t||!n||e||!r[n])&&c._mouseDown===!0){c._trace.push({x:r.clientX,y:r.clientY});var o=c._countNewScrollPosition({x:r.clientX,y:r.clientY});c._setScrollPosition(s,o),c._scrollState=o,c._startPoint={x:r.clientX,y:r.clientY}}}}})},u}();E.EventsManager=_},function(A,E,h){Object.defineProperty(E,"__esModule",{value:!0});var _=h(293);E.default=function(u){u.ext||(u.ext={}),u.ext.dragTimeline={create:function(){return _.EventsManager.create(u)}},u.config.drag_timeline={enabled:!0}}},function(A,E,h){Object.defineProperty(E,"__esModule",{value:!0});var _=h(5),u=h(2),s=function(){function c(i,r,e){var t=this;this._el=document.createElement("div"),this.defaultRender=function(n,o){t._el||(t._el=document.createElement("div"));var a=t._el,l=Math.min(n.relative.top,o.relative.top),d=Math.max(n.relative.top,o.relative.top),f=Math.min(n.relative.left,o.relative.left),g=Math.max(n.relative.left,o.relative.left);if(t._singleRow){var p=t._getTaskPositionByTop(t._startPoint.relative.top);a.style.height=p.height+"px",a.style.top=p.top+"px"}else a.style.height=Math.abs(d-l)+"px",a.style.top=l+"px";return a.style.width=Math.abs(g-f)+"px",a.style.left=f+"px",a},this._gantt=r,this._view=e,this._viewPort=i.viewPort,this._el.classList.add(i.className),typeof i.callback=="function"&&(this._callback=i.callback),this.render=function(){var n;(n=i.render?i.render(t._startPoint,t._endPoint):t.defaultRender(t._startPoint,t._endPoint))!==t._el&&(t._el&&t._el.parentNode&&t._el.parentNode.removeChild(t._el),t._el=n),i.className!==""&&t._el.classList.add(i.className),t.draw()},u.isEventable(this._viewPort)||_(this._viewPort),this._singleRow=i.singleRow,this._useRequestAnimationFrame=i.useRequestAnimationFrame}return c.prototype.draw=function(){var i=this;if(this._useRequestAnimationFrame)return requestAnimationFrame(function(){i._viewPort.appendChild(i.getElement())});this._viewPort.appendChild(this.getElement())},c.prototype.clear=function(){var i=this;if(this._useRequestAnimationFrame)return requestAnimationFrame(function(){i._el.parentNode&&i._viewPort.removeChild(i._el)});this._el.parentNode&&this._viewPort.removeChild(this._el)},c.prototype.getElement=function(){return this._el},c.prototype.getViewPort=function(){return this._viewPort},c.prototype.setStart=function(i){var r=this._gantt;this._startPoint=i,this._startDate=r.dateFromPos(this._startPoint.relative.left),this._viewPort.callEvent("onBeforeDrag",[this._startPoint])},c.prototype.setEnd=function(i){var r=this._gantt;if(this._endPoint=i,this._singleRow){var e=this._getTaskPositionByTop(this._startPoint.relative.top);this._endPoint.relative.top=e.top}this._endDate=r.dateFromPos(this._endPoint.relative.left),this._startPoint.relative.left>this._endPoint.relative.left&&(this._positionPoint={relative:{left:this._endPoint.relative.left,top:this._positionPoint.relative.top},absolute:{left:this._endPoint.absolute.left,top:this._positionPoint.absolute.top}}),this._startPoint.relative.top>this._endPoint.relative.top&&(this._positionPoint={relative:{left:this._positionPoint.relative.left,top:this._endPoint.relative.top},absolute:{left:this._positionPoint.absolute.left,top:this._endPoint.absolute.top}}),this._viewPort.callEvent("onDrag",[this._startPoint,this._endPoint])},c.prototype.setPosition=function(i){this._positionPoint=i},c.prototype.dragEnd=function(i){var r,e=this._gantt;i.relative.left<0&&(i.relative.left=0),this._viewPort.callEvent("onBeforeDragEnd",[this._startPoint,i]),this.setEnd(i),this._endDate=this._endDate||e.getState().max_date,this._startDate.valueOf()>this._endDate.valueOf()&&(r=[this._endDate,this._startDate],this._startDate=r[0],this._endDate=r[1]),this.clear();var t=e.getTaskByTime(this._startDate,this._endDate),n=this._getTasksByTop(this._startPoint.relative.top,this._endPoint.relative.top);this._viewPort.callEvent("onDragEnd",[this._startPoint,this._endPoint]),this._callback&&this._callback(this._startPoint,this._endPoint,this._startDate,this._endDate,t,n)},c.prototype.getInBounds=function(){return this._singleRow},c.prototype._getTasksByTop=function(i,r){var e=this._gantt,t=i,n=r;i>r&&(t=r,n=i);for(var o=this._getTaskPositionByTop(t).index,a=this._getTaskPositionByTop(n).index,l=[],d=o;d<=a;d++)e.getTaskByIndex(d)&&l.push(e.getTaskByIndex(d));return l},c.prototype._getTaskPositionByTop=function(i){var r=this._gantt,e=this._view,t=e.getItemIndexByTopPosition(i),n=r.getTaskByIndex(t);if(n){var o=e.getItemHeight(n.id);return{top:e.getItemTop(n.id)||0,height:o||0,index:t}}var a=e.getTotalHeight();return{top:i>a?a:0,height:r.config.row_height,index:i>a?r.getTaskCount():0}},c}();E.SelectedRegion=s},function(A,E,h){Object.defineProperty(E,"__esModule",{value:!0});var _=h(1),u=function(){function s(c){this._mouseDown=!1,this._gantt=c,this._domEvents=c._createDomEventScope()}return s.prototype.attach=function(c,i,r){var e=this,t=this._gantt,n=c.getViewPort();this._originPosition=window.getComputedStyle(n).display,this._restoreOriginPosition=function(){n.style.position=e._originPosition},this._originPosition==="static"&&(n.style.position="relative");var o=t.$services.getService("state");o.registerProvider("clickDrag",function(){return{autoscroll:!1}});var a=null;this._domEvents.attach(n,"mousedown",function(d){a=null;var f=".gantt_task_line, .gantt_task_link";r!==void 0&&(f=r instanceof Array?r.join(", "):r),f&&t.utils.dom.closest(d.target,f)||(o.registerProvider("clickDrag",function(){return{autoscroll:e._mouseDown}}),i&&d[i]!==!0||(a=e._getCoordinates(d,c)))});var l=_.getRootNode(t.$root)||document.body;this._domEvents.attach(l,"mouseup",function(d){if(a=null,(!i||d[i]===!0)&&e._mouseDown===!0){e._mouseDown=!1;var f=e._getCoordinates(d,c);c.dragEnd(f)}}),this._domEvents.attach(n,"mousemove",function(d){if(!i||d[i]===!0){var f=e._gantt.ext.clickDrag,g=(e._gantt.config.drag_timeline||{}).useKey;if(!f||!g||i||!d[g]){var p=null;if(!e._mouseDown&&a)return p=e._getCoordinates(d,c),void(Math.abs(a.relative.left-p.relative.left)>5&&a&&(e._mouseDown=!0,c.setStart(t.copy(a)),c.setPosition(t.copy(a)),c.setEnd(t.copy(a)),a=null));e._mouseDown===!0&&(p=e._getCoordinates(d,c),c.setEnd(p),c.render())}}})},s.prototype.detach=function(){var c=this._gantt;this._domEvents.detachAll(),this._restoreOriginPosition&&this._restoreOriginPosition(),c.$services.getService("state").unregisterProvider("clickDrag")},s.prototype.destructor=function(){this.detach()},s.prototype._getCoordinates=function(c,i){var r=i.getViewPort(),e=r.getBoundingClientRect(),t=c.clientX,n=c.clientY;return{absolute:{left:t,top:n},relative:{left:t-e.left+r.scrollLeft,top:n-e.top+r.scrollTop}}},s}();E.EventsManager=u},function(A,E,h){var _=this&&this.__assign||function(){return(_=Object.assign||function(c){for(var i,r=1,e=arguments.length;r<e;r++)for(var t in i=arguments[r])Object.prototype.hasOwnProperty.call(i,t)&&(c[t]=i[t]);return c}).apply(this,arguments)};Object.defineProperty(E,"__esModule",{value:!0});var u=h(296),s=h(295);E.default=function(c){c.ext||(c.ext={});var i={className:"gantt_click_drag_rect",useRequestAnimationFrame:!0,callback:void 0,singleRow:!1},r=new u.EventsManager(c);c.ext.clickDrag=r,c.attachEvent("onGanttReady",function(){var e=_({viewPort:c.$task_data},i);if(c.config.click_drag){var t=c.config.click_drag;e.render=t.render||i.render,e.className=t.className||i.className,e.callback=t.callback||i.callback,e.viewPort=t.viewPort||c.$task_data,e.useRequestAnimationFrame=t.useRequestAnimationFrame===void 0?i.useRequestAnimationFrame:t.useRequestAnimationFrame,e.singleRow=t.singleRow===void 0?i.singleRow:t.singleRow;var n=c.$ui.getView("timeline"),o=new s.SelectedRegion(e,c,n);c.ext.clickDrag.attach(o,t.useKey,t.ignore)}}),c.attachEvent("onDestroy",function(){r.destructor()})}},function(A,E,h){Object.defineProperty(E,"__esModule",{value:!0});var _=h(297),u=h(294),s=h(292),c=h(272),i=h(271),r=h(260),e=h(259),t=h(258),n=h(256),o=h(253);E.default={click_drag:_.default,drag_timeline:u.default,fullscreen:c.default,keyboard_navigation:i,quick_info:t.default,tooltip:n.default,undo:o.default,marker:r,multiselect:e,export_api:s.default}},function(A,E,h){Object.defineProperty(E,"__esModule",{value:!0});var _=h(298),u=h(250),s=h(21).gantt=u(_.default);E.gantt=s,E.default=s}])})})(Tt);var Et=Tt.exports;export{Et as d};
