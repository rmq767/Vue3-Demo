import{v as P,l as v,o as E,w as R,s as b,d as C}from"./element-plus-gomRs06A.js";import I from"./choose-person-1OaSauT8.js";import{d as k,r as f,w as B,c as U,a as c,V as d,Q as n,aw as q,ax as y,o as g,U as S,P as F,S as T}from"./@vue-1pEateLc.js";import{_ as j}from"./plugin-vueexport-helper-x3n3nnut.js";import"./lodash-es-88S84ShG.js";import"./@vueuse-sS3gTgD0.js";import"./@element-plus-GFHZwatb.js";import"./@sxzz--N-3kK7X.js";import"./@ctrl-ZggoHSuR.js";import"./dayjs-0oS7_Iqn.js";import"./@turf-VZU31W4K.js";import"./async-validator-BHjhHa7C.js";import"./memoize-one-JaOscZgY.js";import"./normalize-wheel-es-1urBKM79.js";import"./@floating-ui-_1sru3kO.js";const _=i=>(q("data-v-7fc58218"),i=i(),y(),i),G={class:"node-setting"},M=_(()=>c("div",{class:"setting-title"},"节点属性",-1)),Q={class:"setting-item"},z=_(()=>c("div",{class:"setting-item-title"},"基础属性",-1)),A=_(()=>c("div",{class:"setting-item-title"},"传阅者",-1)),D={name:"ReviewSetting"},H=k({...D,props:{lf:{},data:{}},setup(i){const o=i,e=f({nodeName:"",reader:[],readerString:"",readerSource:"2"}),p=f();B(()=>o.data,a=>{var s,m;const{reader:t,readerString:r,readerSource:l}=a.properties;e.value={nodeName:(s=a.text)==null?void 0:s.value,reader:t||[],readerString:r||"",readerSource:l||"2"},(m=o.lf)==null||m.setProperties(a.id,{...e.value})},{immediate:!0});const V=()=>{var a;(a=p.value)==null||a.open(e.value.reader)},h=(a,t)=>{var r,l;e.value.reader=a,e.value.readerString=t.map(s=>s.label).join("，"),a.length?(l=o.lf)==null||l.setProperties(o.data.id,{reader:e.value.reader,readerString:e.value.readerString}):(v.warning("传阅者不能为空"),(r=o.lf)==null||r.setProperties(o.data.id,{reader:[],readerString:""}))},N=a=>{var r,l;const t=a.target.value;t?(l=o.lf)==null||l.updateText(o.data.id,t):(v.warning("节点名称不能为空"),e.value.nodeName=(r=o.data.text)==null?void 0:r.value)},w=a=>{var t,r;(t=o.lf)==null||t.setProperties(o.data.id,{reviewerSource:a}),a==="1"&&(e.value.reader=[],e.value.readerString="",(r=p.value)==null||r.clear())};return(a,t)=>{const r=E,l=R,s=b,m=C,x=P;return g(),U("div",G,[M,c("div",Q,[d(x,{model:e.value,"label-width":"110px"},{default:n(()=>[z,d(l,{label:"节点名称",required:""},{default:n(()=>[d(r,{modelValue:e.value.nodeName,"onUpdate:modelValue":t[0]||(t[0]=u=>e.value.nodeName=u),onBlur:N},null,8,["modelValue"])]),_:1}),A,d(l,{label:"传阅者来源",required:""},{default:n(()=>[d(m,{modelValue:e.value.readerSource,"onUpdate:modelValue":t[1]||(t[1]=u=>e.value.readerSource=u),onChange:w},{default:n(()=>[d(s,{value:"1"},{default:n(()=>[S("发起者选择")]),_:1}),d(s,{value:"2"},{default:n(()=>[S("指定")]),_:1})]),_:1},8,["modelValue"])]),_:1}),e.value.readerSource==="2"?(g(),F(l,{key:0,label:"传阅者",required:""},{default:n(()=>[d(r,{modelValue:e.value.readerString,"onUpdate:modelValue":t[2]||(t[2]=u=>e.value.readerString=u),readonly:"",onClick:V},null,8,["modelValue"])]),_:1})):T("",!0)]),_:1},8,["model"])]),d(I,{ref_key:"choosePersonRef",ref:p,onSubmit:h},null,512)])}}}),de=j(H,[["__scopeId","data-v-7fc58218"]]);export{de as default};
