import{s as E,t as V,n as h,d as x,u as B,q as I}from"./element-plus-DRy_UtcF.js";import{d as U,r as w,w as C,c as b,a as p,R as l,J as d,o as P,O as f}from"./@vue-DtXbQ2UY.js";import{_ as R}from"./plugin-vueexport-helper-DlAUqK2U.js";import"./lodash-es-CVJ_Bk8S.js";import"./@vueuse-ZySg_D90.js";import"./@element-plus-dWmgPpBK.js";import"./@sxzz-D_chPuIy.js";import"./@ctrl-r5W6hzzQ.js";import"./dayjs-B7BNuc5J.js";import"./@turf-n0MF4LHv.js";import"./async-validator-9PlIezaS.js";import"./memoize-one-BdPwpGay.js";import"./normalize-wheel-es-BQoi3Ox2.js";import"./@floating-ui-D0iZPv2f.js";const k={class:"flow-setting"},y={class:"setting-item"},F={name:"EdgeSetting"},M=U({...F,props:{lf:{},data:{}},setup(c){const t=c,n=w({conditionName:"条件1",useOther:!1,condition:""});C(()=>t.data,s=>{var r;const{useOther:e,condition:o,conditionName:a}=s.properties;n.value={conditionName:a||"",useOther:e||!1,condition:o||""},(r=t.lf)==null||r.setProperties(s.id,{...n.value})},{immediate:!0});const _=s=>{var o;const e=s.target.value;(o=t.lf)==null||o.setProperties(t.data.id,{conditionName:e})},g=s=>{var u,m,i;const e=(u=t.lf)==null?void 0:u.getEdgeModelById(t.data.id),o=e==null?void 0:e.sourceNodeId,a=(m=t.lf)==null?void 0:m.getNodeOutgoingEdge(o);if((a==null?void 0:a.some(N=>{const{useOther:O}=N.properties;return O}))&&s){I.warning("该节点已存在其他条件，请先修改其他条件"),n.value.useOther=!1;return}else(i=t.lf)==null||i.setProperties(t.data.id,{useOther:s})},v=s=>{var o,a;const e=s.target.value;e&&((o=t.lf)==null||o.changeEdgeType(t.data.id,"dashedLine")),(a=t.lf)==null||a.setProperties(t.data.id,{condition:e})};return(s,e)=>{const o=h,a=V,r=B,u=x,m=E;return P(),b("div",k,[e[6]||(e[6]=p("div",{class:"setting-title"},"条件属性",-1)),p("div",y,[e[5]||(e[5]=p("div",{class:"setting-item-title"},"基础属性",-1)),l(m,{model:n.value,"label-width":"110px"},{default:d(()=>[l(a,{label:"条件名称"},{default:d(()=>[l(o,{modelValue:n.value.conditionName,"onUpdate:modelValue":e[0]||(e[0]=i=>n.value.conditionName=i),onBlur:_},null,8,["modelValue"])]),_:1}),l(a,{label:"是否使用其他"},{default:d(()=>[l(u,{modelValue:n.value.useOther,"onUpdate:modelValue":e[1]||(e[1]=i=>n.value.useOther=i),onChange:g},{default:d(()=>[l(r,{value:!0},{default:d(()=>[...e[3]||(e[3]=[f("是",-1)])]),_:1}),l(r,{value:!1},{default:d(()=>[...e[4]||(e[4]=[f("否",-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1}),l(a,{label:"条件设置"},{default:d(()=>[l(o,{modelValue:n.value.condition,"onUpdate:modelValue":e[2]||(e[2]=i=>n.value.condition=i),onBlur:v},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])])])}}}),X=R(M,[["__scopeId","data-v-1f92e82d"]]);export{X as default};
