import{S as i}from"./四川省1-CnqJjG9t.js";import{s as r,k as l,U as c,d as u,c as m,a as d,o as f}from"./@vue-AhIeOBdH.js";import{p,s as g}from"./@turf-Bfw5sV2K.js";import{_ as C}from"./plugin-vueexport-helper-DlAUqK2U.js";const y=new Cesium.PinBuilder,h=e=>{const s=r(),o=async()=>{s.value=new Cesium.Viewer(e,{geocoder:!1,sceneModePicker:!1,baseLayerPicker:!1,navigationHelpButton:!1,homeButton:!1,animation:!1,fullscreenButton:!1,timeline:!1,scene3DOnly:!0,infoBox:!1,shadows:!1,requestRenderMode:!0,sceneMode:Cesium.SceneMode.SCENE3D,selectionIndicator:!1}),s.value.cesiumWidget.creditContainer.style.display="none",s.value.scene.screenSpaceCameraController.maximumZoomDistance=1e6,_(s.value),k(s.value),x(s.value)};return l(()=>{o()}),c(()=>{s.value.destroy()}),{viewer:s}};function _(e){e.scene.skyAtmosphere.show=!1;const s=i.features[0].geometry.coordinates[0],o=p(s),n=g(o,{tolerance:.05,highQuality:!0}),a=new Cesium.ClippingPolygon({positions:Cesium.Cartesian3.fromDegreesArray(n.geometry.coordinates[0].flat())});e.scene.globe.clippingPolygons=new Cesium.ClippingPolygonCollection({polygons:[a],inverse:!0});const t=-40*Math.PI/180;e.camera.setView({destination:Cesium.Cartesian3.fromDegrees(103.06,22.45,6e5),orientation:{heading:0,pitch:t,roll:0}})}function x(e){const s=new Cesium.GpxDataSource;e.dataSources.add(s).then(o=>{e.zoomTo(o.entities),console.log(o.entities)}),s.load("/gpx/bike.gpx",{clampToGround:!0,trackColor:Cesium.Color.YELLOW,waypointImage:y.fromMakiIconId("bicycle",Cesium.Color.BLUE,48)}).then(o=>{}),e.clock.shouldAnimate=!0}async function k(e){e.scene.sun.show=!1,e.scene.moon.show=!1,e.scene.skyBox.show=!1,e.scene.fog.enabled=!1,e.scene.skyAtmosphere.show=!1;const s=await Cesium.createWorldTerrainAsync({requestVertexNormals:!0,requestWaterMask:!1});e.terrainProvider=s,e.scene.globe.depthTestAgainstTerrain=!0,e.scene.verticalExaggeration=1,e.scene.verticalExaggerationRelativeHeight=.1}const B={class:"cesium"},P={name:"Cesium"},M=u({...P,setup(e){return h("cesium-container"),(s,o)=>(f(),m("div",B,[...o[0]||(o[0]=[d("div",{id:"cesium-container"},null,-1)])]))}}),D=C(M,[["__scopeId","data-v-2cdda2b3"]]);export{D as default};
