import{s as P,t as V,n as M,w,v as A,q as f}from"./element-plus-DRy_UtcF.js";import{s as C}from"./index-DPTLzqBo.js";import E from"./choose-person-BRiuYKP4.js";import{d as F,r as v,w as B,c as g,a as d,R as l,J as m,o as p,Q as y,a6 as I,u as q,I as R,O as U,P as h}from"./@vue-DtXbQ2UY.js";import{_ as T}from"./plugin-vueexport-helper-DlAUqK2U.js";import"./lodash-es-CVJ_Bk8S.js";import"./@vueuse-ZySg_D90.js";import"./@element-plus-dWmgPpBK.js";import"./@sxzz-D_chPuIy.js";import"./@ctrl-r5W6hzzQ.js";import"./dayjs-B7BNuc5J.js";import"./@turf-n0MF4LHv.js";import"./async-validator-9PlIezaS.js";import"./memoize-one-BdPwpGay.js";import"./normalize-wheel-es-BQoi3Ox2.js";import"./@floating-ui-D0iZPv2f.js";import"./mobx-preact-Bh0rinU2.js";import"./preact-Dv5xcXl8.js";import"./mobx-DdXfW9UA.js";import"./@logicflow-CUq5fSO1.js";import"./uuid-Dj2d8qur.js";import"./classnames-D_grozVF.js";import"./mousetrap-CvuvAstW.js";import"./mobx-utils-CAWeVucu.js";const j={class:"node-setting"},D={class:"setting-item"},G={name:"StartFlowSetting"},J=F({...G,props:{lf:{},data:{}},setup(_){const i=_,e=v({nodeName:"",initiator:[],initiatorString:"",startMoreAction:["back"]}),c=v();B(()=>i.data,o=>{var s,u;const{initiator:t,initiatorString:r,startMoreAction:a}=o.properties;e.value={nodeName:(s=o.text)==null?void 0:s.value,initiator:t||[],initiatorString:r||"",startMoreAction:a||["back"]},(u=i.lf)==null||u.setProperties(o.id,{...e.value})},{immediate:!0});const S=()=>{var o;(o=c.value)==null||o.open(e.value.initiator)},b=(o,t)=>{var r,a;e.value.initiator=o,e.value.initiatorString=t.map(s=>s.label).join("，"),o.length?(a=i.lf)==null||a.setProperties(i.data.id,{initiator:e.value.initiator,initiatorString:e.value.initiatorString}):(f.warning("发起者不能为空"),(r=i.lf)==null||r.setProperties(i.data.id,{initiator:[],initiatorString:""}))},x=o=>{var r,a;const t=o.target.value;t?(a=i.lf)==null||a.updateText(i.data.id,t):(f.warning("节点名称不能为空"),e.value.nodeName=(r=i.data.text)==null?void 0:r.value)},k=o=>{var t;(t=i.lf)==null||t.setProperties(i.data.id,{startMoreAction:o})};return(o,t)=>{const r=M,a=V,s=A,u=w,N=P;return p(),g("div",j,[t[6]||(t[6]=d("div",{class:"setting-title"},"节点属性",-1)),d("div",D,[l(N,{model:e.value,"label-width":"110px"},{default:m(()=>[t[3]||(t[3]=d("div",{class:"setting-item-title"},"基础属性",-1)),l(a,{label:"节点名称",required:""},{default:m(()=>[l(r,{modelValue:e.value.nodeName,"onUpdate:modelValue":t[0]||(t[0]=n=>e.value.nodeName=n),onBlur:x},null,8,["modelValue"])]),_:1}),t[4]||(t[4]=d("div",{class:"setting-item-title"},"发起者",-1)),l(a,{label:"发起者",required:""},{default:m(()=>[l(r,{modelValue:e.value.initiatorString,"onUpdate:modelValue":t[1]||(t[1]=n=>e.value.initiatorString=n),readonly:"",onClick:S},null,8,["modelValue"])]),_:1}),t[5]||(t[5]=d("div",{class:"setting-item-title"},"操作权限",-1)),l(a,{label:"更多操作"},{default:m(()=>[l(u,{modelValue:e.value.startMoreAction,"onUpdate:modelValue":t[2]||(t[2]=n=>e.value.startMoreAction=n),onChange:k},{default:m(()=>[(p(!0),g(y,null,I(q(C),n=>(p(),R(s,{key:n.value,value:n.value},{default:m(()=>[U(h(n.label),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model"])]),l(E,{ref_key:"choosePersonRef",ref:c,onSubmit:b},null,512)])}}}),ct=T(J,[["__scopeId","data-v-031729e8"]]);export{ct as default};
