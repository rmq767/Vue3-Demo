import{v as w,l as f,o as N,w as P,x as M,y as A}from"./element-plus-gomRs06A.js";import{s as C}from"./index-IhWiWTJ0.js";import E from"./choose-person-1OaSauT8.js";import{d as F,r as g,w as I,c as S,a as p,V as l,Q as d,aw as y,ax as B,o as _,F as U,a8 as T,P as q,U as R,T as j,u as D}from"./@vue-1pEateLc.js";import{_ as G}from"./plugin-vueexport-helper-x3n3nnut.js";import"./lodash-es-88S84ShG.js";import"./@vueuse-sS3gTgD0.js";import"./@element-plus-GFHZwatb.js";import"./@sxzz--N-3kK7X.js";import"./@ctrl-ZggoHSuR.js";import"./dayjs-0oS7_Iqn.js";import"./@turf-VZU31W4K.js";import"./async-validator-BHjhHa7C.js";import"./memoize-one-JaOscZgY.js";import"./normalize-wheel-es-1urBKM79.js";import"./@floating-ui-_1sru3kO.js";import"./mobx-preact-PKhkWFJ1.js";import"./preact-n22zw_-M.js";import"./mobx-1kTRUggc.js";import"./@logicflow-AS830fMk.js";import"./uuid-hzB4Li_C.js";import"./classnames-3BoOvlBi.js";import"./mousetrap-HOn0kHTO.js";import"./mobx-utils-wtfDcc3Y.js";const c=m=>(y("data-v-031729e8"),m=m(),B(),m),L={class:"node-setting"},Q=c(()=>p("div",{class:"setting-title"},"节点属性",-1)),z={class:"setting-item"},H=c(()=>p("div",{class:"setting-item-title"},"基础属性",-1)),J=c(()=>p("div",{class:"setting-item-title"},"发起者",-1)),K=c(()=>p("div",{class:"setting-item-title"},"操作权限",-1)),O={name:"StartFlowSetting"},W=F({...O,props:{lf:{},data:{}},setup(m){const a=m,e=g({nodeName:"",initiator:[],initiatorString:"",startMoreAction:["back"]}),v=g();I(()=>a.data,o=>{var s,u;const{initiator:t,initiatorString:r,startMoreAction:i}=o.properties;e.value={nodeName:(s=o.text)==null?void 0:s.value,initiator:t||[],initiatorString:r||"",startMoreAction:i||["back"]},(u=a.lf)==null||u.setProperties(o.id,{...e.value})},{immediate:!0});const h=()=>{var o;(o=v.value)==null||o.open(e.value.initiator)},x=(o,t)=>{var r,i;e.value.initiator=o,e.value.initiatorString=t.map(s=>s.label).join("，"),o.length?(i=a.lf)==null||i.setProperties(a.data.id,{initiator:e.value.initiator,initiatorString:e.value.initiatorString}):(f.warning("发起者不能为空"),(r=a.lf)==null||r.setProperties(a.data.id,{initiator:[],initiatorString:""}))},b=o=>{var r,i;const t=o.target.value;t?(i=a.lf)==null||i.updateText(a.data.id,t):(f.warning("节点名称不能为空"),e.value.nodeName=(r=a.data.text)==null?void 0:r.value)},k=o=>{var t;(t=a.lf)==null||t.setProperties(a.data.id,{startMoreAction:o})};return(o,t)=>{const r=N,i=P,s=M,u=A,V=w;return _(),S("div",L,[Q,p("div",z,[l(V,{model:e.value,"label-width":"110px"},{default:d(()=>[H,l(i,{label:"节点名称",required:""},{default:d(()=>[l(r,{modelValue:e.value.nodeName,"onUpdate:modelValue":t[0]||(t[0]=n=>e.value.nodeName=n),onBlur:b},null,8,["modelValue"])]),_:1}),J,l(i,{label:"发起者",required:""},{default:d(()=>[l(r,{modelValue:e.value.initiatorString,"onUpdate:modelValue":t[1]||(t[1]=n=>e.value.initiatorString=n),readonly:"",onClick:h},null,8,["modelValue"])]),_:1}),K,l(i,{label:"更多操作"},{default:d(()=>[l(u,{modelValue:e.value.startMoreAction,"onUpdate:modelValue":t[2]||(t[2]=n=>e.value.startMoreAction=n),onChange:k},{default:d(()=>[(_(!0),S(U,null,T(D(C),n=>(_(),q(s,{key:n.value,value:n.value},{default:d(()=>[R(j(n.label),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model"])]),l(E,{ref_key:"choosePersonRef",ref:v,onSubmit:x},null,512)])}}}),xt=G(W,[["__scopeId","data-v-031729e8"]]);export{xt as default};
