import T from"./leaflet3-CsxBIRgM.js";import"./leafer-ui-BkUVF8YB.js";import{a as k,u as w,Z as I,b as W,L as y,g as b}from"./@leafer-ui-CS0pT7tI.js";import{d as E,s as G,c as C,a as H,R as L,o as N}from"./@vue-DtXbQ2UY.js";import{_ as S}from"./plugin-vueexport-helper-DlAUqK2U.js";import"./element-plus-DRy_UtcF.js";import"./lodash-es-CVJ_Bk8S.js";import"./@vueuse-ZySg_D90.js";import"./@element-plus-dWmgPpBK.js";import"./@sxzz-D_chPuIy.js";import"./@ctrl-r5W6hzzQ.js";import"./dayjs-B7BNuc5J.js";import"./@turf-n0MF4LHv.js";import"./async-validator-9PlIezaS.js";import"./memoize-one-BdPwpGay.js";import"./normalize-wheel-es-BQoi3Ox2.js";import"./@floating-ui-D0iZPv2f.js";import"./leaflet-v1Y5QXvJ.js";import"./leaflet.chinatmsproviders-DrehvF96.js";import"./@leafer-Dgei2GiV.js";const B=""+new URL("../png/well-CJOh7VpQ.png",import.meta.url).href,D=30,P=3,h=200,l=200,O=200,M=100,p=100,R=50,v=15;let u=0,f=0,z=0,c=0;const V=t=>{let i=0;return t.forEach(e=>{i=Math.max(i,e.distance)}),{y:i}},F=(t,i)=>{var r,s;u=(r=t.value)==null?void 0:r.width,f=(s=t.value)==null?void 0:s.height;const{y:e}=V(i);c=(u-O-h)/P,z=Number(((f-l-M)/e).toFixed(2))},J=(t,i,e)=>{const r=j(t,i),s=Z(r,t.maxSize,t.minSize),o=new w({x:h+i*c-p/2,y:l-p}),n=new I({url:B,width:p,height:p,x:0,y:8}),d=new W({text:t.name,textAlign:"center",x:0,y:-8,width:p,fill:"green"});return o.add([n,d]),{well:s,imageGroup:o}},$=()=>{const t=new w({x:0,y:l,width:u,height:f-l}),i=[];for(let e=0;e<10;e++){const r=new k({x:0,y:(f-l)/10*e,width:u,height:(f-l)/10,fill:`#${e}b${e}04${e}`});i.push(r)}return t.add(i),t},U=()=>new k({x:0,y:0,width:u,height:l,fill:{type:"linear",stops:["#6BA37B","#ffffff","#789FF1"]}}),Z=(t,i,e)=>{const r=new w({x:0,y:0}),s=D/e,o=Object.keys(t).sort((d,a)=>Number(d)-Number(a));let n=s*Number(o[0]);return o.forEach((d,a)=>{const m=new y({points:t[d],strokeWidth:n,stroke:"#666",cornerRadius:n,strokeCap:"none",strokeJoin:"round"});r.add(m),n=n+v}),n=s*Number(o[0]),o.forEach((d,a)=>{const m=new y({points:t[d],strokeWidth:n-v,stroke:"#fff",cornerRadius:n-v,strokeCap:"none",strokeJoin:"round"});r.add(m),n=n+v}),r},j=(t,i)=>{const{info:e}=t,r=(c-R)/t.length,s={};let o=e[0].size;for(let d=0;d<e.length;d++){const a=e[d];if(o>a.size)s[a.size]=[],s[a.size].push(a.width*r+h+i*c,a.height*z+l);else{const m=s[o];m?s[o]=[...m,a.width*r+h+i*c,a.height*z+l]:s[o]=[a.width*r+h+i*c,a.height*z+l]}}let n=[];for(const d in s)s[d]=[...n,...s[d]],n=s[d];return s},Q={class:"leafer-container"},X={name:"Leafer3"},Y=E({...X,setup(t){const i=[{name:"井0706002",businessId:"1676779130877161474",type:3,wellType:"定向井",pointData:[{lon:103.987124,lat:30.598889,remark:""}],info:[{tvd:30.03,md:30.03,size:304.8},{tvd:35.030191279,md:35.030292058,size:304.8},{tvd:40.029777904,md:40.030584115,size:304.8},{tvd:45.028895243,md:45.03112517,size:203.2},{tvd:50.027478202,md:50.031666225,size:152.4},{tvd:55.025946247,md:55.03268675,size:152.4}]},{name:"井1",businessId:"1679789842331381761",type:3,wellType:"直井",pointData:[{lon:105.06149,lat:31.570505,remark:"33"}],info:[{tvd:704.71971399,md:705.19158862,size:304.8},{tvd:712.21260794,md:712.69550549,size:304.8},{tvd:719.70598198,md:720.19942237,size:203.2},{tvd:724.70174657,md:725.20154586,size:203.2},{tvd:729.69847917,md:730.20366935,size:152.4},{tvd:734.69540074,md:735.2049105,size:152.4}]},{name:"宁209H13-9",businessId:"1680792663432409090",type:3,wellType:"水平井",pointData:[{lon:102.24508,lat:32.923487,remark:"测试（HX）"}],info:[{tvd:904.10752857,md:905.50454002,size:304.8},{tvd:909.04896969,md:910.53350887,size:304.8},{tvd:913.98926376,md:915.56453719,size:304.8},{tvd:918.92614252,md:920.59556552,size:203.2},{tvd:923.86256816,md:925.62913325,size:203.2},{tvd:928.79652958,md:930.66270097,size:203.2},{tvd:933.73007107,md:935.69702082,size:152.4},{tvd:938.66371987,md:940.73134067,size:152.4},{tvd:943.59696517,md:945.76477013,size:152.4},{tvd:948.53098539,md:950.79819959,size:152.4}]},{name:"20242",businessId:"1840656103032012802",type:3,wellType:"直井",pointData:[{lon:108.646241,lat:27.995644,remark:""}],info:[{tvd:2003.9218768,md:2087.6373096,size:304.8},{tvd:2008.5435327,md:2092.8224187,size:304.8},{tvd:2013.1577016,md:2098.0075277,size:304.8},{tvd:2017.7694714,md:2103.1966579,size:203.2},{tvd:2022.3767985,md:2108.3857881,size:203.2},{tvd:2026.9819368,md:2113.5766273,size:203.2},{tvd:2031.5840867,md:2118.7674665,size:152.4},{tvd:2036.1845679,md:2123.9603493,size:152.4}]}],e=G(),r=o=>{o.length&&s(o)},s=o=>{e.value?e.value.clear():e.value=new b({view:"leafer",wheel:{disabled:!0,zoomMode:!1},move:{drag:!1,scroll:!1}}),F(e,o);const n=U();e.value.add(n);const d=$();e.value.add(d),o.forEach((a,m)=>{var g,_;const{well:x,imageGroup:A}=J(a,m,a.length);(g=e.value)==null||g.add(x),(_=e.value)==null||_.add(A)})};return(o,n)=>(N(),C("div",Q,[n[0]||(n[0]=H("div",{id:"leafer",style:{width:"100%",height:"100vh"}},null,-1)),L(T,{data:i,class:"leaflet",onChecked:r})]))}}),we=S(Y,[["__scopeId","data-v-82ef9a35"]]);export{we as default};
