import{d as Ye,D as Le,r as ue,e as ge,Z as nt,H as je,l as Ge,f as st,B as Pe,b as ee,w as b,o as te,c as de,J as be,u as ve,K as He,S as lt,L as Ve,n as j,I as De,$ as Ee,F as ut,a8 as gt,P as dt,Q as ct,M as mt,X as ft,W as ht,V as pt}from"./@vue-1pEateLc.js";import{r as M,n as R,J as Te,t as yt,a as vt,X as bt}from"./@vexip-ui-zupMWbn8.js";import{M as We}from"./interactjs-SrGB8-1o.js";const qe=Symbol("LAYOUT_KEY"),Ke=Symbol("EMITTER_KEY");function wt(i){let a=0,o;for(let t=0,r=i.length;t<r;t++)o=i[t].y+i[t].h,o>a&&(a=o);return a}function we(i){const a=Array(i.length);for(let o=0,t=i.length;o<t;o++)a[o]=xt(i[o]);return a}function xt(i){return{...i}}function Je(i,a){return!(i===a||i.x+i.w<=a.x||i.x>=a.x+a.w||i.y+i.h<=a.y||i.y>=a.y+a.h)}function K(i,a,o){const t=Qe(i),r=Ze(i),u=Array(i.length);for(let s=0,e=r.length;s<e;s++){let z=r[s];z.static||(z=zt(t,z,a,o),t.push(z)),u[i.indexOf(z)]=z,z.moved=!1}return u}function zt(i,a,o,t){if(o)for(;a.y>0&&!re(i,a);)a.y--;else if(t){const u=t[a.i].y;for(;a.y>u&&!re(i,a);)a.y--}let r;for(;r=re(i,a);)a.y=r.y+r.h;return a}function St(i,a){const o=Qe(i);for(let t=0,r=i.length;t<r;t++){const u=i[t];if(u.x+u.w>a.cols&&(u.x=a.cols-u.w),u.x<0&&(u.x=0,u.w=a.cols),!u.static)o.push(u);else for(;re(o,u);)u.y++}return i}function _e(i,a){for(let o=0,t=i.length;o<t;o++)if(i[o].i===a)return i[o]}function re(i,a){for(let o=0,t=i.length;o<t;o++)if(Je(i[o],a))return i[o]}function Ue(i,a){return i.filter(o=>Je(o,a))}function Qe(i){return i.filter(a=>a.static)}function xe(i,a,o,t,r=!1,u=!1){if(a.static)return i;const s=a.x,e=a.y,z=t&&a.y>t;typeof o=="number"&&(a.x=o),typeof t=="number"&&(a.y=t),a.moved=!0;let D=Ze(i);z&&(D=D.reverse());const f=Ue(D,a);if(u&&f.length)return a.x=s,a.y=e,a.moved=!1,i;for(let _=0,A=f.length;_<A;_++){const $=f[_];$.moved||a.y>$.y&&a.y-$.y>$.h/4||($.static?i=Oe(i,$,a,r):i=Oe(i,a,$,r))}return i}function Oe(i,a,o,t){if(t){const r={x:o.x,y:o.y,w:o.w,h:o.h,i:"-1"};if(r.y=Math.max(a.y-o.h,0),!re(i,r))return xe(i,o,void 0,r.y,!1)}return xe(i,o,void 0,o.y+1,!1)}function Bt(i,a,o,t){const r="translate3d("+a+"px,"+i+"px, 0)";return{transform:r,WebkitTransform:r,MozTransform:r,msTransform:r,OTransform:r,width:o+"px",height:t+"px",position:"absolute"}}function Rt(i,a,o,t){const r="translate3d("+a*-1+"px,"+i+"px, 0)";return{transform:r,WebkitTransform:r,MozTransform:r,msTransform:r,OTransform:r,width:o+"px",height:t+"px",position:"absolute"}}function Ct(i,a,o,t){return{top:i+"px",left:a+"px",width:o+"px",height:t+"px",position:"absolute"}}function Nt(i,a,o,t){return{top:i+"px",right:a+"px",width:o+"px",height:t+"px",position:"absolute"}}function Ze(i){return Array.from(i).sort(function(a,o){return a.y===o.y&&a.x===o.x?0:a.y>o.y||a.y===o.y&&a.x>o.x?1:-1})}function kt(i,a){a=a||"Layout";const o=["x","y","w","h"],t=[];if(!Array.isArray(i))throw new Error(a+" must be an array!");for(let r=0,u=i.length;r<u;r++){const s=i[r];for(let e=0;e<o.length;e++)if(typeof s[o[e]]!="number")throw new Error("VueGridLayout: "+a+"["+r+"]."+o[e]+" must be a number!");if(s.i===void 0||s.i===null)throw new Error("VueGridLayout: "+a+"["+r+"].i cannot be null!");if(typeof s.i!="number"&&typeof s.i!="string")throw new Error("VueGridLayout: "+a+"["+r+"].i must be a string or number!");if(t.indexOf(s.i)>=0)throw new Error("VueGridLayout: "+a+"["+r+"].i must be unique!");if(t.push(s.i),s.static!==void 0&&typeof s.static!="boolean")throw new Error("VueGridLayout: "+a+"["+r+"].static must be a boolean!")}}function Mt(i,a="vgl"){const o=()=>`${a}-${i}`;return{b:o,be:t=>`${o()}__${t}`,bm:t=>`${o()}--${t}`,bem:(t,r)=>`${o()}__${t}--${r}`}}function Ae(i){return $t(i)}function $t(i){var a;const o=((a=i.target)==null?void 0:a.offsetParent)||document.body,t=i.offsetParent===document.body?{left:0,top:0}:o.getBoundingClientRect(),r=i.clientX+o.scrollLeft-t.left,u=i.clientY+o.scrollTop-t.top;return{x:r,y:u}}function Fe(i,a,o,t){return Lt(i)?{deltaX:o-i,deltaY:t-a,lastX:i,lastY:a,x:o,y:t}:{deltaX:0,deltaY:0,lastX:o,lastY:t,x:o,y:t}}function Lt(i){return typeof i=="number"&&!Number.isNaN(i)}function Ht(i,a){const o=et(i);let t=o[0];for(let r=1,u=o.length;r<u;r++){const s=o[r];a>i[s]&&(t=s)}return t}function ze(i,a){if(!a[i])throw new Error("ResponsiveGridLayout: `cols` entry for breakpoint "+i+" is missing!");return a[i]}function Dt(i,a,o,t,r,u,s){if(a[t])return we(a[t]);let e=i;const z=et(o),D=z.slice(z.indexOf(t));for(let f=0,_=D.length;f<_;f++){const A=D[f];if(a[A]){e=a[A];break}}return e=we(e||[]),K(St(e,{cols:u}),s)}function et(i){return Object.keys(i).sort((a,o)=>i[a]-i[o])}let Et="auto";function Tt(){return typeof document<"u"}function Xe(){return Tt()?typeof document.dir<"u"?document.dir:document.getElementsByTagName("html")[0].getAttribute("dir"):Et}const Ie=Ye({__name:"grid-item",props:{isDraggable:{type:Boolean,default:null},isResizable:{type:Boolean,default:null},isBounded:{type:Boolean,default:null},static:{type:Boolean,default:!1},minH:{type:Number,default:1},minW:{type:Number,default:1},maxH:{type:Number,default:1/0},maxW:{type:Number,default:1/0},x:{type:Number,required:!0},y:{type:Number,required:!0},w:{type:Number,required:!0},h:{type:Number,required:!0},i:{type:[Number,String],required:!0},dragIgnoreFrom:{type:String,default:"a, button"},dragAllowFrom:{type:String,default:null},resizeIgnoreFrom:{type:String,default:"a, button"},preserveAspectRatio:{type:Boolean,default:!1},dragOption:{type:Object,default:()=>({})},resizeOption:{type:Object,default:()=>({})}},emits:["container-resized","resize","resized","move","moved"],setup(i,{expose:a,emit:o}){const t=i,r=Le(qe),u=Le(Ke);if(!r)throw new Error("[grid-layout-plus]: missing layout store, GridItem must under a GridLayout.");const s=ue(null),e=ge({cols:1,containerWidth:100,rowHeight:30,margin:[10,10],maxRows:1/0,draggable:null,resizable:null,bounded:null,transformScale:1,useCssTransforms:!0,useStyleCursor:!0,isDragging:!1,dragging:{top:-1,left:-1},isResizing:!1,resizing:{width:-1,height:-1},style:{},rtl:!1});let z=!1,D=!1,f=NaN,_=NaN,A=NaN,$=NaN,ie=-1,ae=-1,oe=-1,F=-1,S=t.x,E=t.y,B=t.w,L=t.h;const I=ue(),ne=ge({i:nt(t,"i"),state:e,wrapper:I,calcXY:Re});function J(n){it(n)}function se(){ke()}function l(n){M(t.isDraggable)&&(e.draggable=n)}function v(n){M(t.isResizable)&&(e.resizable=n)}function p(n){M(t.isBounded)&&(e.bounded=n)}function H(n){e.transformScale=n}function C(n){e.rowHeight=n}function N(n){e.maxRows=n}function c(){e.rtl=Xe()==="rtl",ke()}function Y(n){e.cols=Math.floor(n)}r.increaseItem(ne),je(()=>{e.rtl=Xe()==="rtl"}),Ge(()=>{r.responsive&&r.lastBreakpoint?e.cols=ze(r.lastBreakpoint,r.cols):e.cols=r.colNum,e.rowHeight=r.rowHeight,e.containerWidth=r.width!==null?r.width:100,e.margin=r.margin!==void 0?r.margin.map(Number):[10,10],e.maxRows=r.maxRows,M(t.isDraggable)?e.draggable=r.isDraggable:e.draggable=t.isDraggable,M(t.isResizable)?e.resizable=r.isResizable:e.resizable=t.isResizable,M(t.isBounded)?e.bounded=r.isBounded:e.bounded=t.isBounded,e.transformScale=r.transformScale,e.useCssTransforms=r.useCssTransforms,e.useStyleCursor=r.useStyleCursor,st(()=>{S=t.x,E=t.y,L=t.h,B=t.w,R(V)}),u.on("updateWidth",J),u.on("compact",se),u.on("setDraggable",l),u.on("setResizable",v),u.on("setBounded",p),u.on("setTransformScale",H),u.on("setRowHeight",C),u.on("setMaxRows",N),u.on("directionchange",c),u.on("setColNum",Y)}),Pe(()=>{u.off("updateWidth",J),u.off("compact",se),u.off("setDraggable",l),u.off("setResizable",v),u.off("setBounded",p),u.off("setTransformScale",H),u.off("setRowHeight",C),u.off("setMaxRows",N),u.off("directionchange",c),u.off("setColNum",Y),s.value&&(s.value.unset(),s.value=null),r.decreaseItem(ne)}),a({state:e,wrapper:I});const G=navigator.userAgent.toLowerCase().includes("android"),T=ee(()=>e.resizable&&!t.static),w=ee(()=>r.isMirrored?!e.rtl:e.rtl),P=ee(()=>(e.draggable||e.resizable)&&!t.static),O=Mt("item"),tt=ee(()=>({[O.b()]:!0,[O.bm("resizable")]:T.value,[O.bm("static")]:t.static,[O.bm("resizing")]:e.isResizing,[O.bm("dragging")]:e.isDragging,[O.bm("transform")]:e.useCssTransforms,[O.bm("rtl")]:w.value,[O.bm("no-touch")]:G&&P.value})),ce=ee(()=>[O.be("resizer"),w.value&&O.bem("resizer","rtl")].filter(Boolean));b(()=>t.isDraggable,n=>{e.draggable=n}),b(()=>t.static,()=>{R($e),R(q)}),b(()=>e.draggable,()=>{R($e)}),b(()=>t.isResizable,n=>{e.resizable=n}),b(()=>t.isBounded,n=>{e.bounded=n}),b(()=>e.resizable,()=>{R(q)}),b(()=>e.rowHeight,()=>{R(V),R(me)}),b([()=>e.cols,()=>e.containerWidth],()=>{R(q),R(V),R(me)}),b([()=>t.minH,()=>t.maxH,()=>t.minW,()=>t.maxW],()=>{R(q)}),b(w,()=>{R(q),R(V)}),b([()=>r.margin,()=>r.margin[0],()=>r.margin[1]],()=>{const n=r.margin;!n||n[0]===e.margin[0]&&n[1]===e.margin[1]||(e.margin=n.map(Number),R(V),R(me))});function V(){t.x+t.w>e.cols?(S=0,B=t.w>e.cols?e.cols:t.w):(S=t.x,B=t.w);const n=U(S,E,B,L);e.isDragging&&(n.top=e.dragging.top,w.value?n.right=e.dragging.left:n.left=e.dragging.left),e.isResizing&&(n.width=e.resizing.width,n.height=e.resizing.height);let d;e.useCssTransforms?w.value?d=Rt(n.top,n.right,n.width,n.height):d=Bt(n.top,n.left,n.width,n.height):w.value?d=Nt(n.top,n.right,n.width,n.height):d=Ct(n.top,n.left,n.width,n.height),e.style=d}function me(){const n={};for(const d of["width","height"]){const h=e.style[d].match(/^(\d+)px$/);if(!h)return;n[d]=h[1]}o("container-resized",t.i,t.h,t.w,n.height,n.width)}function Se(n){if(t.static)return;const d=n.type;if(d==="resizestart"&&e.isResizing||d!=="resizestart"&&!e.isResizing)return;const h=Ae(n);if(M(h))return;const{x:y,y:x}=h,m={width:0,height:0};let g;switch(d){case"resizestart":{q(),ie=B,ae=L,g=U(S,E,B,L),m.width=g.width,m.height=g.height,e.resizing=m,e.isResizing=!0;break}case"resizemove":{const k=Fe(A,$,y,x);w.value?m.width=e.resizing.width-k.deltaX/e.transformScale:m.width=e.resizing.width+k.deltaX/e.transformScale,m.height=e.resizing.height+k.deltaY/e.transformScale,e.resizing=m;break}case"resizeend":{g=U(S,E,B,L),m.width=g.width,m.height=g.height,e.resizing={width:-1,height:-1},e.isResizing=!1;break}}g=rt(m.height,m.width),g.w<t.minW&&(g.w=t.minW),g.w>t.maxW&&(g.w=t.maxW),g.h<t.minH&&(g.h=t.minH),g.h>t.maxH&&(g.h=t.maxH),g.h<1&&(g.h=1),g.w<1&&(g.w=1),A=y,$=x,(B!==g.w||L!==g.h)&&o("resize",t.i,g.h,g.w,m.height,m.width),n.type==="resizeend"&&(ie!==B||ae!==L)&&o("resized",t.i,g.h,g.w,m.height,m.width),u.emit("resizeEvent",n.type,t.i,S,E,g.h,g.w)}function Be(n){if(t.static||e.isResizing)return;const d=n.type;if(d==="dragstart"&&e.isDragging||d!=="dragstart"&&!e.isDragging)return;const h=Ae(n);if(M(h))return;const{x:y,y:x}=h,m=n.target;if(!m.offsetParent)return;const g={top:0,left:0};switch(d){case"dragstart":{oe=S,F=E;const W=m.offsetParent.getBoundingClientRect(),X=m.getBoundingClientRect(),Q=X.left/e.transformScale,Z=W.left/e.transformScale,fe=X.right/e.transformScale,he=W.right/e.transformScale,pe=X.top/e.transformScale,ye=W.top/e.transformScale;w.value?g.left=(fe-he)*-1:g.left=Q-Z,g.top=pe-ye,e.dragging=g,e.isDragging=!0;break}case"dragmove":{const W=Fe(f,_,y,x);if(w.value?g.left=e.dragging.left-W.deltaX/e.transformScale:g.left=e.dragging.left+W.deltaX/e.transformScale,g.top=e.dragging.top+W.deltaY/e.transformScale,e.bounded){const X=m.offsetParent.clientHeight-Ce(t.h,e.rowHeight,e.margin[1]);g.top=Ne(g.top,0,X);const Q=le(),Z=e.containerWidth-Ce(t.w,Q,e.margin[0]);g.left=Ne(g.left,0,Z)}e.dragging=g;break}case"dragend":{const W=m.offsetParent.getBoundingClientRect(),X=m.getBoundingClientRect(),Q=X.left/e.transformScale,Z=W.left/e.transformScale,fe=X.right/e.transformScale,he=W.right/e.transformScale,pe=X.top/e.transformScale,ye=W.top/e.transformScale;w.value?g.left=(fe-he)*-1:g.left=Q-Z,g.top=pe-ye,e.dragging={top:-1,left:-1},e.isDragging=!1;break}}let k;w.value,k=Re(g.top,g.left),f=y,_=x,(S!==k.x||E!==k.y)&&o("move",t.i,k.x,k.y),n.type==="dragend"&&(oe!==S||F!==E)&&o("moved",t.i,k.x,k.y),u.emit("dragEvent",n.type,t.i,k.x,k.y,L,B)}function U(n,d,h,y){const x=le();let m;return w.value?m={right:Math.round(x*n+(n+1)*e.margin[0]),top:Math.round(e.rowHeight*d+(d+1)*e.margin[1]),width:h===1/0?h:Math.round(x*h+Math.max(0,h-1)*e.margin[0]),height:y===1/0?y:Math.round(e.rowHeight*y+Math.max(0,y-1)*e.margin[1])}:m={left:Math.round(x*n+(n+1)*e.margin[0]),top:Math.round(e.rowHeight*d+(d+1)*e.margin[1]),width:h===1/0?h:Math.round(x*h+Math.max(0,h-1)*e.margin[0]),height:y===1/0?y:Math.round(e.rowHeight*y+Math.max(0,y-1)*e.margin[1])},m}function Re(n,d){const h=le();let y=Math.round((d-e.margin[0])/(h+e.margin[0])),x=Math.round((n-e.margin[1])/(e.rowHeight+e.margin[1]));return y=Math.max(Math.min(y,e.cols-B),0),x=Math.max(Math.min(x,e.maxRows-L),0),{x:y,y:x}}function le(){return(e.containerWidth-e.margin[0]*(e.cols+1))/e.cols}function Ce(n,d,h){return Number.isFinite(n)?Math.round(d*n+Math.max(0,n-1)*h):n}function Ne(n,d,h){return Math.max(Math.min(n,h),d)}function rt(n,d,h=!1){const y=le();let x=Math.round((d+e.margin[0])/(y+e.margin[0])),m=0;return h?m=Math.ceil((n+e.margin[1])/(e.rowHeight+e.margin[1])):m=Math.round((n+e.margin[1])/(e.rowHeight+e.margin[1])),x=Math.max(Math.min(x,e.cols-S),0),m=Math.max(Math.min(m,e.maxRows-E),0),{w:x,h:m}}function it(n,d){e.containerWidth=n,d!=null&&(e.cols=d)}function ke(){V()}function Me(){!s.value&&I.value&&(s.value=We(I.value),e.useStyleCursor||s.value.styleCursor(!1))}const at=Te(Be);function $e(){if(Me(),!!s.value)if(e.draggable&&!t.static){const n={ignoreFrom:t.dragIgnoreFrom,allowFrom:t.dragAllowFrom,...t.dragOption};s.value.draggable(n),z||(z=!0,s.value.on("dragstart dragmove dragend",d=>{d.type==="dragmove"?at(d):Be(d)}))}else s.value.draggable({enabled:!1})}const ot=Te(Se);function q(){if(Me(),!!s.value)if(e.resizable&&!t.static){const n=U(0,0,t.maxW,t.maxH),d=U(0,0,t.minW,t.minH),h={edges:{left:!1,right:`.${ce.value[0]}`,bottom:`.${ce.value[0]}`,top:!1},ignoreFrom:t.resizeIgnoreFrom,restrictSize:{min:{height:d.height*e.transformScale,width:d.width*e.transformScale},max:{height:n.height*e.transformScale,width:n.width*e.transformScale}},...t.resizeOption};t.preserveAspectRatio&&(h.modifiers=[We.modifiers.aspectRatio({ratio:"preserve"})]),s.value.resizable(h),D||(D=!0,s.value.on("resizestart resizemove resizeend",y=>{y.type==="resizemove"?ot(y):Se(y)}))}else s.value.resizable({enabled:!1})}return(n,d)=>(te(),de("section",{ref_key:"wrapper",ref:I,class:He(ve(tt)),style:Ve(e.style)},[be(n.$slots,"default"),ve(T)?(te(),de("span",{key:0,class:He(ve(ce))},null,2)):lt("",!0)],6))}}),At=Ye({__name:"grid-layout",props:{autoSize:{type:Boolean,default:!0},colNum:{type:Number,default:12},rowHeight:{type:Number,default:150},maxRows:{type:Number,default:1/0},margin:{type:Array,default:()=>[10,10]},isDraggable:{type:Boolean,default:!0},isResizable:{type:Boolean,default:!0},isMirrored:{type:Boolean,default:!1},isBounded:{type:Boolean,default:!1},useCssTransforms:{type:Boolean,default:!0},verticalCompact:{type:Boolean,default:!0},restoreOnDrag:{type:Boolean,default:!1},layout:{type:Array,required:!0},responsive:{type:Boolean,default:!1},responsiveLayouts:{type:Object,default:()=>({})},transformScale:{type:Number,default:1},breakpoints:{type:Object,default:()=>({lg:1200,md:996,sm:768,xs:480,xxs:0})},cols:{type:Object,default:()=>({lg:12,md:10,sm:6,xs:4,xxs:2})},preventCollision:{type:Boolean,default:!1},useStyleCursor:{type:Boolean,default:!0}},emits:["layout-before-mount","layout-mounted","layout-updated","breakpoint-changed","update:layout","layout-ready"],setup(i,{expose:a,emit:o}){const t=i,r=ge({width:-1,mergedStyle:{},lastLayoutLength:0,isDragging:!1,placeholder:{x:0,y:0,w:0,h:0,i:""},layouts:{},lastBreakpoint:null,originalLayout:null}),u=new Map,s=ue(t.layout),e=ue(),{observeResize:z,unobserveResize:D}=vt(),f=bt();f.on("resizeEvent",_),f.on("dragEvent",A),je(()=>{o("layout-before-mount",s.value)}),Ge(()=>{o("layout-mounted",s.value),j(()=>{kt(s.value),r.originalLayout=s.value,j(()=>{J(),e.value&&z(e.value,yt(S,16)),K(s.value,t.verticalCompact),o("layout-updated",s.value),F(),S()})})}),Pe(()=>{f.clearAll(),e.value&&D(e.value)});function _(l,v,p,H,C,N){I(l,v,p,H,C,N)}function A(l,v,p,H,C,N){L(l,v,p,H,C,N)}b(()=>r.width,(l,v)=>{j(()=>{f.emit("updateWidth",l),v===-1&&j(()=>{o("layout-ready",s.value)}),F()})}),b(()=>[t.layout,t.layout.length],()=>{s.value=t.layout,oe()}),b(()=>t.colNum,l=>{f.emit("setColNum",l)}),b(()=>t.rowHeight,l=>{f.emit("setRowHeight",l)}),b(()=>t.isDraggable,l=>{f.emit("setDraggable",l)}),b(()=>t.isResizable,l=>{f.emit("setResizable",l)}),b(()=>t.isBounded,l=>{f.emit("setBounded",l)}),b(()=>t.transformScale,l=>{f.emit("setTransformScale",l)}),b(()=>t.responsive,l=>{l||(o("update:layout",r.originalLayout),f.emit("setColNum",t.colNum)),S()}),b(()=>t.maxRows,l=>{f.emit("setMaxRows",l)}),b([()=>t.margin,()=>t.margin[1]],F),De(qe,ge({...Ee(t),...Ee(r),increaseItem:$,decreaseItem:ie})),De(Ke,f),a({state:r,getItem:ae,resizeEvent:I,dragEvent:L});function $(l){u.set(l.i,l)}function ie(l){u.delete(l.i)}function ae(l){return u.get(l)}function oe(){if(!M(s.value)&&!M(r.originalLayout)){if(s.value.length!==r.originalLayout.length){const l=se(s.value,r.originalLayout);if(l.length>0)if(s.value.length>r.originalLayout.length)r.originalLayout=r.originalLayout.concat(l);else{const v=new Set(l.map(p=>p.i));r.originalLayout=r.originalLayout.filter(p=>!v.has(p.i))}r.lastLayoutLength=s.value.length,J()}K(s.value,t.verticalCompact),f.emit("updateWidth",r.width),F(),o("layout-updated",s.value)}}function F(){r.mergedStyle={height:E()}}function S(){e.value&&(r.width=e.value.offsetWidth),f.emit("resizeEvent")}function E(){if(!t.autoSize)return;const l=parseFloat(t.margin[1]);return wt(s.value)*(t.rowHeight+l)+l+"px"}let B;function L(l,v,p,H,C,N){let c=_e(s.value,v);M(c)&&(c={h:0,w:0,x:0,y:0,i:""}),l==="dragstart"&&!t.verticalCompact&&(B=s.value.reduce((Y,{i:G,x:T,y:w})=>({...Y,[G]:{x:T,y:w}}),{})),l==="dragmove"||l==="dragstart"?(r.placeholder.i=v,r.placeholder.x=c.x,r.placeholder.y=c.y,r.placeholder.w=N,r.placeholder.h=C,j(()=>{r.isDragging=!0}),f.emit("updateWidth",r.width)):j(()=>{r.isDragging=!1}),s.value=xe(s.value,c,p,H,!0,t.preventCollision),t.restoreOnDrag?(c.static=!0,K(s.value,t.verticalCompact,B),c.static=!1):K(s.value,t.verticalCompact),f.emit("compact"),F(),l==="dragend"&&(B=void 0,o("layout-updated",s.value))}function I(l,v,p,H,C,N){let c=_e(s.value,v);M(c)&&(c={h:0,w:0,x:0,y:0,i:""});let Y;if(t.preventCollision){const G=Ue(s.value,{...c,w:N,h:C}).filter(T=>T.i!==c.i);if(Y=G.length>0,Y){let T=1/0,w=1/0;G.forEach(P=>{P.x>c.x&&(T=Math.min(T,P.x)),P.y>c.y&&(w=Math.min(w,P.y))}),Number.isFinite(T)&&(c.w=T-c.x),Number.isFinite(w)&&(c.h=w-c.y)}}Y||(c.w=N,c.h=C),l==="resizestart"||l==="resizemove"?(r.placeholder.i=v,r.placeholder.x=p,r.placeholder.y=H,r.placeholder.w=c.w,r.placeholder.h=c.h,j(()=>{r.isDragging=!0}),f.emit("updateWidth",r.width)):j(()=>{r.isDragging=!1}),t.responsive&&ne(),K(s.value,t.verticalCompact),f.emit("compact"),F(),l==="resizeend"&&o("layout-updated",s.value)}function ne(){const l=Ht(t.breakpoints,r.width),v=ze(l,t.cols);!M(r.lastBreakpoint)&&!r.layouts[r.lastBreakpoint]&&(r.layouts[r.lastBreakpoint]=we(s.value));const p=Dt(r.originalLayout,r.layouts,t.breakpoints,l,r.lastBreakpoint,v,t.verticalCompact);r.layouts[l]=p,r.lastBreakpoint!==l&&o("breakpoint-changed",l,p),o("update:layout",p),r.lastBreakpoint=l,f.emit("setColNum",ze(l,t.cols))}function J(){r.layouts=Object.assign({},t.responsiveLayouts)}function se(l,v){const p=new Set(v.map(c=>c.i)),H=new Set(l.map(c=>c.i)),C=l.filter(c=>!p.has(c.i)),N=v.filter(c=>!H.has(c.i));return C.concat(N)}return(l,v)=>(te(),de("div",{ref_key:"wrapper",ref:e,class:"vgl-layout",style:Ve(r.mergedStyle)},[l.$slots.default?be(l.$slots,"default",{key:0}):(te(!0),de(ut,{key:1},gt(s.value,p=>(te(),dt(Ie,mt({key:p.i},p),{default:ct(()=>[be(l.$slots,"item",{item:p})]),_:2},1040))),128)),ft(pt(Ie,{class:"vgl-item--placeholder",x:r.placeholder.x,y:r.placeholder.y,w:r.placeholder.w,h:r.placeholder.h,i:r.placeholder.i},null,8,["x","y","w","h","i"]),[[ht,r.isDragging]])],4))}});(function(){try{if(typeof document<"u"){var i=document.createElement("style");i.appendChild(document.createTextNode('.vgl-layout{--vgl-placeholder-bg: red;--vgl-placeholder-opacity: 20%;--vgl-placeholder-z-index: 2;--vgl-item-resizing-z-index: 3;--vgl-item-resizing-opacity: 60%;--vgl-item-dragging-z-index: 3;--vgl-item-dragging-opacity: 100%;--vgl-resizer-size: 10px;--vgl-resizer-border-color: #444;--vgl-resizer-border-width: 2px;position:relative;box-sizing:border-box;transition:height .2s ease}.vgl-item{position:absolute;box-sizing:border-box;transition:.2s ease;transition-property:left,top,right}.vgl-item--placeholder{z-index:var(--vgl-placeholder-z-index, 2);-webkit-user-select:none;-moz-user-select:none;user-select:none;background-color:var(--vgl-placeholder-bg, red);opacity:var(--vgl-placeholder-opacity, 20%);transition-duration:.1s}.vgl-item--no-touch{touch-action:none}.vgl-item--transform{right:auto;left:0;transition-property:transform}.vgl-item--transform.vgl-item--rtl{right:0;left:auto}.vgl-item--resizing{z-index:var(--vgl-item-resizing-z-index, 3);-webkit-user-select:none;-moz-user-select:none;user-select:none;opacity:var(--vgl-item-resizing-opacity, 60%)}.vgl-item--dragging{z-index:var(--vgl-item-dragging-z-index, 3);-webkit-user-select:none;-moz-user-select:none;user-select:none;opacity:var(--vgl-item-dragging-opacity, 100%);transition:none}.vgl-item__resizer{position:absolute;right:0;bottom:0;box-sizing:border-box;width:var(--vgl-resizer-size);height:var(--vgl-resizer-size);cursor:se-resize}.vgl-item__resizer:before{position:absolute;inset:0 3px 3px 0;content:"";border:0 solid var(--vgl-resizer-border-color);border-right-width:var(--vgl-resizer-border-width);border-bottom-width:var(--vgl-resizer-border-width)}.vgl-item__resizer--rtl{right:auto;left:0;cursor:sw-resize}.vgl-item__resizer--rtl:before{inset:0 0 3px 3px;border-right-width:0;border-bottom-width:var(--vgl-resizer-border-width);border-left-width:var(--vgl-resizer-border-width)}')),document.head.appendChild(i)}}catch(a){console.error("vite-plugin-css-injected-by-js",a)}})();export{At as S,Ie as o};
