import{S as x,P as S,W as C,d as M,e as b,a as h,f as v,h as A,D as y,g as D,A as G,O as H}from"./three-3JAPmQp7.js";import{d as P,b as k,i as L,o as W,c as B,a as E}from"./@vue-TgkIvK3c.js";import{_ as z}from"./plugin-vueexport-helper-x3n3nnut.js";const I={class:"three"},O={name:"Demo"},j=P({...O,setup(q){const e={scene:null,camera:null,renderder:null,cube:null,controller:null,material:null},s=k(),p=()=>{const a=s.value;e.scene=new x,e.camera=new S(75,window.innerWidth/window.innerHeight,.1,2e3),e.camera.position.set(2,2,5),e.camera.lookAt(0,0,0),e.renderder=new C({antialias:!0}),e.renderder.shadowMap.enabled=!0,e.renderder.setSize(a.offsetWidth,a.offsetHeight),w(),u(),f(),a.appendChild(e.renderder.domElement),e.renderder.render(e.scene,e.camera),d()},w=()=>{var c,i,l,m;const a=new M(1,32,32),n=new b({}),o=new h(a,n);o.position.set(0,0,0),o.castShadow=!0,(c=e.scene)==null||c.add(o);const _=new v(10,10),t=new h(_,n);t.position.set(0,-1,0),t.rotation.x=-Math.PI/2,t.receiveShadow=!0,(i=e.scene)==null||i.add(t);const g=new A(16777215,1);(l=e.scene)==null||l.add(g);const r=new y(16777215,1);r.position.set(10,10,10),r.shadow.radius=20,r.shadow.mapSize.set(2048,2048),r.castShadow=!0,r.shadow.camera.near=.5,r.shadow.camera.far=500,r.shadow.camera.left=-5,r.shadow.camera.right=5,r.shadow.camera.top=5,r.shadow.camera.bottom=-5,(m=e.scene)==null||m.add(r),new D().add(r.shadow.camera,"near").min(0).max(32).step(.01).name("阴影相机 near").onChange(()=>{r.shadow.camera.updateProjectionMatrix()})},u=()=>{var n;const a=new G(10);(n=e.scene)==null||n.add(a)},f=()=>{var a;e.controller=new H(e.camera,(a=e.renderder)==null?void 0:a.domElement)},d=()=>{var a,n;(a=e.controller)==null||a.update(),(n=e.renderder)==null||n.render(e.scene,e.camera),requestAnimationFrame(d)};return L(()=>{p()}),(a,n)=>(W(),B("div",I,[E("div",{class:"three-demo",ref_key:"threeDemo",ref:s},null,512)]))}}),V=z(j,[["__scopeId","data-v-6ac9da3d"]]);export{V as default};
