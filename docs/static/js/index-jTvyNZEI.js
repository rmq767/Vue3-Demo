import{S as L}from"./四川省1-CnqJjG9t.js";import{s as x,k as P,U as O,d as S,c as B,o as I}from"./@vue-AhIeOBdH.js";import{p as N,s as M}from"./@turf-Bfw5sV2K.js";import{_ as H}from"./plugin-vueexport-helper-DlAUqK2U.js";const F=s=>{const e=x(),a=async()=>{e.value=new Cesium.Viewer(s,{geocoder:!1,sceneModePicker:!1,baseLayerPicker:!1,navigationHelpButton:!1,homeButton:!1,animation:!1,fullscreenButton:!1,timeline:!1,scene3DOnly:!0,infoBox:!1,shadows:!1,requestRenderMode:!0,sceneMode:Cesium.SceneMode.SCENE3D,selectionIndicator:!1}),e.value.scene.verticalExaggeration=1,e.value.scene.verticalExaggerationRelativeHeight=.1,e.value.cesiumWidget.creditContainer.style.display="none",c(),u(),U(e.value),W(e.value)};P(()=>{a(),R()}),O(()=>{e.value.destroy()});const l=()=>{var n;const i=Cesium.Cartesian3.fromDegrees(103.61,31,0);(n=e.value)==null||n.entities.add({name:"box",position:i,box:{dimensions:new Cesium.Cartesian3(20,20,20),material:Cesium.Color.BLUE.withAlpha(.8),heightReference:Cesium.HeightReference.CLAMP_TO_GROUND,outline:!0,outlineColor:Cesium.Color.BLACK}})},c=()=>{var n;const i=Cesium.Cartesian3.fromDegrees(103.61,31.01,0);(n=e.value)==null||n.entities.add({name:"label",position:i,label:{scaleByDistance:new Cesium.NearFarScalar(150,1,15e4,.5),text:"Hello, Cesium!",font:"24px sans-serif",fillColor:Cesium.Color.BLACK,outlineColor:Cesium.Color.WHITE,outlineWidth:2,style:Cesium.LabelStyle.FILL_AND_OUTLINE,heightReference:Cesium.HeightReference.CLAMP_TO_GROUND}})},u=()=>{var n;const i=Cesium.Cartesian3.fromDegrees(103.61,31.02,0);(n=e.value)==null||n.entities.add({name:"billboard",position:i,billboard:{scale:.1,scaleByDistance:new Cesium.NearFarScalar(1e3,1,1e6,.1),image:"https://fuss10.elemecdn.com/a/3f/3302e58f9a181d2509f3dc0fa68b0jpeg.jpeg",heightReference:Cesium.HeightReference.CLAMP_TO_GROUND}})},R=()=>{var p,h,D;const i=Cesium.JulianDate.fromDate(new Date(2015,2,25,16)),n=8,m=Cesium.JulianDate.addSeconds(i,n,new Cesium.JulianDate);e.value.clock.startTime=i.clone(),e.value.clock.stopTime=m.clone(),e.value.clock.currentTime=i.clone(),e.value.clock.multiplier=1,e.value.clock.clockRange=Cesium.ClockRange.LOOP_STOP,e.value.clock.shouldAnimate=!0,(p=e.value.timeline)==null||p.zoomTo(i,m);const r=[0,1,2,3,4,5,6,7,8],f=r[0],d=r[r.length-1],y=d-f,T=Cesium.Cartesian3.fromDegrees(103.62,30.98,6200.01),t=[Cesium.Cartesian3.fromDegrees(103.62,30.98,6200.01),Cesium.Cartesian3.fromDegrees(103.63,31,6170.9),Cesium.Cartesian3.fromDegrees(103.62,31.01,6170.6),Cesium.Cartesian3.fromDegrees(103.62,31.02,6250.36),Cesium.Cartesian3.fromDegrees(103.61,31.02,6270.82),Cesium.Cartesian3.fromDegrees(103.6,31.01,6250.54),Cesium.Cartesian3.fromDegrees(103.58,31,6280.9),Cesium.Cartesian3.fromDegrees(103.58,30.99,6380.81),Cesium.Cartesian3.fromDegrees(103.6,30.99,6430.31)],_=Cesium.Cartesian3.fromDegrees(103.61,31,6430.31),v=Cesium.Cartesian3.subtract(t[0],T,new Cesium.Cartesian3),b=Cesium.Cartesian3.subtract(_,t[8],new Cesium.Cartesian3),w=new Cesium.CatmullRomSpline({times:r,points:t,firstTangent:v,lastTangent:b}),g=new Cesium.CallbackPositionProperty(function(o,E){const C=y*Cesium.JulianDate.secondsDifference(o,i)/n;if(!(C<f||C>d))return w.evaluate(C,E)},!1),k=new Cesium.VelocityOrientationProperty(g);for(let o=0;o<t.length;++o)(h=e.value)==null||h.entities.add({position:t[o],point:{pixelSize:8,color:Cesium.Color.TRANSPARENT,outlineColor:Cesium.Color.YELLOW,outlineWidth:3,heightReference:Cesium.HeightReference.RELATIVE_TO_TERRAIN}});const A=(D=e.value)==null?void 0:D.entities.add({availability:new Cesium.TimeIntervalCollection([new Cesium.TimeInterval({start:i,stop:m})]),position:g,orientation:k,point:{pixelSize:10,color:Cesium.Color.RED,heightReference:Cesium.HeightReference.RELATIVE_TO_TERRAIN},trackingReferenceFrame:Cesium.TrackingReferenceFrame.INERTIAL,viewFrom:new Cesium.Cartesian3(-100,0,10)});e.value.trackedEntity=A};return{viewer:e,initBox:l}};async function U(s){s.scene.sun.show=!1,s.scene.moon.show=!1,s.scene.skyBox.show=!1,s.scene.fog.enabled=!1,s.scene.skyAtmosphere.show=!1;const e=await Cesium.createWorldTerrainAsync({requestVertexNormals:!0,requestWaterMask:!1});s.terrainProvider=e,s.scene.globe.depthTestAgainstTerrain=!0}function W(s){const e=L.features[0].geometry.coordinates[0],a=N(e),l=M(a,{tolerance:.05,highQuality:!0}),c=new Cesium.ClippingPolygon({positions:Cesium.Cartesian3.fromDegreesArray(l.geometry.coordinates[0].flat())});s.scene.globe.clippingPolygons=new Cesium.ClippingPolygonCollection({polygons:[c],inverse:!0});const u=-25*Math.PI/180;s.camera.setView({destination:Cesium.Cartesian3.fromDegrees(103.6,30.97,3e3),orientation:{heading:0,pitch:u,roll:0}})}const V={id:"cesiumContainer"},J={name:"Cesium"},j=S({...J,setup(s){return F("cesiumContainer"),(e,a)=>(I(),B("div",V))}}),Q=H(j,[["__scopeId","data-v-6388d773"]]);export{Q as default};
